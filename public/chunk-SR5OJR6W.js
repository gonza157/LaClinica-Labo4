import{a as oe,b as ce,g as yr,h as _}from"./chunk-FJYW2LMB.js";function go(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Vn=go(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function J(t){return typeof t=="function"}var lu=go(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function si(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){e=o instanceof lu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{mw(o)}catch(s){e=e??[],s instanceof lu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new lu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)mw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&si(n,e)}remove(e){let{_finalizers:n}=this;n&&si(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var jf=ke.EMPTY;function du(t){return t instanceof ke||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function mw(t){J(t)?t():t.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mo={setTimeout(t,e,...n){let{delegate:r}=mo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=mo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hu(t){mo.setTimeout(()=>{let{onUnhandledError:e}=Qt;if(e)e(t);else throw t})}function Ks(){}var yw=Bf("C",void 0,void 0);function vw(t){return Bf("E",void 0,t)}function _w(t){return Bf("N",t,void 0)}function Bf(t,e,n){return{kind:t,value:e,error:n}}var ai=null;function yo(t){if(Qt.useDeprecatedSynchronousErrorHandling){let e=!ai;if(e&&(ai={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ai;if(ai=null,n)throw r}}else t()}function Ew(t){Qt.useDeprecatedSynchronousErrorHandling&&ai&&(ai.errorThrown=!0,ai.error=t)}var ci=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,du(e)&&e.add(this)):this.destination=dP}static create(e,n,r){return new Yt(e,n,r)}next(e){this.isStopped?$f(_w(e),this):this._next(e)}error(e){this.isStopped?$f(vw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$f(yw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},uP=Function.prototype.bind;function Uf(t,e){return uP.call(t,e)}var Hf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fu(r)}else fu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fu(n)}}},Yt=class extends ci{constructor(e,n,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Qt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Uf(e.next,o),error:e.error&&Uf(e.error,o),complete:e.complete&&Uf(e.complete,o)}):i=e}this.destination=new Hf(i)}};function fu(t){Qt.useDeprecatedSynchronousErrorHandling?Ew(t):hu(t)}function lP(t){throw t}function $f(t,e){let{onStoppedNotification:n}=Qt;n&&mo.setTimeout(()=>n(t,e))}var dP={closed:!0,next:Ks,error:lP,complete:Ks};function hP(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Yt({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Vn)}});t.subscribe(o)})}var vo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pt(t){return t}function Iw(...t){return qf(t)}function qf(t){return t.length===0?pt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=pP(n)?n:new Yt(n,r,i);return yo(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ww(r),new r((i,o)=>{let s=new Yt({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[vo](){return this}pipe(...n){return qf(n)(this)}toPromise(n){return n=ww(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ww(t){var e;return(e=t??Qt.Promise)!==null&&e!==void 0?e:Promise}function fP(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function pP(t){return t&&t instanceof ci||fP(t)&&du(t)}function zf(t){return J(t?.lift)}function W(t){return e=>{if(zf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(t,e,n,r,i){return new Gf(t,e,n,r,i)}var Gf=class extends ci{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Wf(){return W((t,e)=>{let n=null;t._refCount++;let r=z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Kf=class extends Q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,zf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let n=this.getSubject();e.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Wf()(this)}};var Dw=go(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new pu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Dw}next(n){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){yo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jf:(this.currentObservers=null,o.push(n),new ke(()=>{this.currentObservers=null,si(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Q;return n.source=this,n}}return t.create=(e,n)=>new pu(e,n),t})(),pu=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:jf}};var Qs=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ys={now(){return(Ys.delegate||Date).now()},delegate:void 0};var Zs=class extends rt{constructor(e=1/0,n=1/0,r=Ys){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),c=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)c=u;c&&r.splice(0,c+1)}}};var gu=class extends ke{constructor(e,n){super()}schedule(e,n=0){return this}};var Js={setInterval(t,e,...n){let{delegate:r}=Js;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Js;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var _o=class extends gu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Js.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Js.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,si(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Eo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Eo.now=Ys.now;var Io=class extends Eo{constructor(e,n=Eo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var vr=new Io(_o),Qf=vr;var mu=class extends _o{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var yu=class extends Io{};var Yf=new yu(mu);var ui=new Q(t=>t.complete());function vu(t){return t&&J(t.schedule)}function Zf(t){return t[t.length-1]}function _u(t){return J(Zf(t))?t.pop():void 0}function gn(t){return vu(Zf(t))?t.pop():void 0}function Tw(t,e){return typeof Zf(t)=="number"?t.pop():e}function Jf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function Cw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function li(t){return this instanceof li?(this.v=t,this):new li(t)}function Aw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function c(y,b){r[y]&&(i[y]=function(N){return new Promise(function(R,k){o.push([y,N,R,k])>1||u(y,N)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof li?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Sw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Cw=="function"?Cw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Eu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Iu(t){return J(t?.then)}function wu(t){return J(t[vo])}function Du(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function Tu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function gP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cu=gP();function bu(t){return J(t?.[Cu])}function Au(t){return Aw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield li(n.read());if(i)return yield li(void 0);yield yield li(r)}}finally{n.releaseLock()}})}function Su(t){return J(t?.getReader)}function ye(t){if(t instanceof Q)return t;if(t!=null){if(wu(t))return mP(t);if(Eu(t))return yP(t);if(Iu(t))return vP(t);if(Du(t))return Nw(t);if(bu(t))return _P(t);if(Su(t))return EP(t)}throw Tu(t)}function mP(t){return new Q(e=>{let n=t[vo]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yP(t){return new Q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function vP(t){return new Q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hu)})}function _P(t){return new Q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Nw(t){return new Q(e=>{IP(t,e).catch(n=>e.error(n))})}function EP(t){return Nw(Au(t))}function IP(t,e){var n,r,i,o;return bw(this,void 0,void 0,function*(){try{for(n=Sw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function _r(t,e=0){return W((n,r)=>{n.subscribe(z(r,i=>vt(r,t,()=>r.next(i),e),()=>vt(r,t,()=>r.complete(),e),i=>vt(r,t,()=>r.error(i),e)))})}function Er(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Rw(t,e){return ye(t).pipe(Er(e),_r(e))}function Mw(t,e){return ye(t).pipe(Er(e),_r(e))}function Pw(t,e){return new Q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function xw(t,e){return new Q(n=>{let r;return vt(n,e,()=>{r=t[Cu](),vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function Nu(t,e){if(!t)throw new Error("Iterable cannot be null");return new Q(n=>{vt(n,e,()=>{let r=t[Symbol.asyncIterator]();vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function kw(t,e){return Nu(Au(t),e)}function Ow(t,e){if(t!=null){if(wu(t))return Rw(t,e);if(Eu(t))return Pw(t,e);if(Iu(t))return Mw(t,e);if(Du(t))return Nu(t,e);if(bu(t))return xw(t,e);if(Su(t))return kw(t,e)}throw Tu(t)}function _t(t,e){return e?Ow(t,e):ye(t)}function Fw(...t){let e=gn(t);return _t(t,e)}function wP(t,e){let n=J(t)?t:()=>t,r=i=>i.error(n());return new Q(e?i=>e.schedule(r,0,i):r)}function DP(t){return!!t&&(t instanceof Q||J(t.lift)&&J(t.subscribe))}function Lw(t){return t instanceof Date&&!isNaN(t)}function Et(t,e){return W((n,r)=>{let i=0;n.subscribe(z(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:TP}=Array;function CP(t,e){return TP(e)?t(...e):t(e)}function Ru(t){return Et(e=>CP(t,e))}var{isArray:bP}=Array,{getPrototypeOf:AP,prototype:SP,keys:NP}=Object;function Mu(t){if(t.length===1){let e=t[0];if(bP(e))return{args:e,keys:null};if(RP(e)){let n=NP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function RP(t){return t&&typeof t=="object"&&AP(t)===SP}function Pu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function MP(...t){let e=gn(t),n=_u(t),{args:r,keys:i}=Mu(t);if(r.length===0)return _t([],e);let o=new Q(PP(r,e,i?s=>Pu(i,s):pt));return n?o.pipe(Ru(n)):o}function PP(t,e,n=pt){return r=>{Vw(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)Vw(e,()=>{let l=_t(t[u],e),h=!1;l.subscribe(z(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Vw(t,e,n){t?vt(n,t,e):e()}function jw(t,e,n,r,i,o,s,c){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?b(N):u.push(N),b=N=>{o&&e.next(N),l++;let R=!1;ye(n(N,h++)).subscribe(z(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();s?vt(e,s,()=>b(k)):b(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(z(e,y,()=>{p=!0,m()})),()=>{c?.()}}function di(t,e,n=1/0){return J(e)?di((r,i)=>Et((o,s)=>e(r,o,i,s))(ye(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>jw(r,i,t,n)))}function Xs(t=1/0){return di(pt,t)}function Bw(){return Xs(1)}function xu(...t){return Bw()(_t(t,gn(t)))}function xP(t){return new Q(e=>{ye(t()).subscribe(e)})}function Xf(...t){let e=_u(t),{args:n,keys:r}=Mu(t),i=new Q(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ye(n[h]).subscribe(z(o,m=>{p||(p=!0,l--),c[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Pu(r,c):c),o.complete())}))}});return e?i.pipe(Ru(e)):i}function Uw(t=0,e,n=Qf){let r=-1;return e!=null&&(vu(e)?n=e:r=e),new Q(i=>{let o=Lw(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function kP(...t){let e=gn(t),n=Tw(t,1/0),r=t;return r.length?r.length===1?ye(r[0]):Xs(n)(_t(r,e)):ui}function Ir(t,e){return W((n,r)=>{let i=0;n.subscribe(z(r,o=>t.call(e,o,i++)&&r.next(o)))})}function $w(t){return W((e,n)=>{let r=!1,i=null,o=null,s=!1,c=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},u=()=>{o=null,s&&n.complete()};e.subscribe(z(n,l=>{r=!0,i=l,o||ye(t(l)).subscribe(o=z(n,c,u))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function OP(t,e=vr){return $w(()=>Uw(t,e))}function Hw(t){return W((e,n)=>{let r=null,i=!1,o;r=e.subscribe(z(n,void 0,void 0,s=>{o=ye(t(s,Hw(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function qw(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(z(s,h=>{let p=l++;u=c?t(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function FP(t,e){return J(e)?di(t,e,1):di(t,1)}function LP(t,e=vr){return W((n,r)=>{let i=null,o=null,s=null,c=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}c()}n.subscribe(z(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function ea(t){return W((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ep(t){return t<=0?()=>ui:W((e,n)=>{let r=0;e.subscribe(z(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function zw(t,e=pt){return t=t??VP,W((n,r)=>{let i,o=!0;n.subscribe(z(r,s=>{let c=e(s);(o||!t(i,c))&&(o=!1,i=c,r.next(s))}))})}function VP(t,e){return t===e}function ku(t=jP){return W((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function jP(){return new Vn}function BP(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function UP(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ir((i,o)=>t(i,o,r)):pt,ep(1),n?ea(e):ku(()=>new Vn))}function tp(t){return t<=0?()=>ui:W((e,n)=>{let r=[];e.subscribe(z(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $P(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ir((i,o)=>t(i,o,r)):pt,tp(1),n?ea(e):ku(()=>new Vn))}function Gw(){return W((t,e)=>{let n,r=!1;t.subscribe(z(e,i=>{let o=n;n=i,r&&e.next([o,i]),r=!0}))})}function Ww(t,e){return W(qw(t,e,arguments.length>=2,!0))}function rp(t={}){let{connector:e=()=>new rt,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,c,u,l=0,h=!1,p=!1,m=()=>{c?.unsubscribe(),c=void 0},y=()=>{m(),s=u=void 0,h=p=!1},b=()=>{let N=s;y(),N?.unsubscribe()};return W((N,R)=>{l++,!p&&!h&&m();let k=u=u??e();R.add(()=>{l--,l===0&&!p&&!h&&(c=np(b,i))}),k.subscribe(R),!s&&l>0&&(s=new Yt({next:H=>k.next(H),error:H=>{p=!0,m(),c=np(y,n,H),k.error(H)},complete:()=>{h=!0,m(),c=np(y,r),k.complete()}}),ye(N).subscribe(s))})(o)}}function np(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Yt({next:()=>{r.unsubscribe(),t()}});return ye(e(...n)).subscribe(r)}function HP(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,rp({connector:()=>new Zs(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function qP(t){return Ir((e,n)=>t<=n)}function Kw(...t){let e=gn(t);return W((n,r)=>{(e?xu(t,n,e):xu(t,n)).subscribe(r)})}function Qw(t,e){return W((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(z(r,u=>{i?.unsubscribe();let l=0,h=o++;ye(t(u,h)).subscribe(i=z(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function zP(t){return W((e,n)=>{ye(t).subscribe(z(n,()=>n.complete(),Ks)),!n.closed&&e.subscribe(n)})}function GP(t,e=!1){return W((n,r)=>{let i=0;n.subscribe(z(r,o=>{let s=t(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}function WP(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(z(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):pt}var ip;function op(){return ip}function jn(t){let e=ip;return ip=t,e}var KP=Symbol("NotFound"),Ou=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function wo(t){return t===KP||t?.name==="\u0275NotFound"}function Bu(t,e){return Object.is(t,e)}var Be=null,Fu=!1,sp=1,QP=null,Ue=Symbol("SIGNAL");function K(t){let e=Be;return Be=t,e}function Uu(){return Be}var wr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hi(t){if(Fu)throw new Error("");if(Be===null)return;Be.consumerOnSignalRead(t);let e=Be.nextProducerIndex++;if(qu(Be),e<Be.producerNode.length&&Be.producerNode[e]!==t&&na(Be)){let n=Be.producerNode[e];Hu(n,Be.producerIndexOfThis[e])}Be.producerNode[e]!==t&&(Be.producerNode[e]=t,Be.producerIndexOfThis[e]=na(Be)?Zw(t,Be,e):0),Be.producerLastReadVersion[e]=t.version}function Yw(){sp++}function $u(t){if(!(na(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===sp)){if(!t.producerMustRecompute(t)&&!fi(t)){ju(t);return}t.producerRecomputeValue(t),ju(t)}}function ap(t){if(t.liveConsumerNode===void 0)return;let e=Fu;Fu=!0;try{for(let n of t.liveConsumerNode)n.dirty||YP(n)}finally{Fu=e}}function cp(){return Be?.consumerAllowSignalWrites!==!1}function YP(t){t.dirty=!0,ap(t),t.consumerMarkedDirty?.(t)}function ju(t){t.dirty=!1,t.lastCleanEpoch=sp}function Bn(t){return t&&(t.nextProducerIndex=0),K(t)}function Dr(t,e){if(K(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(na(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Hu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fi(t){qu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||($u(n),r!==n.version))return!0}return!1}function Do(t){if(qu(t),na(t))for(let e=0;e<t.producerNode.length;e++)Hu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Zw(t,e,n){if(Jw(t),t.liveConsumerNode.length===0&&Xw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Zw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Hu(t,e){if(Jw(t),t.liveConsumerNode.length===1&&Xw(t))for(let r=0;r<t.producerNode.length;r++)Hu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];qu(i),i.producerIndexOfThis[r]=e}}function na(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function qu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Jw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Xw(t){return t.producerNode!==void 0}function zu(t){QP?.(t)}function ra(t,e){let n=Object.create(ZP);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if($u(n),hi(n),n.value===ta)throw n.error;return n.value};return r[Ue]=n,zu(n),r}var Lu=Symbol("UNSET"),Vu=Symbol("COMPUTING"),ta=Symbol("ERRORED"),ZP=ce(oe({},wr),{value:Lu,dirty:!0,error:null,equal:Bu,kind:"computed",producerMustRecompute(t){return t.value===Lu||t.value===Vu},producerRecomputeValue(t){if(t.value===Vu)throw new Error("");let e=t.value;t.value=Vu;let n=Bn(t),r,i=!1;try{r=t.computation(),K(null),i=e!==Lu&&e!==ta&&r!==ta&&t.equal(e,r)}catch(o){r=ta,t.error=o}finally{Dr(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function JP(){throw new Error}var eD=JP;function tD(t){eD(t)}function up(t){eD=t}var XP=null;function lp(t,e){let n=Object.create(ia);n.value=t,e!==void 0&&(n.equal=e);let r=()=>nD(n);return r[Ue]=n,zu(n),[r,s=>To(n,s),s=>dp(n,s)]}function nD(t){return hi(t),t.value}function To(t,e){cp()||tD(t),t.equal(t.value,e)||(t.value=e,ex(t))}function dp(t,e){cp()||tD(t),To(t,e(t.value))}var ia=ce(oe({},wr),{equal:Bu,value:void 0,kind:"signal"});function ex(t){t.version++,Yw(),ap(t),XP?.(t)}function rD(t){let e=K(null);try{return t()}finally{K(e)}}var Yu="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,n){super(bo(e,n)),this.code=e}};function tx(t){return`NG0${Math.abs(t)}`}function bo(t,e){return`${tx(t)}${e?": "+e:""}`}var mn=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("")}function aD(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function It(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(It).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Zu(t,e){return t?e?`${t} ${e}`:t:e||""}var nx=De({__forward_ref__:De});function Zt(t){return t.__forward_ref__=Zt,t.toString=function(){return It(this())},t}function $e(t){return Dp(t)?t():t}function Dp(t){return typeof t=="function"&&t.hasOwnProperty(nx)&&t.__forward_ref__===Zt}function cD(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function ae(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Hn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ua(t){return ix(t,Ju)}function rx(t){return ua(t)!==null}function ix(t,e){return t.hasOwnProperty(e)&&t[e]||null}function ox(t){let e=t?.[Ju]??null;return e||null}function fp(t){return t&&t.hasOwnProperty(Wu)?t[Wu]:null}var Ju=De({\u0275prov:De}),Wu=De({\u0275inj:De}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ae({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Tp(t){return t&&!!t.\u0275providers}var Cp=De({\u0275cmp:De}),bp=De({\u0275dir:De}),Ap=De({\u0275pipe:De}),Sp=De({\u0275mod:De}),sa=De({\u0275fac:De}),vi=De({__NG_ELEMENT_ID__:De}),iD=De({__NG_ENV_ID__:De});function yn(t){return typeof t=="string"?t:t==null?"":String(t)}function uD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():yn(t)}function Np(t,e){throw new V(-200,t)}function Xu(t,e){throw new V(-201,!1)}var pp;function lD(){return pp}function gt(t){let e=pp;return pp=t,e}function Rp(t,e,n){let r=ua(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Xu(t,"Injector")}var sx={},pi=sx,gp="__NG_DI_FLAG__",mp=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=gi(n)||0;try{return this.injector.get(e,r&8?null:pi,r)}catch(i){if(wo(i))return i;throw i}}},Ku="ngTempTokenPath",ax="ngTokenPath",cx=/\n/gm,ux="\u0275",oD="__source";function lx(t,e=0){let n=op();if(n===void 0)throw new V(-203,!1);if(n===null)return Rp(t,void 0,e);{let r=dx(e),i=n.retrieve(t,r);if(wo(i)){if(r.optional)return null;throw i}return i}}function Ce(t,e=0){return(lD()||lx)($e(t),e)}function O(t,e){return Ce(t,gi(e))}function gi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function dx(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function yp(t){let e=[];for(let n=0;n<t.length;n++){let r=$e(t[n]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=hx(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(Ce(i,o))}else e.push(Ce(r))}return e}function Mp(t,e){return t[gp]=e,t.prototype[gp]=e,t}function hx(t){return t[gp]}function fx(t,e,n,r){let i=t[Ku];throw e[oD]&&i.unshift(e[oD]),t.message=px(`
`+t.message,i,n,r),t[ax]=i,t[Ku]=null,t}function px(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ux?t.slice(2):t;let i=It(e);if(Array.isArray(e))i=e.map(It).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):It(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(cx,`
  `)}`}function Tr(t,e){let n=t.hasOwnProperty(sa);return n?t[sa]:null}function dD(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function hD(t){return t.flat(Number.POSITIVE_INFINITY)}function el(t,e){t.forEach(n=>Array.isArray(n)?el(n,e):e(n))}function Pp(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function la(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fD(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function pD(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function tl(t,e,n){let r=Ao(t,e);return r>=0?t[r|1]=n:(r=~r,pD(t,r,e,n)),r}function nl(t,e){let n=Ao(t,e);if(n>=0)return t[n|1]}function Ao(t,e){return gx(t,e,1)}function gx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Jt={},it=[],br=new B(""),xp=new B("",-1),kp=new B(""),aa=class{get(e,n=pi){if(n===pi)throw new Ou(`NullInjectorError: No provider for ${It(e)}!`);return n}};function Op(t){return t[Sp]||null}function vn(t){return t[Cp]||null}function rl(t){return t[bp]||null}function gD(t){return t[Ap]||null}function Vt(t){return{\u0275providers:t}}function mD(t){return Vt([{provide:br,multi:!0,useValue:t}])}function yD(...t){return{\u0275providers:Fp(!0,t),\u0275fromNgModule:!0}}function Fp(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return el(e,s=>{let c=s;Qu(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&vD(i,o),n}function vD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Lp(i,o=>{e(o,r)})}}function Qu(t,e,n,r){if(t=$e(t),!t)return!1;let i=null,o=fp(t),s=!o&&vn(t);if(!o&&!s){let u=t.ngModule;if(o=fp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Qu(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{el(o.imports,h=>{Qu(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&vD(l,e)}if(!c){let l=Tr(i)||(()=>new i);e({provide:i,useFactory:l,deps:it},i),e({provide:kp,useValue:i,multi:!0},i),e({provide:br,useValue:()=>Ce(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;Lp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Lp(t,e){for(let n of t)Tp(n)&&(n=n.\u0275providers),Array.isArray(n)?Lp(n,e):e(n)}var mx=De({provide:String,useValue:De});function _D(t){return t!==null&&typeof t=="object"&&mx in t}function yx(t){return!!(t&&t.useExisting)}function vx(t){return!!(t&&t.useFactory)}function mi(t){return typeof t=="function"}function ED(t){return!!t.useClass}var Vp=new B(""),Gu={},sD={},hp;function So(){return hp===void 0&&(hp=new aa),hp}var wt=class{},yi=class extends wt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,_p(e,s=>this.processProvider(s)),this.records.set(xp,Co(void 0,this)),i.has("environment")&&this.records.set(wt,Co(void 0,this));let o=this.records.get(Vp);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(kp,it,{self:!0}))}retrieve(e,n){let r=gi(n)||0;try{return this.get(e,pi,r)}catch(i){if(wo(i))return i;throw i}}destroy(){oa(this),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return oa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){oa(this);let n=jn(this),r=gt(void 0),i;try{return e()}finally{jn(n),gt(r)}}get(e,n=pi,r){if(oa(this),e.hasOwnProperty(iD))return e[iD](this);let i=gi(r),o,s=jn(this),c=gt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=Dx(e)&&ua(e);h&&this.injectableDefInScope(h)?l=Co(vp(e),Gu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let u=i&2?So():this.parent;return n=i&8&&n===pi?null:n,u.get(e,n)}catch(u){if(wo(u)){if((u[Ku]=u[Ku]||[]).unshift(It(e)),s)throw u;return fx(u,e,"R3InjectorError",this.source)}else throw u}finally{gt(c),jn(s)}}resolveInjectorInitializers(){let e=K(null),n=jn(this),r=gt(void 0),i;try{let o=this.get(br,it,{self:!0});for(let s of o)s()}finally{jn(n),gt(r),K(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(It(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=$e(e);let n=mi(e)?e:$e(e&&e.provide),r=Ex(e);if(!mi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Co(void 0,Gu,!0),i.factory=()=>yp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=K(null);try{return n.value===sD?Np(It(e)):n.value===Gu&&(n.value=sD,n.value=n.factory()),typeof n.value=="object"&&n.value&&wx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$e(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function vp(t){let e=ua(t),n=e!==null?e.factory:Tr(t);if(n!==null)return n;if(t instanceof B)throw new V(204,!1);if(t instanceof Function)return _x(t);throw new V(204,!1)}function _x(t){if(t.length>0)throw new V(204,!1);let n=ox(t);return n!==null?()=>n.factory(t):()=>new t}function Ex(t){if(_D(t))return Co(void 0,t.useValue);{let e=jp(t);return Co(e,Gu)}}function jp(t,e,n){let r;if(mi(t)){let i=$e(t);return Tr(i)||vp(i)}else if(_D(t))r=()=>$e(t.useValue);else if(vx(t))r=()=>t.useFactory(...yp(t.deps||[]));else if(yx(t))r=()=>Ce($e(t.useExisting));else{let i=$e(t&&(t.useClass||t.provide));if(Ix(t))r=()=>new i(...yp(t.deps));else return Tr(i)||vp(i)}return r}function oa(t){if(t.destroyed)throw new V(205,!1)}function Co(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ix(t){return!!t.deps}function wx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Dx(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function _p(t,e){for(let n of t)Array.isArray(n)?_p(n,e):n&&Tp(n)?_p(n.\u0275providers,e):e(n)}function Ar(t,e){let n;t instanceof yi?(oa(t),n=t):n=new mp(t);let r,i=jn(n),o=gt(void 0);try{return e()}finally{jn(i),gt(o)}}function il(){return lD()!==void 0||op()!=null}function Bp(t){if(!il())throw new V(-203,!1)}var Xt=0,Y=1,q=2,He=3,jt=4,mt=5,No=6,Ro=7,Ye=8,_i=9,_n=10,Ie=11,Mo=12,Up=13,Ei=14,Dt=15,Sr=16,Ii=17,En=18,da=19,$p=20,Un=21,ol=22,qn=23,Nt=24,wi=25,Oe=26,ID=1;var Nr=7,ha=8,Di=9,ot=10;function In(t){return Array.isArray(t)&&typeof t[ID]=="object"}function en(t){return Array.isArray(t)&&t[ID]===!0}function sl(t){return(t.flags&4)!==0}function Rr(t){return t.componentOffset>-1}function fa(t){return(t.flags&1)===1}function tn(t){return!!t.template}function Po(t){return(t[q]&512)!==0}function Ti(t){return(t[q]&256)===256}var Hp="svg",wD="math";function Bt(t){for(;Array.isArray(t);)t=t[Xt];return t}function qp(t,e){return Bt(e[t])}function nn(t,e){return Bt(e[t.index])}function pa(t,e){return t.data[e]}function al(t,e){return t[e]}function zp(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ut(t,e){let n=e[t];return In(n)?n:n[Xt]}function DD(t){return(t[q]&4)===4}function cl(t){return(t[q]&128)===128}function TD(t){return en(t[He])}function zn(t,e){return e==null?null:t[e]}function Gp(t){t[Ii]=0}function Wp(t){t[q]&1024||(t[q]|=1024,cl(t)&&Mr(t))}function CD(t,e){for(;t>0;)e=e[Ei],t--;return e}function ga(t){return!!(t[q]&9216||t[Nt]?.dirty)}function ul(t){t[_n].changeDetectionScheduler?.notify(8),t[q]&64&&(t[q]|=1024),ga(t)&&Mr(t)}function Mr(t){t[_n].changeDetectionScheduler?.notify(0);let e=Cr(t);for(;e!==null&&!(e[q]&8192||(e[q]|=8192,!cl(e)));)e=Cr(e)}function Kp(t,e){if(Ti(t))throw new V(911,!1);t[Un]===null&&(t[Un]=[]),t[Un].push(e)}function bD(t,e){if(t[Un]===null)return;let n=t[Un].indexOf(e);n!==-1&&t[Un].splice(n,1)}function Cr(t){let e=t[He];return en(e)?e[He]:e}function Qp(t){return t[Ro]??=[]}function Yp(t){return t.cleanup??=[]}function AD(t,e,n,r){let i=Qp(e);i.push(n),t.firstCreatePass&&Yp(t).push(r,i.length-1)}var te={lFrame:HD(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ma=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(ma||{}),Tx=0,Ep=!1;function SD(){return te.lFrame.elementDepthCount}function ND(){te.lFrame.elementDepthCount++}function RD(){te.lFrame.elementDepthCount--}function ll(){return te.bindingsEnabled}function Zp(){return te.skipHydrationRootTNode!==null}function MD(t){return te.skipHydrationRootTNode===t}function PD(){te.skipHydrationRootTNode=null}function G(){return te.lFrame.lView}function we(){return te.lFrame.tView}function xD(t){return te.lFrame.contextLView=t,t[Ye]}function kD(t){return te.lFrame.contextLView=null,t}function qe(){let t=Jp();for(;t!==null&&t.type===64;)t=t.parent;return t}function Jp(){return te.lFrame.currentTNode}function OD(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Pr(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function dl(){return te.lFrame.isParent}function hl(){te.lFrame.isParent=!1}function FD(){return te.lFrame.contextLView}function Xp(t){cD("Must never be called in production mode"),Tx=t}function eg(){return Ep}function xo(t){let e=Ep;return Ep=t,e}function fl(){let t=te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function tg(){return te.lFrame.bindingIndex}function LD(t){return te.lFrame.bindingIndex=t}function Ci(){return te.lFrame.bindingIndex++}function ya(t){let e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function VD(){return te.lFrame.inI18n}function jD(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,pl(e)}function BD(){return te.lFrame.currentDirectiveIndex}function pl(t){te.lFrame.currentDirectiveIndex=t}function UD(t){let e=te.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function gl(){return te.lFrame.currentQueryIndex}function va(t){te.lFrame.currentQueryIndex=t}function Cx(t){let e=t[Y];return e.type===2?e.declTNode:e.type===1?t[mt]:null}function ng(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=Cx(o),i===null||(o=o[Ei],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=te.lFrame=$D();return r.currentTNode=e,r.lView=t,!0}function ml(t){let e=$D(),n=t[Y];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $D(){let t=te.lFrame,e=t===null?null:t.child;return e===null?HD(t):e}function HD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function qD(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var rg=qD;function yl(){let t=qD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function zD(t){return(te.lFrame.contextLView=CD(t,te.lFrame.contextLView))[Ye]}function wn(){return te.lFrame.selectedIndex}function xr(t){te.lFrame.selectedIndex=t}function _a(){let t=te.lFrame;return pa(t.tView,t.selectedIndex)}function GD(){te.lFrame.currentNamespace=Hp}function WD(){bx()}function bx(){te.lFrame.currentNamespace=null}function KD(){return te.lFrame.currentNamespace}var QD=!0;function Ea(){return QD}function Ia(t){QD=t}function Ip(t,e=null,n=null,r){let i=ig(t,e,n,r);return i.resolveInjectorInitializers(),i}function ig(t,e=null,n=null,r,i=new Set){let o=[n||it,yD(t)];return r=r||(typeof t=="object"?void 0:It(t)),new yi(o,e||So(),r||null,i)}var xe=class t{static THROW_IF_NOT_FOUND=pi;static NULL=new aa;static create(e,n){if(Array.isArray(e))return Ip({name:""},n,e,"");{let r=e.name??"";return Ip({name:r},e.parent,e.providers,r)}}static \u0275prov=ae({token:t,providedIn:"any",factory:()=>Ce(xp)});static __NG_ELEMENT_ID__=-1},kr=new B(""),Rt=(()=>{class t{static __NG_ELEMENT_ID__=Ax;static __NG_ENV_ID__=n=>n}return t})(),ca=class extends Rt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ti(this._lView)}onDestroy(e){let n=this._lView;return Kp(n,e),()=>bD(n,e)}};function Ax(){return new ca(G())}var $n=class{_console=console;handleError(e){this._console.error("ERROR",e)}},$t=new B("",{providedIn:"root",factory:()=>{let t=O(wt),e;return n=>{e??=t.get($n),e.handleError(n)}}}),YD={provide:br,useValue:()=>void O($n),multi:!0},Sx=new B("",{providedIn:"root",factory:()=>{let t=O(kr).defaultView;if(!t)return;let e=O($t),n=o=>{e(o.reason),o.preventDefault()},r=o=>{e(o.error),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),O(Rt).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Nx(){return Vt([mD(()=>void O(Sx))])}function og(t){return typeof t=="function"&&t[Ue]!==void 0}function Mt(t,e){let[n,r,i]=lp(t,e?.equal),o=n,s=o[Ue];return o.set=r,o.update=i,o.asReadonly=sg.bind(o),o}function sg(){let t=this[Ue];if(t.readonlyFn===void 0){let e=()=>this();e[Ue]=t,t.readonlyFn=e}return t.readonlyFn}function ag(t){return og(t)&&typeof t.set=="function"}var Lt=class{},wa=new B("",{providedIn:"root",factory:()=>!1});var cg=new B(""),ug=new B("");var bi=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Rx}return t})();function Rx(){return new bi(G(),qe())}var Ai=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Qs(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Q(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})(),Si=(()=>{class t{internalPendingTasks=O(Ai);scheduler=O(Lt);errorHandler=O($t);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ni(...t){}var Da=(()=>{class t{static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new wp})}return t})(),wp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function jo(t){return{toString:t}.toString()}var vl="__parameters__";function Lx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function RT(t,e,n){return jo(()=>{let r=Lx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(vl)?u[vl]:Object.defineProperty(u,vl,{value:[]})[vl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Tt=Mp(RT("Optional"),8);var MT=Mp(RT("SkipSelf"),4);function Vx(t){return typeof t=="function"}var Al=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function PT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Oi=(()=>{let t=()=>xT;return t.ngInherit=!0,t})();function xT(t){return t.type.prototype.ngOnChanges&&(t.setInput=Bx),jx}function jx(){let t=OT(this),e=t?.current;if(e){let n=t.previous;if(n===Jt)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Bx(t,e,n,r,i){let o=this.declaredInputs[r],s=OT(t)||Ux(t,{previous:Jt,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Al(l&&l.currentValue,n,u===Jt),PT(t,e,i,n)}var kT="__ngSimpleChanges__";function OT(t){return t[kT]||null}function Ux(t,e){return t[kT]=e}var ZD=[];var fe=function(t,e=null,n){for(let r=0;r<ZD.length;r++){let i=ZD[r];i(t,e,n)}};function $x(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=xT(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function tm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Dl(t,e,n){FT(t,e,3,n)}function Tl(t,e,n,r){(t[q]&3)===n&&FT(t,e,n,r)}function lg(t,e){let n=t[q];(n&3)===e&&(n&=16383,n+=1,t[q]=n)}function FT(t,e,n,r){let i=r!==void 0?t[Ii]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Ii]+=65536),(c<o||o==-1)&&(Hx(t,n,e,u),t[Ii]=(t[Ii]&4294901760)+u+2),u++}function JD(t,e){fe(4,t,e);let n=K(null);try{e.call(t)}finally{K(n),fe(5,t,e)}}function Hx(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[q]>>14<t[Ii]>>16&&(t[q]&3)===e&&(t[q]+=16384,JD(c,o)):JD(c,o)}var Oo=-1,Pi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function qx(t){return(t.flags&8)!==0}function zx(t){return(t.flags&16)!==0}function Gx(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];Wx(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function LT(t){return t===3||t===4||t===6}function Wx(t){return t.charCodeAt(0)===64}function Fo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?XD(t,n,i,null,e[++r]):XD(t,n,i,null,null))}}return t}function XD(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function VT(t){return t!==Oo}function Sl(t){return t&32767}function Kx(t){return t>>16}function Nl(t,e){let n=Kx(t),r=e;for(;n>0;)r=r[Ei],n--;return r}var Eg=!0;function Rl(t){let e=Eg;return Eg=t,e}var Qx=256,jT=Qx-1,BT=5,Yx=0,Dn={};function Zx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vi)&&(r=n[vi]),r==null&&(r=n[vi]=Yx++);let i=r&jT,o=1<<i;e.data[t+(i>>BT)]|=o}function Ml(t,e){let n=UT(t,e);if(n!==-1)return n;let r=e[Y];r.firstCreatePass&&(t.injectorIndex=e.length,dg(r.data,t),dg(e,null),dg(r.blueprint,null));let i=nm(t,e),o=t.injectorIndex;if(VT(i)){let s=Sl(i),c=Nl(i,e),u=c[Y].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function dg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function UT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function nm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=GT(i),r===null)return Oo;if(n++,i=i[Ei],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Oo}function Ig(t,e,n){Zx(t,e,n)}function Jx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(LT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function $T(t,e,n){if(n&8||t!==void 0)return t;Xu(e,"NodeInjector")}function HT(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[_i],o=gt(void 0);try{return i?i.get(e,r,n&8):Rp(e,r,n&8)}finally{gt(o)}}return $T(r,e,n)}function qT(t,e,n,r=0,i){if(t!==null){if(e[q]&2048&&!(r&2)){let s=nk(t,e,n,r,Dn);if(s!==Dn)return s}let o=zT(t,e,n,r,Dn);if(o!==Dn)return o}return HT(e,n,r,i)}function zT(t,e,n,r,i){let o=ek(n);if(typeof o=="function"){if(!ng(e,t,r))return r&1?$T(i,n,r):HT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Xu(n);else return s}finally{rg()}}else if(typeof o=="number"){let s=null,c=UT(t,e),u=Oo,l=r&1?e[Dt][mt]:null;for((c===-1||r&4)&&(u=c===-1?nm(t,e):e[c+8],u===Oo||!tT(r,!1)?c=-1:(s=e[Y],c=Sl(u),e=Nl(u,e)));c!==-1;){let h=e[Y];if(eT(o,c,h.data)){let p=Xx(c,e,n,s,r,l);if(p!==Dn)return p}u=e[c+8],u!==Oo&&tT(r,e[Y].data[c+8]===l)&&eT(o,c,e)?(s=h,c=Sl(u),e=Nl(u,e)):c=-1}}return i}function Xx(t,e,n,r,i,o){let s=e[Y],c=s.data[t+8],u=r==null?Rr(c)&&Eg:r!=s&&(c.type&3)!==0,l=i&1&&o===c,h=Cl(c,s,n,u,l);return h!==null?Aa(e,s,h,c):Dn}function Cl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?c:c+h,m=i?c+h:l;for(let y=p;y<m;y++){let b=s[y];if(y<u&&n===b||y>=u&&b.type===n)return y}if(i){let y=s[u];if(y&&tn(y)&&y.type===n)return u}return null}function Aa(t,e,n,r){let i=t[n],o=e.data;if(i instanceof Pi){let s=i;s.resolving&&Np(uD(o[n]));let c=Rl(s.canSeeViewProviders);s.resolving=!0;let u=o[n].type||o[n],l,h=s.injectImpl?gt(s.injectImpl):null,p=ng(t,r,0);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&$x(n,o[n],e)}finally{h!==null&&gt(h),Rl(c),s.resolving=!1,rg()}}return i}function ek(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(vi)?t[vi]:void 0;return typeof e=="number"?e>=0?e&jT:tk:e}function eT(t,e,n){let r=1<<t;return!!(n[e+(t>>BT)]&r)}function tT(t,e){return!(t&2)&&!(t&1&&e)}var Mi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return qT(this._tNode,this._lView,e,gi(r),n)}};function tk(){return new Mi(qe(),G())}function zl(t){return jo(()=>{let e=t.prototype.constructor,n=e[sa]||wg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[sa]||wg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function wg(t){return Dp(t)?()=>{let e=wg($e(t));return e&&e()}:Tr(t)}function nk(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[q]&2048&&!Po(s);){let c=zT(o,s,n,r|2,Dn);if(c!==Dn)return c;let u=o.parent;if(!u){let l=s[$p];if(l){let h=l.get(n,Dn,r);if(h!==Dn)return h}u=GT(s),s=s[Ei]}o=u}return i}function GT(t){let e=t[Y],n=e.type;return n===2?e.declTNode:n===1?t[mt]:null}function rm(t){return Jx(qe(),t)}function rk(){return Bo(qe(),G())}function Bo(t,e){return new sn(nn(t,e))}var sn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=rk}return t})();function WT(t){return t instanceof sn?t.nativeElement:t}function ik(){return this._results[Symbol.iterator]()}var Pl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new rt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=hD(e);(this._changesDetected=!dD(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ik};function KT(t){return(t.flags&128)===128}var im=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(im||{}),QT=new Map,ok=0;function sk(){return ok++}function ak(t){QT.set(t[da],t)}function Dg(t){QT.delete(t[da])}var nT="__ngContext__";function Uo(t,e){In(e)?(t[nT]=e[da],ak(e)):t[nT]=e}function YT(t){return JT(t[Mo])}function ZT(t){return JT(t[jt])}function JT(t){for(;t!==null&&!en(t);)t=t[jt];return t}var Tg;function ck(t){Tg=t}function XT(){if(Tg!==void 0)return Tg;if(typeof document<"u")return document;throw new V(210,!1)}var uk=new B("",{providedIn:"root",factory:()=>lk}),lk="ng",eC=new B(""),om=new B("",{providedIn:"platform",factory:()=>"unknown"});var dk=new B(""),hk=new B("",{providedIn:"root",factory:()=>XT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var fk="h",pk="b";var tC=!1,nC=new B("",{providedIn:"root",factory:()=>tC});var gk=(t,e,n,r)=>{};function mk(t,e,n,r){gk(t,e,n,r)}var yk=()=>null;function rC(t,e,n=!1){return yk(t,e,n)}function iC(t,e){let n=t.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];va(o),c.contentQueries(2,e[s],s)}}}finally{K(r)}}}function Cg(t,e,n){va(0);let r=K(null);try{e(t,n)}finally{K(r)}}function sm(t,e,n){if(sl(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{K(r)}}}var Lo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Lo||{}),_l;function vk(){if(_l===void 0&&(_l=null,mn.trustedTypes))try{_l=mn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _l}function Gl(t){return vk()?.createHTML(t)||t}var El;function _k(){if(El===void 0&&(El=null,mn.trustedTypes))try{El=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return El}function rT(t){return _k()?.createScriptURL(t)||t}var Gn=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yu})`}},bg=class extends Gn{getTypeName(){return"HTML"}},Ag=class extends Gn{getTypeName(){return"Style"}},Sg=class extends Gn{getTypeName(){return"Script"}},Ng=class extends Gn{getTypeName(){return"URL"}},Rg=class extends Gn{getTypeName(){return"ResourceURL"}};function $o(t){return t instanceof Gn?t.changingThisBreaksApplicationSecurity:t}function am(t,e){let n=oC(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Yu})`)}return n===e}function oC(t){return t instanceof Gn&&t.getTypeName()||null}function Ek(t){return new bg(t)}function Ik(t){return new Ag(t)}function wk(t){return new Sg(t)}function Dk(t){return new Ng(t)}function Tk(t){return new Rg(t)}function Ck(t){let e=new Pg(t);return bk()?new Mg(e):e}var Mg=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Gl(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},Pg=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Gl(e),n}};function bk(){try{return!!new window.DOMParser().parseFromString(Gl(""),"text/html")}catch{return!1}}var Ak=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cm(t){return t=String(t),t.match(Ak)?t:"unsafe:"+t}function Wn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function ka(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var sC=Wn("area,br,col,hr,img,wbr"),aC=Wn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cC=Wn("rp,rt"),Sk=ka(cC,aC),Nk=ka(aC,Wn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rk=ka(cC,Wn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),iT=ka(sC,Nk,Rk,Sk),uC=Wn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mk=Wn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pk=Wn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),xk=ka(uC,Mk,Pk),kk=Wn("script,style,template"),xg=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=Lk(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=Fk(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=oT(e).toLowerCase();if(!iT.hasOwnProperty(n))return this.sanitizedSomething=!0,!kk.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,c=s.toLowerCase();if(!xk.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;uC[c]&&(u=cm(u)),this.buf.push(" ",s,'="',sT(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=oT(e).toLowerCase();iT.hasOwnProperty(n)&&!sC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(sT(e))}};function Ok(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Fk(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw lC(e);return e}function Lk(t){let e=t.firstChild;if(e&&Ok(t,e))throw lC(e);return e}function oT(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function lC(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Vk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jk=/([^\#-~ |!])/g;function sT(t){return t.replace(/&/g,"&amp;").replace(Vk,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(jk,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Il;function Bk(t,e){let n=null;try{Il=Il||Ck(t);let r=e?String(e):"";n=Il.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Il.getInertBodyElement(r)}while(r!==o);let c=new xg().sanitizeChildren(aT(n)||n);return Gl(c)}finally{if(n){let r=aT(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function aT(t){return"content"in t&&Uk(t)?t.content:null}function Uk(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Wl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Wl||{});function dC(t){let e=fC();return e?e.sanitize(Wl.URL,t)||"":am(t,"URL")?$o(t):cm(yn(t))}function hC(t){let e=fC();if(e)return rT(e.sanitize(Wl.RESOURCE_URL,t)||"");if(am(t,"ResourceURL"))return rT($o(t));throw new V(904,!1)}function $k(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?hC:dC}function Hk(t,e,n){return $k(e,n)(t)}function fC(){let t=G();return t&&t[_n].sanitizer}var qk=/^>|^->|<!--|-->|--!>|<!-$/g,zk=/(<|>)/g,Gk="\u200B$1\u200B";function Wk(t){return t.replace(qk,e=>e.replace(zk,Gk))}function pC(t){return t instanceof Function?t():t}function Kk(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var gC="ng-template";function Qk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Kk(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(um(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function um(t){return t.type===4&&t.value!==gC}function Yk(t,e,n){let r=t.type===4&&!n?gC:t.value;return e===r}function Zk(t,e,n){let r=4,i=t.attrs,o=i!==null?eO(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!rn(r)&&!rn(u))return!1;if(s&&rn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Yk(t,u,n)||u===""&&e.length===1){if(rn(r))return!1;s=!0}}else if(r&8){if(i===null||!Qk(t,i,u,n)){if(rn(r))return!1;s=!0}}else{let l=e[++c],h=Jk(u,i,um(t),n);if(h===-1){if(rn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(rn(r))return!1;s=!0}}}}return rn(r)||s}function rn(t){return(t&1)===0}function Jk(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return tO(e,t)}function mC(t,e,n=!1){for(let r=0;r<e.length;r++)if(Zk(t,e[r],n))return!0;return!1}function Xk(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function eO(t){for(let e=0;e<t.length;e++){let n=t[e];if(LT(n))return e}return t.length}function tO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function nO(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function cT(t,e){return t?":not("+e.trim()+")":e}function rO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!rn(s)&&(e+=cT(o,i),i=""),r=s,o=o||!rn(r);n++}return i!==""&&(e+=cT(o,i)),e}function iO(t){return t.map(rO).join(",")}function oO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!rn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Ze={};function sO(t,e){return t.createText(e)}function aO(t,e,n){t.setValue(e,n)}function cO(t,e){return t.createComment(Wk(e))}function yC(t,e,n){return t.createElement(e,n)}function xl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function vC(t,e,n){t.appendChild(e,n)}function uT(t,e,n,r,i){r!==null?xl(t,e,n,r,i):vC(t,e,n)}function uO(t,e,n){t.removeChild(null,e,n)}function lO(t,e,n){t.setAttribute(e,"style",n)}function dO(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function _C(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Gx(t,e,r),i!==null&&dO(t,e,i),o!==null&&lO(t,e,o)}function lm(t,e,n,r,i,o,s,c,u,l,h){let p=Oe+r,m=p+i,y=hO(p,m),b=typeof l=="function"?l():l;return y[Y]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function hO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ze);return n}function fO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=lm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function dm(t,e,n,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[Xt]=i,p[q]=r|4|128|8|64|1024,(l!==null||t&&t[q]&2048)&&(p[q]|=2048),Gp(p),p[He]=p[Ei]=t,p[Ye]=n,p[_n]=s||t&&t[_n],p[Ie]=c||t&&t[Ie],p[_i]=u||t&&t[_i]||null,p[mt]=o,p[da]=sk(),p[No]=h,p[$p]=l,p[Dt]=e.type==2?t[Dt]:p,p}function pO(t,e,n){let r=nn(e,t),i=fO(n),o=t[_n].rendererFactory,s=hm(t,dm(t,i,null,EC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function EC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function IC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function hm(t,e){return t[Mo]?t[Up][jt]=e:t[Mo]=e,t[Up]=e,e}function gO(t=1){wC(we(),G(),wn()+t,!1)}function wC(t,e,n,r){if(!r)if((e[q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Dl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Tl(e,o,0,n)}xr(n)}var Kl=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Kl||{});function kg(t,e,n,r){let i=K(null);try{let[o,s,c]=t.inputs[n],u=null;(s&Kl.SignalBased)!==0&&(u=e[o][Ue]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):PT(e,u,o,r)}finally{K(i)}}function DC(t,e,n,r,i){let o=wn(),s=r&2;try{xr(-1),s&&e.length>Oe&&wC(t,e,Oe,!1),fe(s?2:0,i,n),n(r,i)}finally{xr(o),fe(s?3:1,i,n)}}function Ql(t,e,n){IO(t,e,n),(n.flags&64)===64&&wO(t,e,n)}function fm(t,e,n=nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function mO(t,e,n,r){let o=r.get(nC,tC)||n===Lo.ShadowDom,s=t.selectRootElement(e,o);return yO(s),s}function yO(t){vO(t)}var vO=()=>null;function _O(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function TC(t,e,n,r,i,o){let s=e[Y];if(gm(t,s,e,n,r)){Rr(t)&&EO(e,t.index);return}CC(t,e,n,r,i,o)}function CC(t,e,n,r,i,o){if(t.type&3){let s=nn(t,e);n=_O(n),r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function EO(t,e){let n=Ut(e,t);n[q]&16||(n[q]|=64)}function IO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Rr(n)&&pO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Ml(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=Aa(e,t,s,n);if(Uo(u,e),o!==null&&bO(e,s-r,u,c,n,o),tn(c)){let l=Ut(n.index,e);l[Ye]=Aa(e,t,s,n)}}}function wO(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=BD();try{xr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];pl(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&DO(u,l)}}finally{xr(-1),pl(s)}}function DO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function pm(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];mC(e,o.selectors,!1)&&(r??=[],tn(o)?r.unshift(o):r.push(o))}return r}function TO(t,e,n,r,i,o){let s=nn(t,e);CO(e[Ie],s,o,t.value,n,r,i)}function CO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?yn(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function bO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];kg(r,n,u,l)}}function AO(t,e){let n=t[_i];if(!n)return;n.get($t,null)?.(e)}function gm(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];kg(p,n[l],h,i),c=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];kg(h,l,r,i),c=!0}return c}function SO(t,e){let n=Ut(e,t),r=n[Y];NO(r,n);let i=n[Xt];i!==null&&n[No]===null&&(n[No]=rC(i,n[_i])),fe(18),mm(r,n,n[Ye]),fe(19,n[Ye])}function NO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function mm(t,e,n){ml(e);try{let r=t.viewQuery;r!==null&&Cg(1,r,n);let i=t.template;i!==null&&DC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[En]?.finishViewCreation(t),t.staticContentQueries&&iC(t,e),t.staticViewQueries&&Cg(2,t.viewQuery,n);let o=t.components;o!==null&&RO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[q]&=-5,yl()}}function RO(t,e){for(let n=0;n<e.length;n++)SO(t,e[n])}function ym(t,e,n,r){let i=K(null);try{let o=e.tView,c=t[q]&4096?4096:16,u=dm(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Sr]=l;let h=t[En];return h!==null&&(u[En]=h.createEmbeddedView(o)),mm(o,u,n),u}finally{K(i)}}function kl(t,e){return!e||e.firstChild===null||KT(t)}var lT=!1,MO=new B(""),PO;function vm(t,e){return PO(t,e)}var Sa=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Sa||{});function Yl(t){return(t.flags&32)===32}function ko(t,e,n,r,i){if(r!=null){let o,s=!1;en(r)?o=r:In(r)&&(s=!0,r=r[Xt]);let c=Bt(r);t===0&&n!==null?i==null?vC(e,n,c):xl(e,n,c,i||null,!0):t===1&&n!==null?xl(e,n,c,i||null,!0):t===2?uO(e,c,s):t===3&&e.destroyNode(c),o!=null&&$O(e,t,o,n,i)}}function xO(t,e){bC(t,e),e[Xt]=null,e[mt]=null}function kO(t,e,n,r,i,o){r[Xt]=i,r[mt]=e,Jl(t,r,n,1,i,o)}function bC(t,e){e[_n].changeDetectionScheduler?.notify(9),Jl(t,e,e[Ie],2,null,null)}function OO(t){let e=t[Mo];if(!e)return hg(t[Y],t);for(;e;){let n=null;if(In(e))n=e[Mo];else{let r=e[ot];r&&(n=r)}if(!n){for(;e&&!e[jt]&&e!==t;)In(e)&&hg(e[Y],e),e=e[He];e===null&&(e=t),In(e)&&hg(e[Y],e),n=e&&e[jt]}e=n}}function _m(t,e){let n=t[Di],r=n.indexOf(e);n.splice(r,1)}function Em(t,e){if(Ti(e))return;let n=e[Ie];n.destroyNode&&Jl(t,e,n,3,null,null),OO(e)}function hg(t,e){if(Ti(e))return;let n=K(null);try{e[q]&=-129,e[q]|=256,e[Nt]&&Do(e[Nt]),LO(t,e),FO(t,e),e[Y].type===1&&e[Ie].destroy();let r=e[Sr];if(r!==null&&en(e[He])){r!==e[He]&&_m(r,e);let i=e[En];i!==null&&i.detachView(t)}Dg(e)}finally{K(n)}}function FO(t,e){let n=t.cleanup,r=e[Ro];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Ro]=null);let i=e[Un];if(i!==null){e[Un]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[qn];if(o!==null){e[qn]=null;for(let s of o)s.destroy()}}function LO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Pi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];fe(4,c,u);try{u.call(c)}finally{fe(5,c,u)}}else{fe(4,i,o);try{o.call(i)}finally{fe(5,i,o)}}}}}function AC(t,e,n){return VO(t,e.parent,n)}function VO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Xt];if(Rr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Lo.None||i===Lo.Emulated)return null}return nn(r,n)}function SC(t,e,n){return BO(t,e,n)}function jO(t,e,n){return t.type&40?nn(t,n):null}var BO=jO,dT;function Zl(t,e,n,r){let i=AC(t,r,e),o=e[Ie],s=r.parent||e[mt],c=SC(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)uT(o,i,n[u],c,!1);else uT(o,i,n,c,!1);dT!==void 0&&dT(o,r,e,n,i)}function Ta(t,e){if(e!==null){let n=e.type;if(n&3)return nn(e,t);if(n&4)return Og(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ta(t,r);{let i=t[e.index];return en(i)?Og(-1,i):Bt(i)}}else{if(n&128)return Ta(t,e.next);if(n&32)return vm(e,t)()||Bt(t[e.index]);{let r=NC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Cr(t[Dt]);return Ta(i,r)}else return Ta(t,e.next)}}}return null}function NC(t,e){if(e!==null){let r=t[Dt][mt],i=e.projection;return r.projection[i]}return null}function Og(t,e){let n=ot+t+1;if(n<e.length){let r=e[n],i=r[Y].firstChild;if(i!==null)return Ta(r,i)}return e[Nr]}function Im(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Uo(Bt(c),r),n.flags|=2),!Yl(n))if(u&8)Im(t,e,n.child,r,i,o,!1),ko(e,t,i,c,o);else if(u&32){let l=vm(n,r),h;for(;h=l();)ko(e,t,i,h,o);ko(e,t,i,c,o)}else u&16?RC(t,e,r,n,i,o):ko(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Jl(t,e,n,r,i,o){Im(n,r,t.firstChild,e,i,o,!1)}function UO(t,e,n){let r=e[Ie],i=AC(t,n,e),o=n.parent||e[mt],s=SC(o,n,e);RC(r,0,e,n,i,s)}function RC(t,e,n,r,i,o){let s=n[Dt],u=s[mt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ko(e,t,i,h,o)}else{let l=u,h=s[He];KT(r)&&(l.flags|=128),Im(t,e,l,h,i,o,!0)}}function $O(t,e,n,r,i){let o=n[Nr],s=Bt(n);o!==s&&ko(e,t,r,o,i);for(let c=ot;c<n.length;c++){let u=n[c];Jl(u[Y],u,t,e,r,o)}}function HO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Sa.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Sa.Important),t.setStyle(n,r,i,o))}}function Na(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Bt(o)),en(o)&&MC(o,r);let s=n.type;if(s&8)Na(t,e,n.child,r);else if(s&32){let c=vm(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=NC(e,n);if(Array.isArray(c))r.push(...c);else{let u=Cr(e[Dt]);Na(u[Y],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function MC(t,e){for(let n=ot;n<t.length;n++){let r=t[n],i=r[Y].firstChild;i!==null&&Na(r[Y],r,i,e)}t[Nr]!==t[Xt]&&e.push(t[Nr])}function PC(t){if(t[wi]!==null){for(let e of t[wi])e.impl.addSequence(e);t[wi].length=0}}var xC=[];function qO(t){return t[Nt]??zO(t)}function zO(t){let e=xC.pop()??Object.create(WO);return e.lView=t,e}function GO(t){t.lView[Nt]!==t&&(t.lView=null,xC.push(t))}var WO=ce(oe({},wr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Mr(t.lView)},consumerOnSignalRead(){this.lView[Nt]=this}});function KO(t){let e=t[Nt]??Object.create(QO);return e.lView=t,e}var QO=ce(oe({},wr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Cr(t.lView);for(;e&&!kC(e[Y]);)e=Cr(e);e&&Wp(e)},consumerOnSignalRead(){this.lView[Nt]=this}});function kC(t){return t.type!==2}function OC(t){if(t[qn]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[qn])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[q]&8192)}}var YO=100;function wm(t,e=0){let r=t[_n].rendererFactory,i=!1;i||r.begin?.();try{ZO(t,e)}finally{i||r.end?.()}}function ZO(t,e){let n=eg();try{xo(!0),Fg(t,e);let r=0;for(;ga(t);){if(r===YO)throw new V(103,!1);r++,Fg(t,1)}}finally{xo(n)}}function FC(t,e){Xp(e?ma.Exhaustive:ma.OnlyDirtyViews);try{wm(t)}finally{Xp(ma.Off)}}function JO(t,e,n,r){if(Ti(e))return;let i=e[q],o=!1,s=!1;ml(e);let c=!0,u=null,l=null;o||(kC(t)?(l=qO(e),u=Bn(l)):Uu()===null?(c=!1,l=KO(e),u=Bn(l)):e[Nt]&&(Do(e[Nt]),e[Nt]=null));try{Gp(e),LD(t.bindingStartIndex),n!==null&&DC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Dl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Tl(e,y,0,null),lg(e,0)}if(s||XO(e),OC(e),LC(e,0),t.contentQueries!==null&&iC(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Dl(e,y)}else{let y=t.contentHooks;y!==null&&Tl(e,y,1),lg(e,1)}t1(t,e);let p=t.components;p!==null&&jC(e,p,0);let m=t.viewQuery;if(m!==null&&Cg(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Dl(e,y)}else{let y=t.viewHooks;y!==null&&Tl(e,y,2),lg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ol]){for(let y of e[ol])y();e[ol]=null}o||(PC(e),e[q]&=-73)}catch(h){throw o||Mr(e),h}finally{l!==null&&(Dr(l,u),c&&GO(l)),yl()}}function LC(t,e){for(let n=YT(t);n!==null;n=ZT(n))for(let r=ot;r<n.length;r++){let i=n[r];VC(i,e)}}function XO(t){for(let e=YT(t);e!==null;e=ZT(e)){if(!(e[q]&2))continue;let n=e[Di];for(let r=0;r<n.length;r++){let i=n[r];Wp(i)}}}function e1(t,e,n){fe(18);let r=Ut(e,t);VC(r,n),fe(19,r[Ye])}function VC(t,e){cl(t)&&Fg(t,e)}function Fg(t,e){let r=t[Y],i=t[q],o=t[Nt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&fi(o)),s||=!1,o&&(o.dirty=!1),t[q]&=-9217,s)JO(r,t,r.template,t[Ye]);else if(i&8192){let c=K(null);try{OC(t),LC(t,1);let u=r.components;u!==null&&jC(t,u,1),PC(t)}finally{K(c)}}}function jC(t,e,n){for(let r=0;r<e.length;r++)e1(t,e[r],n)}function t1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)xr(~i);else{let o=i,s=n[++r],c=n[++r];jD(s,o);let u=e[o];fe(24,u),c(2,u),fe(25,u)}}}finally{xr(-1)}}function Dm(t,e){let n=eg()?64:1088;for(t[_n].changeDetectionScheduler?.notify(e);t;){t[q]|=n;let r=Cr(t);if(Po(t)&&!r)return t;t=r}return null}function BC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function n1(t,e){let n=ot+e;if(n<t.length)return t[n]}function Tm(t,e,n,r=!0){let i=e[Y];if(i1(i,e,t,n),r){let s=Og(n,t),c=e[Ie],u=c.parentNode(t[Nr]);u!==null&&kO(i,t[mt],c,e,u,s)}let o=e[No];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function r1(t,e){let n=Ol(t,e);return n!==void 0&&Em(n[Y],n),n}function Ol(t,e){if(t.length<=ot)return;let n=ot+e,r=t[n];if(r){let i=r[Sr];i!==null&&i!==t&&_m(i,r),e>0&&(t[n-1][jt]=r[jt]);let o=la(t,ot+e);xO(r[Y],r);let s=o[En];s!==null&&s.detachView(o[Y]),r[He]=null,r[jt]=null,r[q]&=-129}return r}function i1(t,e,n,r){let i=ot+r,o=n.length;r>0&&(n[i-1][jt]=e),r<o-ot?(e[jt]=n[i],Pp(n,ot+r,e)):(n.push(e),e[jt]=null),e[He]=n;let s=e[Sr];s!==null&&n!==s&&UC(s,e);let c=e[En];c!==null&&c.insertView(t),ul(e),e[q]|=128}function UC(t,e){let n=t[Di],r=e[He];if(In(r))t[q]|=2;else{let i=r[He][Dt];e[Dt]!==i&&(t[q]|=2)}n===null?t[Di]=[e]:n.push(e)}var Or=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[Y];return Na(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Ye]}set context(e){this._lView[Ye]=e}get destroyed(){return Ti(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[He];if(en(e)){let n=e[ha],r=n?n.indexOf(this):-1;r>-1&&(Ol(e,r),la(n,r))}this._attachedToViewContainer=!1}Em(this._lView[Y],this._lView)}onDestroy(e){Kp(this._lView,e)}markForCheck(){Dm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){ul(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,wm(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[_i].get(MO,lT)}catch{this.exhaustive=lT}}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Po(this._lView),n=this._lView[Sr];n!==null&&!e&&_m(n,this._lView),bC(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let n=Po(this._lView),r=this._lView[Sr];r!==null&&!n&&UC(r,this._lView),ul(this._lView)}};var Fr=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=o1;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=ym(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Or(o)}}return t})();function o1(){return Xl(qe(),G())}function Xl(t,e){return t.type&4?new Fr(e,t,Bo(t,e)):null}function Oa(t,e,n,r,i){let o=t.data[e];if(o===null)o=s1(t,e,n,r,i),VD()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=OD();o.injectorIndex=s===null?-1:s.injectorIndex}return Pr(o,!0),o}function s1(t,e,n,r,i){let o=Jp(),s=dl(),c=s?o:o&&o.parent,u=t.data[e]=c1(t,c,n,e,r,i);return a1(t,u,o,s),u}function a1(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function c1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return Zp()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Z5=new RegExp(`^(\\d+)*(${pk}|${fk})*(.*)`);var u1=()=>null,l1=()=>null;function Lg(t,e){return u1(t,e)}function d1(t,e,n){return l1(t,e,n)}var $C=class{},ed=class{},Vg=class{resolveComponentFactory(e){throw new V(917,!1)}},Fa=class{static NULL=new Vg},Ra=class{},Fi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>h1()}return t})();function h1(){let t=G(),e=qe(),n=Ut(e.index,t);return(In(n)?n:t)[Ie]}var HC=(()=>{class t{static \u0275prov=ae({token:t,providedIn:"root",factory:()=>null})}return t})();var bl={},jg=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,bl,r);return i!==bl||n===bl?i:this.parentInjector.get(e,n,r)}};function Bg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Zu(i,c);else if(o==2){let u=c,l=e[++s];r=Zu(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function X(t,e=0){let n=G();if(n===null)return Ce(t,e);let r=qe();return qT(r,n,$e(t),e)}function f1(){let t="invalid";throw new Error(t)}function Cm(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,l]=h.resolveHostDirectives(s);break}m1(t,e,n,c,o,u,l)}o!==null&&r!==null&&p1(n,r,o)}function p1(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function g1(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function m1(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&tn(y)&&(u=!0,g1(t,n,m)),Ig(Ml(n,e),t,y.type)}w1(n,t.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=IC(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(n.mergedAttrs=Fo(n.mergedAttrs,y.hostAttrs),v1(t,n,e,p,y),I1(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);n.directiveToIndex.set(y.type,[p,N+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(b.ngOnChanges||b.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}y1(t,n,o)}function y1(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))hT(0,e,i,r),hT(1,e,i,r),pT(e,r,!1);else{let o=n.get(i);fT(0,e,o,r),fT(1,e,o,r),pT(e,r,!0)}}}function hT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),qC(e,o)}}function fT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),qC(e,s)}}function qC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function pT(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||um(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function v1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Tr(i.type,!0)),s=new Pi(o,tn(i),X);t.blueprint[r]=s,n[r]=s,_1(t,e,r,IC(t,n,i.hostVars,Ze),i)}function _1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;E1(s)!=c&&s.push(c),s.push(n,r,o)}}function E1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function I1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;tn(e)&&(n[""]=t)}}function w1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zC(t,e,n,r,i,o,s,c){let u=e.consts,l=zn(u,s),h=Oa(e,t,2,r,l);return o&&Cm(e,n,h,zn(u,c),i),h.mergedAttrs=Fo(h.mergedAttrs,h.attrs),h.attrs!==null&&Bg(h,h.attrs,!1),h.mergedAttrs!==null&&Bg(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function GC(t,e){tm(t,e),sl(e)&&t.queries.elementEnd(e)}function bm(t){return KC(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function WC(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function KC(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Am(t,e,n){return t[e]=n}function D1(t,e){return t[e]}function Ht(t,e,n){if(n===Ze)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Sm(t,e,n,r){let i=Ht(t,e,n);return Ht(t,e+1,r)||i}function T1(t,e,n,r,i){let o=Sm(t,e,n,r);return Ht(t,e+2,i)||o}function fg(t,e,n){return function r(i){let o=Rr(t)?Ut(t.index,e):e;Dm(o,5);let s=e[Ye],c=gT(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=gT(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function gT(t,e,n,r){let i=K(null);try{return fe(6,e,n),n(r)!==!1}catch(o){return AO(t,o),!1}finally{fe(7,e,n),K(i)}}function C1(t,e,n,r,i,o,s,c){let u=fa(t),l=!1,h=null;if(!r&&u&&(h=b1(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=nn(t,n),m=r?r(p):p;mk(n,m,o,c);let y=i.listen(m,o,c),b=r?N=>r(Bt(N[t.index])):t.index;QC(b,e,n,o,c,y,!1)}return l}function b1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Ro],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function QC(t,e,n,r,i,o,s){let c=e.firstCreatePass?Yp(e):null,u=Qp(n),l=u.length;u.push(i,o),c&&c.push(r,t,l,(l+1)*(s?-1:1))}function mT(t,e,n,r,i,o){let s=e[n],c=e[Y],l=c.data[n].outputs[r],p=s[l].subscribe(o);QC(t.index,c,e,i,o,p,!0)}var Ug=Symbol("BINDING");var Fl=class extends Fa{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=vn(e);return new Lr(n,this.ngModule)}};function A1(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Kl.SignalBased)!==0};return i&&(o.transform=i),o})}function S1(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function N1(t,e,n){let r=e instanceof wt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new jg(n,r):n}function R1(t){let e=t.get(Ra,null);if(e===null)throw new V(407,!1);let n=t.get(HC,null),r=t.get(Lt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function M1(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return yC(e,n,n==="svg"?Hp:n==="math"?wD:null)}var Lr=class extends ed{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=A1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=S1(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=iO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){fe(22);let c=K(null);try{let u=this.componentDef,l=P1(r,u,s,o),h=N1(u,i||this.ngModule,e),p=R1(h),m=p.rendererFactory.createRenderer(null,u),y=r?mO(m,r,u.encapsulation,h):M1(u,m),b=s?.some(yT)||o?.some(k=>typeof k!="function"&&k.bindings.some(yT)),N=dm(null,l,null,512|EC(u),null,null,p,m,h,null,rC(y,h,!0));N[Oe]=y,ml(N);let R=null;try{let k=zC(Oe,l,N,"#host",()=>l.directiveRegistry,!0,0);y&&(_C(m,y,k),Uo(y,N)),Ql(l,N,k),sm(l,k,N),GC(l,k),n!==void 0&&k1(k,this.ngContentSelectors,n),R=Ut(k.index,N),N[Ye]=R[Ye],mm(l,N,null)}catch(k){throw R!==null&&Dg(R),Dg(N),k}finally{fe(23),yl()}return new Ll(this.componentType,N,!!b)}finally{K(c)}}};function P1(t,e,n,r){let i=t?["ng-version","20.0.2"]:oO(e.selectors[0]),o=null,s=null,c=0;if(n)for(let h of n)c+=h[Ug].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){c+=m[Ug].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=rl(p);u.push(m)}return lm(0,null,x1(o,s),1,c,u,null,null,null,[i],null)}function x1(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function yT(t){let e=t[Ug].kind;return e==="input"||e==="twoWay"}var Ll=class extends $C{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=pa(n[Y],Oe),this.location=Bo(this._tNode,n),this.instance=Ut(this._tNode.index,n)[Ye],this.hostView=this.changeDetectorRef=new Or(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=gm(r,i[Y],i,e,n);this.previousInputValues.set(e,n);let s=Ut(r.index,i);Dm(s,1)}get injector(){return new Mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function k1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Vr=(()=>{class t{static __NG_ELEMENT_ID__=O1}return t})();function O1(){let t=qe();return ZC(t,G())}var F1=Vr,YC=class extends F1{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Bo(this._hostTNode,this._hostLView)}get injector(){return new Mi(this._hostTNode,this._hostLView)}get parentInjector(){let e=nm(this._hostTNode,this._hostLView);if(VT(e)){let n=Nl(e,this._hostLView),r=Sl(e),i=n[Y].data[r+8];return new Mi(i,n)}else return new Mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=vT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Lg(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,kl(this._hostTNode,s)),c}createComponent(e,n,r,i,o,s,c){let u=e&&!Vx(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,c=R.bindings}let h=u?e:new Lr(vn(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let k=(u?p:this.parentInjector).get(wt,null);k&&(o=k)}let m=vn(h.componentType??{}),y=Lg(this._lContainer,m?.id??null),b=y?.firstChild??null,N=h.create(p,i,b,o,s,c);return this.insertImpl(N.hostView,l,kl(this._hostTNode,y)),N}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(TD(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[He],l=new YC(u,u[mt],u[He]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Tm(s,i,o,r),e.attachToViewContainerRef(),Pp(pg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=vT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ol(this._lContainer,n);r&&(la(pg(this._lContainer),n),Em(r[Y],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ol(this._lContainer,n);return r&&la(pg(this._lContainer),n)!=null?new Or(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function vT(t){return t[ha]}function pg(t){return t[ha]||(t[ha]=[])}function ZC(t,e){let n,r=e[t.index];return en(r)?n=r:(n=BC(r,e,null,t),e[t.index]=n,hm(e,n)),V1(n,e,t,r),new YC(n,t,e)}function L1(t,e){let n=t[Ie],r=n.createComment(""),i=nn(e,t),o=n.parentNode(i);return xl(n,o,r,n.nextSibling(i),!1),r}var V1=U1,j1=()=>!1;function B1(t,e,n){return j1(t,e,n)}function U1(t,e,n,r){if(t[Nr])return;let i;n.type&8?i=Bt(r):i=L1(e,n),t[Nr]=i}var $g=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Hg=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Rm(e,n).matches!==null&&this.queries[n].setDirty()}},Vl=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=G1(e):this.predicate=e}},qg=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},zg=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,$1(n,o)),this.matchTNodeWithReadOption(e,n,Cl(n,e,o,!1,!1))}else r===Fr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Cl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===sn||i===Vr||i===Fr&&n.type&4)this.addMatch(n.index,-2);else{let o=Cl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function $1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function H1(t,e){return t.type&11?Bo(t,e):t.type&4?Xl(t,e):null}function q1(t,e,n,r){return n===-1?H1(e,t):n===-2?z1(t,e,r):Aa(t,t[Y],n,e)}function z1(t,e,n){if(n===sn)return Bo(e,t);if(n===Fr)return Xl(e,t);if(n===Vr)return ZC(e,t)}function JC(t,e,n,r){let i=e[En].queries[r];if(i.matches===null){let o=t.data,s=n.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let h=o[l];c.push(q1(e,h,s[u+1],n.metadata.read))}}i.matches=c}return i.matches}function Gg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=JC(t,e,i,n);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],h=e[-u];for(let p=ot;p<h.length;p++){let m=h[p];m[Sr]===m[He]&&Gg(m[Y],m,l,r)}if(h[Di]!==null){let p=h[Di];for(let m=0;m<p.length;m++){let y=p[m];Gg(y[Y],y,l,r)}}}}}return r}function Nm(t,e){return t[En].queries[e].queryList}function XC(t,e,n){let r=new Pl((n&4)===4);return AD(t,e,r,r.destroy),(e[En]??=new Hg).queries.push(new $g(r))-1}function eb(t,e,n){let r=we();return r.firstCreatePass&&(nb(r,new Vl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),XC(r,G(),e)}function tb(t,e,n,r){let i=we();if(i.firstCreatePass){let o=qe();nb(i,new Vl(e,n,r),o.index),W1(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return XC(i,G(),n)}function G1(t){return t.split(",").map(e=>e.trim())}function nb(t,e,n){t.queries===null&&(t.queries=new qg),t.queries.track(new zg(e,n))}function W1(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Rm(t,e){return t.queries.getByIndex(e)}function rb(t,e){let n=t[Y],r=Rm(n,e);return r.crossesNgTemplate?Gg(n,t,e,[]):JC(n,t,r,e)}function ib(t,e,n){let r,i=ra(()=>{r._dirtyCounter();let o=K1(r,t);if(e&&o===void 0)throw new V(-951,!1);return o});return r=i[Ue],r._dirtyCounter=Mt(0),r._flatValue=void 0,i}function Mm(t){return ib(!0,!1,t)}function Pm(t){return ib(!0,!0,t)}function ob(t,e){let n=t[Ue];n._lView=G(),n._queryIndex=e,n._queryList=Nm(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function K1(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[q]&4)return e?void 0:it;let i=Nm(n,r),o=rb(n,r);return i.reset(o,WT),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}var _T=new Set;function jr(t){_T.has(t)||(_T.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var xi=class{},sb=class{};var jl=class extends xi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Fl(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Op(e);this._bootstrapComponents=pC(o.bootstrap),this._r3Injector=ig(e,n,[{provide:xi,useValue:this},{provide:Fa,useValue:this.componentFactoryResolver},...r],It(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bl=class extends sb{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new jl(this.moduleType,e,[])}};var Ma=class extends xi{injector;componentFactoryResolver=new Fl(this);instance=null;constructor(e){super();let n=new yi([...e.providers,{provide:xi,useValue:this},{provide:Fa,useValue:this.componentFactoryResolver}],e.parent||So(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ab(t,e,n=null){return new Ma({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Q1=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Fp(!1,n.type),i=r.length>0?ab([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ae({token:t,providedIn:"environment",factory:()=>new t(Ce(wt))})}return t})();function Y1(t){return jo(()=>{let e=cb(t),n=ce(oe({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===im.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Q1).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Lo.Emulated,styles:t.styles||it,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&jr("NgStandalone"),ub(n);let r=t.dependencies;return n.directiveDefs=ET(r,!1),n.pipeDefs=ET(r,!0),n.id=tF(n),n})}function Z1(t){return vn(t)||rl(t)}function J1(t){return t!==null}function Br(t){return jo(()=>({type:t.type,bootstrap:t.bootstrap||it,declarations:t.declarations||it,imports:t.imports||it,exports:t.exports||it,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function X1(t,e){if(t==null)return Jt;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Kl.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function eF(t){if(t==null)return Jt;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ze(t){return jo(()=>{let e=cb(t);return ub(e),e})}function La(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function cb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Jt,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||it,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:X1(t.inputs,e),outputs:eF(t.outputs),debugInfo:null}}function ub(t){t.features?.forEach(e=>e(t))}function ET(t,e){if(!t)return null;let n=e?gD:Z1;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(J1)}function tF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nF(t){return Object.getPrototypeOf(t.prototype).constructor}function qt(t){let e=nF(t.type),n=!0,r=[t];for(;e;){let i;if(tn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=gg(t.inputs),s.declaredInputs=gg(t.declaredInputs),s.outputs=gg(t.outputs);let c=i.hostBindings;c&&aF(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&oF(t,u),l&&sF(t,l),rF(t,i),aD(t.outputs,i.outputs),tn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===qt&&(n=!1)}}e=Object.getPrototypeOf(e)}iF(r)}function rF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function iF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Fo(i.hostAttrs,n=Fo(n,i.hostAttrs))}}function gg(t){return t===Jt?{}:t===it?[]:t}function oF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function sF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function aF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function cF(t){let e=n=>{let r=Array.isArray(t);n.hostDirectives===null?(n.resolveHostDirectives=uF,n.hostDirectives=r?t.map(Wg):[t]):r?n.hostDirectives.unshift(...t.map(Wg)):n.hostDirectives.unshift(t)};return e.ngInherit=!0,e}function uF(t){let e=[],n=!1,r=null,i=null;for(let o=0;o<t.length;o++){let s=t[o];if(s.hostDirectives!==null){let c=e.length;r??=new Map,i??=new Map,lb(s,e,r),i.set(s,[c,e.length-1])}o===0&&tn(s)&&(n=!0,e.push(s))}for(let o=n?1:0;o<t.length;o++)e.push(t[o]);return[e,r,i]}function lb(t,e,n){if(t.hostDirectives!==null)for(let r of t.hostDirectives)if(typeof r=="function"){let i=r();for(let o of i)IT(Wg(o),e,n)}else IT(r,e,n)}function IT(t,e,n){let r=rl(t.directive);lF(r.declaredInputs,t.inputs),lb(r,e,n),n.set(r,t),e.push(r)}function Wg(t){return typeof t=="function"?{directive:$e(t),inputs:Jt,outputs:Jt}:{directive:$e(t.directive),inputs:wT(t.inputs),outputs:wT(t.outputs)}}function wT(t){if(t===void 0||t.length===0)return Jt;let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function lF(t,e){for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],i=t[n];t[r]=i}}function dF(t,e,n,r,i,o,s,c,u){let l=e.consts,h=Oa(e,t,4,s||null,c||null);ll()&&Cm(e,n,h,zn(l,u),pm),h.mergedAttrs=Fo(h.mergedAttrs,h.attrs),tm(e,h);let p=h.tView=lm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function td(t,e,n,r,i,o,s,c,u,l,h){let p=n+Oe,m=e.firstCreatePass?dF(p,e,t,r,i,o,s,c,l):e.data[p];u&&(m.flags|=u),Pr(m,!1);let y=hF(e,t,m,n);Ea()&&Zl(e,t,y,m),Uo(y,t);let b=BC(y,t,y,m);return t[p]=b,hm(t,b),B1(b,m,t),fa(m)&&Ql(e,t,m),l!=null&&fm(t,m,h),m}function db(t,e,n,r,i,o,s,c){let u=G(),l=we(),h=zn(l.consts,o);return td(u,l,t,e,n,r,i,h,void 0,s,c),db}var hF=fF;function fF(t,e,n,r){return Ia(!0),e[Ie].createComment("")}var nd=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(nd||{}),Ho=new B(""),hb=!1,Kg=class extends rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,il()&&(this.destroyRef=O(Rt,{optional:!0})??void 0,this.pendingTasks=O(Ai,{optional:!0})??void 0)}emit(e){let n=K(null);try{super.next(e)}finally{K(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},st=Kg;function fb(t){let e,n;function r(){t=Ni;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function DT(t){return queueMicrotask(()=>t()),()=>{t=Ni}}var xm="isAngularZone",Ul=xm+"_ID",pF=0,ve=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new st(!1);onMicrotaskEmpty=new st(!1);onStable=new st(!1);onError=new st(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=hb}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,yF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(xm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,gF,Ni,Ni);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},gF={};function km(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mF(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){fb(()=>{t.callbackScheduled=!1,Qg(t),t.isCheckStableRunning=!0,km(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Qg(t)}function yF(t){let e=()=>{mF(t)},n=pF++;t._inner=t._inner.fork({name:"angular",properties:{[xm]:!0,[Ul]:n,[Ul+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(vF(u))return r.invokeTask(o,s,c,u);try{return TT(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),CT(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return TT(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!_F(u)&&e(),CT(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Qg(t),km(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Qg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function TT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CT(t){t._nesting--,km(t)}var $l=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new st;onMicrotaskEmpty=new st;onStable=new st;onError=new st;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function vF(t){return pb(t,"__ignore_ng_zone__")}function _F(t){return pb(t,"__scheduler_tick__")}function pb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var rd=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})(),Om=[0,1,2,3],Fm=(()=>{class t{ngZone=O(ve);scheduler=O(Lt);errorHandler=O($n,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){O(Ho,{optional:!0})}execute(){let n=this.sequences.size>0;n&&fe(16),this.executing=!0;for(let r of Om)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&fe(17)}register(n){let{view:r}=n;r!==void 0?((r[wi]??=[]).push(n),Mr(r),r[q]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(nd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})(),Pa=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[wi];e&&(this.view[wi]=e.filter(n=>n!==this))}};function gb(t,e){!e?.injector&&Bp(gb);let n=e?.injector??O(xe);return jr("NgAfterNextRender"),IF(t,n,e,!0)}function EF(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function IF(t,e,n,r){let i=e.get(rd);i.impl??=e.get(Fm);let o=e.get(Ho,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Rt):null,c=e.get(bi,null,{optional:!0}),u=new Pa(i.impl,EF(t),c?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var wF=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var mb=new B(""),yb=new B(""),DF=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,i){this._ngZone=n,this.registry=r,il()&&(this._destroyRef=O(Rt,{optional:!0})??void 0),Lm||(_b(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static \u0275fac=function(r){return new(r||t)(Ce(ve),Ce(vb),Ce(yb))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),vb=(()=>{class t{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Lm?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function _b(t){Lm=t}var Lm;function Li(t){return!!t&&typeof t.then=="function"}function id(t){return!!t&&typeof t.subscribe=="function"}var Vm=new B("");function TF(t){return Vt([{provide:Vm,multi:!0,useValue:t}])}var jm=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=O(Vm,{optional:!0})??[];injector=O(xe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ar(this.injector,i);if(Li(o))n.push(o);else if(id(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Eb=new B("");function Ib(){up(()=>{let t="";throw new V(600,t)})}function wb(t){return t.isBoundToModule}var CF=10;var qo=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O($t);afterRenderManager=O(rd);zonelessEnabled=O(wa);rootEffectScheduler=O(Da);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new rt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=O(Ai);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Et(n=>!n))}constructor(){O(Ho,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=O(wt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=xe.NULL){return this._injector.get(ve).run(()=>{fe(10);let s=n instanceof ed;if(!this._injector.get(jm).done){let b="";throw new V(405,b)}let u;s?u=n:u=this._injector.get(Fa).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=wb(u)?void 0:this._injector.get(xi),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(mb,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Ca(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),fe(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){fe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(nd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,K(n),this.afterTick.next(),fe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ra,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<CF;)fe(14),this.synchronizeOnce(),fe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!ga(i))continue;let o=r&&!this.zonelessEnabled?0:1;wm(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ga(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ca(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Eb,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ca(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ca(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Bm(t,e,n,r){let i=G(),o=Ci();if(Ht(i,o,e)){let s=we(),c=_a();TO(c,i,t,e,n,r)}return Bm}function bF(t,e,n,r,i,o,s,c){jr("NgControlFlow");let u=G(),l=we(),h=zn(l.consts,o);return td(u,l,t,e,n,r,i,h,256,s,c),Um}function Um(t,e,n,r,i,o,s,c){jr("NgControlFlow");let u=G(),l=we(),h=zn(l.consts,o);return td(u,l,t,e,n,r,i,h,512,s,c),Um}function AF(t,e){jr("NgControlFlow");let n=G(),r=Ci(),i=n[r]!==Ze?n[r]:-1,o=i!==-1?bT(n,Oe+i):void 0,s=0;if(Ht(n,r,t)){let c=K(null);try{if(o!==void 0&&r1(o,s),t!==-1){let u=Oe+t,l=bT(n,u),h=SF(n[Y],u),p=d1(l,h,n),m=ym(n,h,e,{dehydratedView:p});Tm(l,m,s,kl(h,p))}}finally{K(c)}}else if(o!==void 0){let c=n1(o,s);c!==void 0&&(c[Ye]=e)}}function bT(t,e){return t[e]}function SF(t,e){return pa(t,e)}function Db(t,e,n){let r=G(),i=Ci();if(Ht(r,i,e)){let o=we(),s=_a();TC(s,r,t,e,r[Ie],n)}return Db}function Yg(t,e,n,r,i){gm(e,t,n,i?"class":"style",r)}function $m(t,e,n,r){let i=G(),o=we(),s=Oe+t,c=i[Ie],u=o.firstCreatePass?zC(s,o,i,e,pm,ll(),n,r):o.data[s],l=NF(o,i,u,c,e,t);i[s]=l;let h=fa(u);return Pr(u,!0),_C(c,l,u),!Yl(u)&&Ea()&&Zl(o,i,l,u),(SD()===0||h)&&Uo(l,i),ND(),h&&(Ql(o,i,u),sm(o,u,i)),r!==null&&fm(i,u),$m}function Hm(){let t=qe();dl()?hl():(t=t.parent,Pr(t,!1));let e=t;MD(e)&&PD(),RD();let n=we();return n.firstCreatePass&&GC(n,e),e.classesWithoutHost!=null&&qx(e)&&Yg(n,e,G(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&zx(e)&&Yg(n,e,G(),e.stylesWithoutHost,!1),Hm}function Tb(t,e,n,r){return $m(t,e,n,r),Hm(),Tb}var NF=(t,e,n,r,i,o)=>(Ia(!0),yC(r,i,KD()));function RF(t,e,n,r,i){let o=e.consts,s=zn(o,r),c=Oa(e,t,8,"ng-container",s);s!==null&&Bg(c,s,!0);let u=zn(o,i);return ll()&&Cm(e,n,c,u,pm),c.mergedAttrs=Fo(c.mergedAttrs,c.attrs),e.queries!==null&&e.queries.elementStart(e,c),c}function qm(t,e,n){let r=G(),i=we(),o=t+Oe,s=i.firstCreatePass?RF(o,i,r,e,n):i.data[o];Pr(s,!0);let c=MF(i,r,s,t);return r[o]=c,Ea()&&Zl(i,r,c,s),Uo(c,r),fa(s)&&(Ql(i,r,s),sm(i,s,r)),n!=null&&fm(r,s),qm}function zm(){let t=qe(),e=we();return dl()?hl():(t=t.parent,Pr(t,!1)),e.firstCreatePass&&(tm(e,t),sl(t)&&e.queries.elementEnd(t)),zm}function Cb(t,e,n){return qm(t,e,n),zm(),Cb}var MF=(t,e,n,r)=>(Ia(!0),cO(e[Ie],""));function PF(){return G()}function bb(t,e,n){let r=G(),i=Ci();if(Ht(r,i,e)){let o=we(),s=_a();CC(s,r,t,e,r[Ie],n)}return bb}var Ri=void 0;function xF(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var kF=["en",[["a","p"],["AM","PM"],Ri],[["AM","PM"],Ri,Ri],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ri,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ri,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ri,"{1} 'at' {0}",Ri],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",xF],ba={};function Gm(t,e,n){typeof e!="string"&&(n=e,e=t[be.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ba[e]=t,n&&(ba[e][be.ExtraData]=n)}function Pt(t){let e=OF(t),n=AT(e);if(n)return n;let r=e.split("-")[0];if(n=AT(r),n)return n;if(r==="en")return kF;throw new V(701,!1)}function AT(t){return t in ba||(ba[t]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[t]),ba[t]}var be=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(be||{});function OF(t){return t.toLowerCase().replace(/_/g,"-")}var Va="en-US";var FF=Va;function Ab(t){typeof t=="string"&&(FF=t.toLowerCase().replace(/_/g,"-"))}function Vi(t,e,n){let r=G(),i=we(),o=qe();return Sb(i,r,r[Ie],o,t,e,n),Vi}function Sb(t,e,n,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=fg(r,e,o),C1(r,t,e,s,n,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=fg(r,e,o),mT(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=fg(r,e,o),mT(r,e,p,i,i,u)}}function LF(t=1){return zD(t)}function VF(t,e){let n=null,r=Xk(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?mC(t,o,!0):nO(r,o))return i}return n}function jF(t){let e=G()[Dt][mt];if(!e.projection){let n=t?t.length:1,r=e.projection=fD(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?VF(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function BF(t,e=0,n,r,i,o){let s=G(),c=we(),u=r?t+1:null;u!==null&&td(s,c,u,r,i,o,null,n);let l=Oa(c,Oe+t,16,null,n||null);l.projection===null&&(l.projection=e),hl();let p=!s[No]||Zp();s[Dt][mt].projection[l.projection]===null&&u!==null?UF(s,c,u):p&&!Yl(l)&&UO(c,s,l)}function UF(t,e,n){let r=Oe+n,i=e.data[r],o=t[r],s=Lg(o,i.tView.ssrId),c=ym(t,i,void 0,{dehydratedView:s});Tm(o,c,0,kl(i,s))}function $F(t,e,n,r){tb(t,e,n,r)}function HF(t,e,n){eb(t,e,n)}function qF(t){let e=G(),n=we(),r=gl();va(r+1);let i=Rm(n,r);if(t.dirty&&DD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=rb(e,r);t.reset(o,WT),t.notifyOnChanges()}return!0}return!1}function zF(){return Nm(G(),gl())}function GF(t,e,n,r,i){ob(e,tb(t,n,r,i))}function WF(t,e,n,r){ob(t,eb(e,n,r))}function KF(t=1){va(gl()+t)}function QF(t){let e=FD();return al(e,Oe+t)}function wl(t,e){return t<<17|e<<2}function ki(t){return t>>17&32767}function YF(t){return(t&2)==2}function ZF(t,e){return t&131071|e<<17}function Zg(t){return t|2}function Vo(t){return(t&131068)>>2}function mg(t,e){return t&-131069|e<<2}function JF(t){return(t&1)===1}function Jg(t){return t|1}function XF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=ki(s),u=Vo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Ao(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=ki(t[c+1]);t[r+1]=wl(m,c),m!==0&&(t[m+1]=mg(t[m+1],r)),t[c+1]=ZF(t[c+1],r)}else t[r+1]=wl(c,0),c!==0&&(t[c+1]=mg(t[c+1],r)),c=r;else t[r+1]=wl(u,0),c===0?c=r:t[u+1]=mg(t[u+1],r),u=r;l&&(t[r+1]=Zg(t[r+1])),ST(t,h,r,!0),ST(t,h,r,!1),eL(e,h,t,r,o),s=wl(c,u),o?e.classBindings=s:e.styleBindings=s}function eL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ao(o,e)>=0&&(n[r+1]=Jg(n[r+1]))}function ST(t,e,n,r){let i=t[n+1],o=e===null,s=r?ki(i):Vo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];tL(u,e)&&(c=!0,t[s+1]=r?Jg(l):Zg(l)),s=r?ki(l):Vo(l)}c&&(t[n+1]=r?Zg(i):Jg(i))}function tL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ao(t,e)>=0:!1}var on={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function nL(t){return t.substring(on.key,on.keyEnd)}function rL(t){return iL(t),Nb(t,Rb(t,0,on.textEnd))}function Nb(t,e){let n=on.textEnd;return n===e?-1:(e=on.keyEnd=oL(t,on.key=e,n),Rb(t,e,n))}function iL(t){on.key=0,on.keyEnd=0,on.value=0,on.valueEnd=0,on.textEnd=t.length}function Rb(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function oL(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Mb(t,e,n){return Pb(t,e,n,!1),Mb}function ja(t,e){return Pb(t,e,null,!0),ja}function sL(t){cL(pL,aL,t,!0)}function aL(t,e){for(let n=rL(e);n>=0;n=Nb(e,n))tl(t,nL(e),!0)}function Pb(t,e,n,r){let i=G(),o=we(),s=ya(2);if(o.firstUpdatePass&&kb(o,t,s,r),e!==Ze&&Ht(i,s,e)){let c=o.data[wn()];Ob(o,c,i,i[Ie],t,i[s+1]=mL(e,n),r,s)}}function cL(t,e,n,r){let i=we(),o=ya(2);i.firstUpdatePass&&kb(i,null,o,r);let s=G();if(n!==Ze&&Ht(s,o,n)){let c=i.data[wn()];if(Fb(c,r)&&!xb(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=Zu(u,n||"")),Yg(i,c,s,n,r)}else gL(i,c,s,s[Ie],s[o+1],s[o+1]=fL(t,e,n),r,o)}}function xb(t,e){return e>=t.expandoStartIndex}function kb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[wn()],s=xb(t,n);Fb(o,r)&&e===null&&!s&&(e=!1),e=uL(i,o,e,r),XF(i,o,e,n,s,r)}}function uL(t,e,n,r){let i=UD(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=yg(null,t,e,n,r),n=xa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=yg(i,t,e,n,r),o===null){let u=lL(t,e,r);u!==void 0&&Array.isArray(u)&&(u=yg(null,t,e,u[1],r),u=xa(u,e.attrs,r),dL(t,e,r,u))}else o=hL(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function lL(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Vo(r)!==0)return t[ki(r)]}function dL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ki(i)]=r}function hL(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=xa(r,s,n)}return xa(r,e.attrs,n)}function yg(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=xa(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function xa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),tl(t,s,n?!0:e[++o]))}return t===void 0?null:t}function fL(t,e,n){if(n==null||n==="")return it;let r=[],i=$o(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function pL(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&tl(t,r,n)}function gL(t,e,n,r,i,o,s,c){i===Ze&&(i=it);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,b=null,N;h===p?(u+=2,l+=2,m!==y&&(b=p,N=y)):p===null||h!==null&&h<p?(u+=2,b=h):(l+=2,b=p,N=y),b!==null&&Ob(t,e,n,r,b,N,s,c),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function Ob(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],h=JF(l)?NT(u,e,n,i,Vo(l),s):void 0;if(!Hl(h)){Hl(o)||YF(l)&&(o=NT(u,null,n,i,c,s));let p=qp(wn(),n);HO(r,s,p,i,o)}}function NT(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Ze&&(m=p?it:void 0);let y=p?nl(m,r):h===r?m:void 0;if(l&&!Hl(y)&&(y=nl(u,r)),Hl(y)&&(c=y,s))return c;let b=t[i+1];i=s?ki(b):Vo(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=nl(u,r))}return c}function Hl(t){return t!==void 0}function mL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=It($o(t)))),t}function Fb(t,e){return(t.flags&(e?8:16))!==0}function yL(t,e=""){let n=G(),r=we(),i=t+Oe,o=r.firstCreatePass?Oa(r,i,1,e,null):r.data[i],s=vL(r,n,o,e,t);n[i]=s,Ea()&&Zl(r,n,s,o),Pr(o,!1)}var vL=(t,e,n,r,i)=>(Ia(!0),sO(e[Ie],r));function Lb(t,e,n,r=""){return Ht(t,Ci(),n)?e+yn(n)+r:Ze}function _L(t,e,n,r,i,o=""){let s=tg(),c=Sm(t,s,n,i);return ya(2),c?e+yn(n)+r+yn(i)+o:Ze}function EL(t,e,n,r,i,o,s,c=""){let u=tg(),l=T1(t,u,n,i,s);return ya(3),l?e+yn(n)+r+yn(i)+o+yn(s)+c:Ze}function Vb(t){return Wm("",t),Vb}function Wm(t,e,n){let r=G(),i=Lb(r,t,e,n);return i!==Ze&&Km(r,wn(),i),Wm}function jb(t,e,n,r,i){let o=G(),s=_L(o,t,e,n,r,i);return s!==Ze&&Km(o,wn(),s),jb}function Bb(t,e,n,r,i,o,s){let c=G(),u=EL(c,t,e,n,r,i,o,s);return u!==Ze&&Km(c,wn(),u),Bb}function Km(t,e,n){let r=qp(e,t);aO(t[Ie],r,n)}function Ub(t,e,n){ag(e)&&(e=e());let r=G(),i=Ci();if(Ht(r,i,e)){let o=we(),s=_a();TC(s,r,t,e,r[Ie],n)}return Ub}function IL(t,e){let n=ag(t);return n&&t.set(e),n}function $b(t,e){let n=G(),r=we(),i=qe();return Sb(r,n,n[Ie],i,t,e),$b}function wL(t,e,n=""){return Lb(G(),t,e,n)}function DL(t,e,n){let r=we();if(r.firstCreatePass){let i=tn(t);Xg(n,r.data,r.blueprint,i,!0),Xg(e,r.data,r.blueprint,i,!1)}}function Xg(t,e,n,r,i){if(t=$e(t),Array.isArray(t))for(let o=0;o<t.length;o++)Xg(t[o],e,n,r,i);else{let o=we(),s=G(),c=qe(),u=mi(t)?t:$e(t.provide),l=jp(t),h=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(mi(t)||!t.multi){let y=new Pi(l,i,X),b=_g(u,e,i?h:h+m,p);b===-1?(Ig(Ml(c,s),o,u),vg(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(y),s.push(y)):(n[b]=y,s[b]=y)}else{let y=_g(u,e,h+m,p),b=_g(u,e,h,h+m),N=y>=0&&n[y],R=b>=0&&n[b];if(i&&!R||!i&&!N){Ig(Ml(c,s),o,u);let k=bL(i?CL:TL,n.length,i,r,l);!i&&R&&(n[b].providerFactory=k),vg(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=Hb(n[i?b:y],l,!i&&r);vg(o,t,y>-1?y:b,k)}!i&&r&&R&&n[b].componentProviders++}}}function vg(t,e,n,r){let i=mi(e),o=ED(e);if(i||o){let u=(o?$e(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function Hb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _g(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function TL(t,e,n,r){return em(this.multi,[])}function CL(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=Aa(n,n[Y],this.providerFactory.index,r);o=c.slice(0,s),em(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],em(i,o);return o}function em(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function bL(t,e,n,r,i){let o=new Pi(t,n,X);return o.multi=[],o.index=e,o.componentProviders=0,Hb(o,i,r&&!n),o}function Ur(t,e=[]){return n=>{n.providersResolver=(r,i)=>DL(r,i?i(t):t,e)}}function AL(t,e,n){let r=fl()+t,i=G();return i[r]===Ze?Am(i,r,n?e.call(n):e()):D1(i,r)}function qb(t,e){let n=t[e];return n===Ze?void 0:n}function SL(t,e,n,r,i,o){let s=e+n;return Ht(t,s,i)?Am(t,s+1,o?r.call(o,i):r(i)):qb(t,s+1)}function NL(t,e,n,r,i,o,s){let c=e+n;return Sm(t,c,i,o)?Am(t,c+2,s?r.call(s,i,o):r(i,o)):qb(t,c+2)}function RL(t,e){let n=we(),r,i=t+Oe;n.firstCreatePass?(r=ML(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Tr(r.type,!0)),s,c=gt(X);try{let u=Rl(!1),l=o();return Rl(u),zp(n,G(),i,l),l}finally{gt(c)}}function ML(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function PL(t,e,n){let r=t+Oe,i=G(),o=al(i,r);return zb(i,r)?SL(i,fl(),e,o.transform,n,o):o.transform(n)}function xL(t,e,n,r){let i=t+Oe,o=G(),s=al(o,i);return zb(o,i)?NL(o,fl(),e,s.transform,n,r,s):s.transform(n,r)}function zb(t,e){return t[Y].data[e].pure}function kL(t,e){return Xl(t,e)}var ql=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},OL=(()=>{class t{compileModuleSync(n){return new Bl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Op(n),o=pC(i.declarations).reduce((s,c)=>{let u=vn(c);return u&&s.push(new Lr(u)),s},[]);return new ql(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var FL=(()=>{class t{zone=O(ve);changeDetectionScheduler=O(Lt);applicationRef=O(qo);applicationErrorHandler=O($t);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Gb=new B("",{factory:()=>!1});function Qm({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(ce(oe({},Ym()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:br,multi:!0,useFactory:()=>{let r=O(FL,{optional:!0});return()=>r.initialize()}},{provide:br,multi:!0,useFactory:()=>{let r=O(VL);return()=>{r.initialize()}}},e===!0?{provide:cg,useValue:!0}:[],{provide:ug,useValue:n??hb},{provide:$t,useFactory:()=>{let r=O(ve),i=O(wt),o;return s=>{o??=i.get($n),r.runOutsideAngular(()=>o.handleError(s))}}}]}function LL(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Qm({ngZoneFactory:()=>{let i=Ym(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&jr("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Vt([{provide:Gb,useValue:!0},{provide:wa,useValue:!1},r])}function Ym(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VL=(()=>{class t{subscription=new ke;initialized=!1;zone=O(ve);pendingTasks=O(Ai);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Wb=(()=>{class t{applicationErrorHandler=O($t);appRef=O(qo);taskService=O(Ai);ngZone=O(ve);zonelessEnabled=O(wa);tracing=O(Ho,{optional:!0});disableScheduling=O(cg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ul):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(ug,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $l||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?DT:fb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ul+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,DT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jL(){return typeof $localize<"u"&&$localize.locale||Va}var Ba=new B("",{providedIn:"root",factory:()=>O(Ba,{optional:!0,skipSelf:!0})||jL()});function Ct(t){return rD(t)}function Kn(t,e){return ra(t,e?.equal)}var Zm=class{[Ue];constructor(e){this[Ue]=e}destroy(){this[Ue].destroy()}};function Kb(t,e){let n=e?.injector??O(xe),r=e?.manualCleanup!==!0?n.get(Rt):null,i,o=n.get(bi,null,{optional:!0}),s=n.get(Lt);return o!==null?(i=$L(o.view,s,t),r instanceof ca&&r._lView===o.view&&(r=null)):i=HL(t,n.get(Da),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Zm(i)}var Qb=ce(oe({},wr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Ni,run(){if(this.dirty=!1,this.hasRun&&!fi(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),e=Bn(this),n=xo(!1);try{this.maybeCleanup(),this.fn(t)}finally{xo(n),Dr(this,e)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let t=K(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],K(t)}}}),BL=ce(oe({},Qb),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Do(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),UL=ce(oe({},Qb),{consumerMarkedDirty(){this.view[q]|=8192,Mr(this.view),this.notifier.notify(13)},destroy(){Do(this),this.onDestroyFn(),this.maybeCleanup(),this.view[qn]?.delete(this)}});function $L(t,e,n){let r=Object.create(UL);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=n,t[qn]??=new Set,t[qn].add(r),r.consumerMarkedDirty(r),r}function HL(t,e,n){let r=Object.create(BL);return r.fn=t,r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}var rA=Symbol("InputSignalNode#UNSET"),XL=ce(oe({},ia),{transformFn:void 0,applyValueToInputSignal(t,e){To(t,e)}});function iA(t,e){let n=Object.create(XL);n.value=t,n.transformFn=e?.transform;function r(){if(hi(n),n.value===rA){let i=null;throw new V(-950,i)}return n.value}return r[Ue]=n,r}var Yb=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>rm(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},eV=new B("");eV.__NG_ELEMENT_ID__=t=>{let e=qe();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new V(204,!1)};function Zb(t,e){return iA(t,e)}function tV(t){return iA(rA,t)}var NJ=(Zb.required=tV,Zb);function Jb(t,e){return Mm(e)}function nV(t,e){return Pm(e)}var RJ=(Jb.required=nV,Jb);function Xb(t,e){return Mm(e)}function rV(t,e){return Pm(e)}var MJ=(Xb.required=rV,Xb);var ji=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},oA=new ji("20.0.2");var Xm=new B(""),iV=new B("");function Ua(t){return!t.moduleRef}function oV(t){let e=Ua(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{Ua(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get($t),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Ua(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Xm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Xm);s.add(o),t.moduleRef.onDestroy(()=>{Ca(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return aV(r,n,()=>{let o=e.get(jm);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Ba,Va);if(Ab(s||Va),!e.get(iV,!0))return Ua(t)?e.get(qo):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ua(t)){let u=e.get(qo);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return sV?.(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}var sV;function aV(t,e,n){try{let r=n();return Li(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var od=null;function cV(t=[],e){return xe.create({name:e,providers:[{provide:Vp,useValue:"platform"},{provide:Xm,useValue:new Set([()=>od=null])},...t]})}function uV(t=[]){if(od)return od;let e=cV(t);return od=e,Ib(),lV(e),e}function lV(t){let e=t.get(eC,null);Ar(t,()=>{e?.forEach(n=>n())})}function oy(){return!1}var $a=(()=>{class t{static __NG_ELEMENT_ID__=dV}return t})();function dV(t){return hV(qe(),G(),(t&16)===16)}function hV(t,e,n){if(Rr(t)&&!n){let r=Ut(t.index,e);return new Or(r,r)}else if(t.type&175){let r=e[Dt];return new Or(r,e)}return null}var ey=class{constructor(){}supports(e){return bm(e)}create(e){return new ty(e)}},fV=(t,e)=>e,ty=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||fV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<eA(r,i,o)?n:r,c=eA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,b=y+m;h<=b&&b<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!bm(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,WC(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new ny(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new sd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new sd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ny=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},ry=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},sd=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ry,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function eA(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function tA(){return new sy([new ey])}var sy=(()=>{class t{factories;static \u0275prov=ae({token:t,providedIn:"root",factory:tA});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||tA()),deps:[[t,new MT,new Tt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new V(901,!1)}}return t})();var PJ=(()=>{class t{constructor(n){}static \u0275fac=function(r){return new(r||t)(Ce(qo))};static \u0275mod=Br({type:t});static \u0275inj=Hn({})}return t})();function xJ(t){fe(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=uV(r),o=[Qm({}),{provide:Lt,useExisting:Wb},YD,...n||[]],s=new Ma({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return oV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{fe(9)}}function ay(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function pV(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}var Jm=Symbol("NOT_SET"),sA=new Set,gV=ce(oe({},ia),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:Jm,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(t){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==Jm&&!fi(this))return this.signal;try{for(let i of this.cleanup??sA)i()}finally{this.cleanup?.clear()}let e=[];t!==void 0&&e.push(t),e.push(this.registerCleanupFn);let n=Bn(this),r;try{r=this.userFn.apply(null,e)}finally{Dr(this,n)}return(this.value===Jm||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),iy=class extends Pa{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,n,r,i,o,s=null){super(e,[void 0,void 0,void 0,void 0],r,!1,o,s),this.scheduler=i;for(let c of Om){let u=n[c];if(u===void 0)continue;let l=Object.create(gV);l.sequence=this,l.phase=c,l.userFn=u,l.dirty=!0,l.signal=()=>(hi(l),l.value),l.signal[Ue]=l,l.registerCleanupFn=h=>(l.cleanup??=new Set).add(h),this.nodes[c]=l,this.hooks[c]=h=>l.phaseFn(h)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)for(let n of e?.cleanup??sA)n()}};function kJ(t,e){let n=e?.injector??O(xe),r=n.get(Lt),i=n.get(rd),o=n.get(Ho,null,{optional:!0});i.impl??=n.get(Fm);let s=t;typeof s=="function"&&(s={mixedReadWrite:t});let c=n.get(bi,null,{optional:!0}),u=new iy(i.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],c?.view,r,n.get(Rt),o?.snapshot(null));return i.impl.register(u),u}function OJ(t,e){let n=vn(t),r=e.elementInjector||So();return new Lr(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function FJ(t){let e=vn(t);if(!e)return null;let n=new Lr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var uA=null;function Bi(){return uA}function mV(t){uA??=t}var cy=class{},Ha=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:()=>O(lA),providedIn:"platform"})}return t})(),yV=new B(""),lA=(()=>{class t extends Ha{_location;_history;_doc=O(kr);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bi().getBaseHref(this._doc)}onPopState(n){let r=Bi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Bi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function cd(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function aA(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function an(t){return t&&t[0]!=="?"?`?${t}`:t}var zo=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:()=>O(dA),providedIn:"root"})}return t})(),ud=new B(""),dA=(()=>{class t extends zo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(kr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return cd(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+an(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+an(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+an(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ce(Ha),Ce(ud,8))};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hA=(()=>{class t{_subject=new rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=EV(aA(cA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+an(r))}normalize(n){return t.stripTrailingSlash(_V(this._basePath,cA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+an(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+an(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=an;static joinWithSlash=cd;static stripTrailingSlash=aA;static \u0275fac=function(r){return new(r||t)(Ce(zo))};static \u0275prov=ae({token:t,factory:()=>vV(),providedIn:"root"})}return t})();function vV(){return new hA(Ce(zo))}function _V(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function cA(t){return t.replace(/\/index.html$/,"")}function EV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var IV=(()=>{class t extends zo{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=cd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+an(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+an(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ce(Ha),Ce(ud,8))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})();var at=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(at||{}),pe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(pe||{}),bt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(bt||{}),Yn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function yA(t){return Pt(t)[be.LocaleId]}function vA(t,e,n){let r=Pt(t),i=[r[be.DayPeriodsFormat],r[be.DayPeriodsStandalone]],o=zt(i,e);return zt(o,n)}function _A(t,e,n){let r=Pt(t),i=[r[be.DaysFormat],r[be.DaysStandalone]],o=zt(i,e);return zt(o,n)}function EA(t,e,n){let r=Pt(t),i=[r[be.MonthsFormat],r[be.MonthsStandalone]],o=zt(i,e);return zt(o,n)}function IA(t,e){let r=Pt(t)[be.Eras];return zt(r,e)}function qa(t,e){let n=Pt(t);return zt(n[be.DateFormat],e)}function za(t,e){let n=Pt(t);return zt(n[be.TimeFormat],e)}function Ga(t,e){let r=Pt(t)[be.DateTimeFormat];return zt(r,e)}function Wa(t,e){let n=Pt(t),r=n[be.NumberSymbols][e];if(typeof r>"u"){if(e===Yn.CurrencyDecimal)return n[be.NumberSymbols][Yn.Decimal];if(e===Yn.CurrencyGroup)return n[be.NumberSymbols][Yn.Group]}return r}function wA(t){if(!t[be.ExtraData])throw new V(2303,!1)}function DA(t){let e=Pt(t);return wA(e),(e[be.ExtraData][2]||[]).map(r=>typeof r=="string"?uy(r):[uy(r[0]),uy(r[1])])}function TA(t,e,n){let r=Pt(t);wA(r);let i=[r[be.ExtraData][0],r[be.ExtraData][1]],o=zt(i,e)||[];return zt(o,n)||[]}function zt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new V(2304,!1)}function uy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var wV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ld={},DV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function CA(t,e,n,r){let i=PV(t);e=Qn(n,e)||e;let s=[],c;for(;e;)if(c=DV.exec(e),c){s=s.concat(c.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=AA(r,u),i=MV(i,r));let l="";return s.forEach(h=>{let p=NV(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function gd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Qn(t,e){let n=yA(t);if(ld[n]??={},ld[n][e])return ld[n][e];let r="";switch(e){case"shortDate":r=qa(t,bt.Short);break;case"mediumDate":r=qa(t,bt.Medium);break;case"longDate":r=qa(t,bt.Long);break;case"fullDate":r=qa(t,bt.Full);break;case"shortTime":r=za(t,bt.Short);break;case"mediumTime":r=za(t,bt.Medium);break;case"longTime":r=za(t,bt.Long);break;case"fullTime":r=za(t,bt.Full);break;case"short":let i=Qn(t,"shortTime"),o=Qn(t,"shortDate");r=dd(Ga(t,bt.Short),[i,o]);break;case"medium":let s=Qn(t,"mediumTime"),c=Qn(t,"mediumDate");r=dd(Ga(t,bt.Medium),[s,c]);break;case"long":let u=Qn(t,"longTime"),l=Qn(t,"longDate");r=dd(Ga(t,bt.Long),[u,l]);break;case"full":let h=Qn(t,"fullTime"),p=Qn(t,"fullDate");r=dd(Ga(t,bt.Full),[h,p]);break}return r&&(ld[n][e]=r),r}function dd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function cn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function TV(t,e){return cn(t,3).substring(0,e)}function Fe(t,e,n=0,r=!1,i=!1){return function(o,s){let c=CV(t,o);if((n>0||c>-n)&&(c+=n),t===3)c===0&&n===-12&&(c=12);else if(t===6)return TV(c,e);let u=Wa(s,Yn.MinusSign);return cn(c,e,u,r,i)}}function CV(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new V(2301,!1)}}function _e(t,e,n=at.Format,r=!1){return function(i,o){return bV(i,o,t,e,n,r)}}function bV(t,e,n,r,i,o){switch(n){case 2:return EA(e,i,r)[t.getMonth()];case 1:return _A(e,i,r)[t.getDay()];case 0:let s=t.getHours(),c=t.getMinutes();if(o){let l=DA(e),h=TA(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,b]=m,N=s>=y.hours&&c>=y.minutes,R=s<b.hours||s===b.hours&&c<b.minutes;if(y.hours<b.hours){if(N&&R)return!0}else if(N||R)return!0}else if(m.hours===s&&m.minutes===c)return!0;return!1});if(p!==-1)return h[p]}return vA(e,i,r)[s<12?0:1];case 3:return IA(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new V(2302,!1)}}function hd(t){return function(e,n,r){let i=-1*r,o=Wa(n,Yn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+cn(s,2,o)+cn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+cn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+cn(s,2,o)+":"+cn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+cn(s,2,o)+":"+cn(Math.abs(i%60),2,o);default:throw new V(2302,!1)}}}var AV=0,pd=4;function SV(t){let e=gd(t,AV,1).getDay();return gd(t,0,1+(e<=pd?pd:pd+7)-e)}function bA(t){let e=t.getDay(),n=e===0?-3:pd-e;return gd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function ly(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=bA(n),s=SV(o.getFullYear()),c=o.getTime()-s.getTime();i=1+Math.round(c/6048e5)}return cn(i,t,Wa(r,Yn.MinusSign))}}function fd(t,e=!1){return function(n,r){let o=bA(n).getFullYear();return cn(o,t,Wa(r,Yn.MinusSign),e)}}var dy={};function NV(t){if(dy[t])return dy[t];let e;switch(t){case"G":case"GG":case"GGG":e=_e(3,pe.Abbreviated);break;case"GGGG":e=_e(3,pe.Wide);break;case"GGGGG":e=_e(3,pe.Narrow);break;case"y":e=Fe(0,1,0,!1,!0);break;case"yy":e=Fe(0,2,0,!0,!0);break;case"yyy":e=Fe(0,3,0,!1,!0);break;case"yyyy":e=Fe(0,4,0,!1,!0);break;case"Y":e=fd(1);break;case"YY":e=fd(2,!0);break;case"YYY":e=fd(3);break;case"YYYY":e=fd(4);break;case"M":case"L":e=Fe(1,1,1);break;case"MM":case"LL":e=Fe(1,2,1);break;case"MMM":e=_e(2,pe.Abbreviated);break;case"MMMM":e=_e(2,pe.Wide);break;case"MMMMM":e=_e(2,pe.Narrow);break;case"LLL":e=_e(2,pe.Abbreviated,at.Standalone);break;case"LLLL":e=_e(2,pe.Wide,at.Standalone);break;case"LLLLL":e=_e(2,pe.Narrow,at.Standalone);break;case"w":e=ly(1);break;case"ww":e=ly(2);break;case"W":e=ly(1,!0);break;case"d":e=Fe(2,1);break;case"dd":e=Fe(2,2);break;case"c":case"cc":e=Fe(7,1);break;case"ccc":e=_e(1,pe.Abbreviated,at.Standalone);break;case"cccc":e=_e(1,pe.Wide,at.Standalone);break;case"ccccc":e=_e(1,pe.Narrow,at.Standalone);break;case"cccccc":e=_e(1,pe.Short,at.Standalone);break;case"E":case"EE":case"EEE":e=_e(1,pe.Abbreviated);break;case"EEEE":e=_e(1,pe.Wide);break;case"EEEEE":e=_e(1,pe.Narrow);break;case"EEEEEE":e=_e(1,pe.Short);break;case"a":case"aa":case"aaa":e=_e(0,pe.Abbreviated);break;case"aaaa":e=_e(0,pe.Wide);break;case"aaaaa":e=_e(0,pe.Narrow);break;case"b":case"bb":case"bbb":e=_e(0,pe.Abbreviated,at.Standalone,!0);break;case"bbbb":e=_e(0,pe.Wide,at.Standalone,!0);break;case"bbbbb":e=_e(0,pe.Narrow,at.Standalone,!0);break;case"B":case"BB":case"BBB":e=_e(0,pe.Abbreviated,at.Format,!0);break;case"BBBB":e=_e(0,pe.Wide,at.Format,!0);break;case"BBBBB":e=_e(0,pe.Narrow,at.Format,!0);break;case"h":e=Fe(3,1,-12);break;case"hh":e=Fe(3,2,-12);break;case"H":e=Fe(3,1);break;case"HH":e=Fe(3,2);break;case"m":e=Fe(4,1);break;case"mm":e=Fe(4,2);break;case"s":e=Fe(5,1);break;case"ss":e=Fe(5,2);break;case"S":e=Fe(6,1);break;case"SS":e=Fe(6,2);break;case"SSS":e=Fe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=hd(0);break;case"ZZZZZ":e=hd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=hd(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=hd(2);break;default:return null}return dy[t]=e,e}function AA(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function RV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function MV(t,e,n){let i=t.getTimezoneOffset(),o=AA(e,i);return RV(t,-1*(o-i))}function PV(t){if(fA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(c=>+c);return gd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(wV))return xV(r)}let e=new Date(t);if(!fA(e))throw new V(2302,!1);return e}function xV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,c=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,c,u,l),e}function fA(t){return t instanceof Date&&!isNaN(t.valueOf())}var hy=/\s+/,pA=[],kV=(()=>{class t{_ngEl;_renderer;initialClasses=pA;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(hy):pA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(hy):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(hy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(X(sn),X(Fi))};static \u0275dir=ze({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var md=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},SA=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new md(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),gA(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);gA(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(X(Vr),X(Fr),X(sy))};static \u0275dir=ze({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function gA(t,e){t.context.$implicit=e.item}var OV=(()=>{class t{_viewContainer;_context=new yd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){mA(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){mA(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(X(Vr),X(Fr))};static \u0275dir=ze({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),yd=class{$implicit=null;ngIf=null};function mA(t,e){if(t&&!t.createEmbeddedView)throw new V(2020,!1)}var FV=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||t)(X(Vr))};static \u0275dir=ze({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Oi]})}return t})();function gy(t,e){return new V(2100,!1)}var fy=class{createSubscription(e,n,r){return Ct(()=>e.subscribe({next:n,error:r}))}dispose(e){Ct(()=>e.unsubscribe())}},py=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},LV=new py,VV=new fy,jV=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=O($t);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(Li(n))return LV;if(id(n))return VV;throw gy(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(X($a,16))};static \u0275pipe=La({name:"async",type:t,pure:!1})}return t})();var BV=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,UV=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw gy(t,n);return n.replace(BV,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=La({name:"titlecase",type:t,pure:!0})}return t})();var $V="mediumDate",NA=new B(""),RA=new B(""),HV=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??$V,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return CA(n,s,o||this.locale,c)}catch(s){throw gy(t,s.message)}}static \u0275fac=function(r){return new(r||t)(X(Ba,16),X(NA,24),X(RA,24))};static \u0275pipe=La({name:"date",type:t,pure:!0})}return t})();var qV=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Br({type:t});static \u0275inj=Hn({})}return t})();function zV(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var my=class{};function YX(t,e,n){return Gm(t,e,n)}var GV="browser",WV="server";function ZX(t){return t===GV}function JX(t){return t===WV}var XX=(()=>{class t{static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new yy(O(kr),window)})}return t})(),yy=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(ce(oe({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=KV(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ce(oe({},n),{left:i-s[0],top:o-s[1]}))}};function KV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var BA=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(X(Fi),X(sn))};static \u0275dir=ze({type:t})}return t})(),UA=(()=>{class t extends BA{static \u0275fac=(()=>{let n;return function(i){return(n||(n=zl(t)))(i||t)}})();static \u0275dir=ze({type:t,features:[qt]})}return t})(),Sd=new B("");var QV={provide:Sd,useExisting:Zt(()=>$A),multi:!0};function YV(){let t=Bi()?Bi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var ZV=new B(""),$A=(()=>{class t extends BA{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!YV())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(X(Fi),X(sn),X(ZV,8))};static \u0275dir=ze({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Vi("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ur([QV]),qt]})}return t})();function Iy(t){return t==null||wy(t)===0}function wy(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Nd=new B(""),Rd=new B(""),JV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,MA=class{static min(e){return XV(e)}static max(e){return e2(e)}static required(e){return t2(e)}static requiredTrue(e){return n2(e)}static email(e){return r2(e)}static minLength(e){return i2(e)}static maxLength(e){return o2(e)}static pattern(e){return s2(e)}static nullValidator(e){return HA()}static compose(e){return QA(e)}static composeAsync(e){return YA(e)}};function XV(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function e2(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function t2(t){return Iy(t.value)?{required:!0}:null}function n2(t){return t.value===!0?null:{required:!0}}function r2(t){return Iy(t.value)||JV.test(t.value)?null:{email:!0}}function i2(t){return e=>{let n=e.value?.length??wy(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function o2(t){return e=>{let n=e.value?.length??wy(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function s2(t){if(!t)return HA;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Iy(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function HA(t){return null}function qA(t){return t!=null}function zA(t){return Li(t)?_t(t):t}function GA(t){let e={};return t.forEach(n=>{e=n!=null?oe(oe({},e),n):e}),Object.keys(e).length===0?null:e}function WA(t,e){return e.map(n=>n(t))}function a2(t){return!t.validate}function KA(t){return t.map(e=>a2(e)?e:n=>e.validate(n))}function QA(t){if(!t)return null;let e=t.filter(qA);return e.length==0?null:function(n){return GA(WA(n,e))}}function Dy(t){return t!=null?QA(KA(t)):null}function YA(t){if(!t)return null;let e=t.filter(qA);return e.length==0?null:function(n){let r=WA(n,e).map(zA);return Xf(r).pipe(Et(GA))}}function Ty(t){return t!=null?YA(KA(t)):null}function PA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ZA(t){return t._rawValidators}function JA(t){return t._rawAsyncValidators}function vy(t){return t?Array.isArray(t)?t:[t]:[]}function _d(t,e){return Array.isArray(t)?t.includes(e):t===e}function xA(t,e){let n=vy(e);return vy(t).forEach(i=>{_d(n,i)||n.push(i)}),n}function kA(t,e){return vy(e).filter(n=>!_d(t,n))}var Ed=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Dy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ty(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Zn=class extends Ed{name;get formDirective(){return null}get path(){return null}},Ui=class extends Ed{_parent=null;name=null;valueAccessor=null},Id=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},c2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Iee=ce(oe({},c2),{"[class.ng-submitted]":"isSubmitted"}),wee=(()=>{class t extends Id{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(X(Ui,2))};static \u0275dir=ze({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ja("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[qt]})}return t})(),Dee=(()=>{class t extends Id{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(X(Zn,10))};static \u0275dir=ze({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ja("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[qt]})}return t})();var Ka="VALID",vd="INVALID",Go="PENDING",Qa="DISABLED",$r=class{},wd=class extends $r{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Za=class extends $r{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Ja=class extends $r{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Wo=class extends $r{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Dd=class extends $r{source;constructor(e){super(),this.source=e}},Td=class extends $r{source;constructor(e){super(),this.source=e}};function Cy(t){return(Md(t)?t.validators:t)||null}function u2(t){return Array.isArray(t)?Dy(t):t||null}function by(t,e){return(Md(e)?e.asyncValidators:t)||null}function l2(t){return Array.isArray(t)?Ty(t):t||null}function Md(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function XA(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[n])throw new V(1001,"")}function e0(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new V(1002,"")})}var Ko=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ct(this.statusReactive)}set status(e){Ct(()=>this.statusReactive.set(e))}_status=Kn(()=>this.statusReactive());statusReactive=Mt(void 0);get valid(){return this.status===Ka}get invalid(){return this.status===vd}get pending(){return this.status==Go}get disabled(){return this.status===Qa}get enabled(){return this.status!==Qa}errors;get pristine(){return Ct(this.pristineReactive)}set pristine(e){Ct(()=>this.pristineReactive.set(e))}_pristine=Kn(()=>this.pristineReactive());pristineReactive=Mt(!0);get dirty(){return!this.pristine}get touched(){return Ct(this.touchedReactive)}set touched(e){Ct(()=>this.touchedReactive.set(e))}_touched=Kn(()=>this.touchedReactive());touchedReactive=Mt(!1);get untouched(){return!this.touched}_events=new rt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kA(e,this._rawAsyncValidators))}hasValidator(e){return _d(this._rawValidators,e)}hasAsyncValidator(e){return _d(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(oe({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ja(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ja(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(oe({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Za(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Za(!0,r))}markAsPending(e={}){this.status=Go;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(oe({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Qa,this.errors=null,this._forEachChild(i=>{i.disable(ce(oe({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wd(this.value,r)),this._events.next(new Wo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(oe({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ka,this._forEachChild(r=>{r.enable(ce(oe({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(oe({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ka||this.status===Go)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wd(this.value,n)),this._events.next(new Wo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(oe({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qa:Ka}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Go,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=zA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Wo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new st,this.statusChanges=new st}_calculateStatus(){return this._allControlsDisabled()?Qa:this.errors?vd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Go)?Go:this._anyControlsHaveStatus(vd)?vd:Ka}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Za(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ja(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Md(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=u2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=l2(this._rawAsyncValidators)}},Qo=class extends Ko{constructor(e,n,r){super(Cy(n),by(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){e0(this,!0,e),Object.keys(e).forEach(r=>{XA(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var _y=class extends Qo{};var ec=new B("",{providedIn:"root",factory:()=>Pd}),Pd="always";function t0(t,e){return[...e.path,t]}function Cd(t,e,n=Pd){Ay(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),h2(t,e),p2(t,e),f2(t,e),d2(t,e)}function OA(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ad(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function bd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function d2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ay(t,e){let n=ZA(t);e.validator!==null?t.setValidators(PA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=JA(t);e.asyncValidator!==null?t.setAsyncValidators(PA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();bd(e._rawValidators,i),bd(e._rawAsyncValidators,i)}function Ad(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=ZA(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=JA(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return bd(e._rawValidators,r),bd(e._rawAsyncValidators,r),n}function h2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&n0(t,e)})}function f2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&n0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function n0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function p2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function r0(t,e){t==null,Ay(t,e)}function g2(t,e){return Ad(t,e)}function i0(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function m2(t){return Object.getPrototypeOf(t.constructor)===UA}function o0(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function s0(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===$A?n=o:m2(o)?r=o:i=o}),i||r||n||null}function y2(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var v2={provide:Zn,useExisting:Zt(()=>_2)},Ya=Promise.resolve(),_2=(()=>{class t extends Zn{callSetDisabledState;get submitted(){return Ct(this.submittedReactive)}_submitted=Kn(()=>this.submittedReactive());submittedReactive=Mt(!1);_directives=new Set;form;ngSubmit=new st;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Qo({},Dy(n),Ty(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ya.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Cd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ya.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ya.then(()=>{let r=this._findContainer(n.path),i=new Qo({});r0(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ya.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ya.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),o0(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Dd(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new Td(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(X(Nd,10),X(Rd,10),X(ec,8))};static \u0275dir=ze({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Vi("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ur([v2]),qt]})}return t})();function FA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function LA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Xa=class extends Ko{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(Cy(n),by(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Md(n)&&(n.nonNullable||n.initialValueIsDefault)&&(LA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){LA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var E2=t=>t instanceof Xa;var I2={provide:Ui,useExisting:Zt(()=>w2)},VA=Promise.resolve(),w2=(()=>{class t extends Ui{_changeDetectorRef;callSetDisabledState;control=new Xa;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new st;constructor(n,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=s0(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),i0(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Cd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){VA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&ay(r);VA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?t0(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(X(Zn,9),X(Nd,10),X(Rd,10),X(Sd,10),X($a,8),X(ec,8))};static \u0275dir=ze({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ur([I2]),qt,Oi]})}return t})();var Cee=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=ze({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),D2={provide:Sd,useExisting:Zt(()=>T2),multi:!0},T2=(()=>{class t extends UA{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=zl(t)))(i||t)}})();static \u0275dir=ze({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Vi("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ur([D2]),qt]})}return t})();var a0=new B("");var C2={provide:Zn,useExisting:Zt(()=>b2)},b2=(()=>{class t extends Zn{callSetDisabledState;get submitted(){return Ct(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Kn(()=>this._submittedReactive());_submittedReactive=Mt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new st;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ad(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Cd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){OA(n.control||null,n,!1),y2(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),o0(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Dd(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new Td(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(OA(r||null,n),E2(i)&&(Cd(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);r0(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&g2(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ay(this.form,this),this._oldForm&&Ad(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(X(Nd,10),X(Rd,10),X(ec,8))};static \u0275dir=ze({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Vi("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ur([C2]),qt,Oi]})}return t})();var A2={provide:Ui,useExisting:Zt(()=>S2)},S2=(()=>{class t extends Ui{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new st;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=s0(this,o)}ngOnChanges(n){this._added||this._setUpControl(),i0(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return t0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(X(Zn,13),X(Nd,10),X(Rd,10),X(Sd,10),X(a0,8))};static \u0275dir=ze({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ur([A2]),qt,Oi]})}return t})();var c0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Br({type:t});static \u0275inj=Hn({})}return t})(),Ey=class extends Ko{constructor(e,n,r){super(Cy(n),by(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){e0(this,!1,e),e.forEach((r,i)=>{XA(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function jA(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var bee=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return jA(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Qo(i,o)}record(n,r=null){let i=this._reduceControls(n);return new _y(i,r)}control(n,r,i){let o={};return this.useNonNullable?(jA(r)?o=r:(o.validators=r,o.asyncValidators=i),new Xa(n,ce(oe({},o),{nonNullable:!0}))):new Xa(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Ey(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Xa)return n;if(n instanceof Ko)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Aee=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ec,useValue:n.callSetDisabledState??Pd}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Br({type:t});static \u0275inj=Hn({imports:[c0]})}return t})(),See=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:a0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ec,useValue:n.callSetDisabledState??Pd}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Br({type:t});static \u0275inj=Hn({imports:[c0]})}return t})();var u0=()=>{};var h0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},N2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},xd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(h0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Ny;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ny=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},R2=function(t){let e=h0(t);return xd.encodeByteArray(e,!0)},nc=function(t){return R2(t).replace(/\./g,"")},kd=function(t){try{return xd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function My(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var M2=()=>My().__FIREBASE_DEFAULTS__,P2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},x2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&kd(t[1]);return e&&JSON.parse(e)},Od=()=>{try{return u0()||M2()||P2()||x2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Py=t=>{var e,n;return(n=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},f0=t=>{let e=Py(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xy=()=>{var t;return(t=Od())===null||t===void 0?void 0:t.config},ky=t=>{var e;return(e=Od())===null||e===void 0?void 0:e[`_${t}`]};var $i=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Hi(t){return t.endsWith(".cloudworkstations.dev")}function Fd(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function p0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nc(JSON.stringify(n)),nc(JSON.stringify(s)),""].join(".")}var tc={};function k2(){let t={prod:[],emulator:[]};for(let e of Object.keys(tc))tc[e]?t.emulator.push(e):t.prod.push(e);return t}function O2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var l0=!1;function Ld(t,e){if(typeof window>"u"||typeof document>"u"||!Hi(window.location.host)||tc[t]===e||tc[t]||l0)return;tc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=k2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{l0=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=O2(r),y=n("text"),b=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),k=n("preprendIcon"),H=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let ne=m.element;c(ne),h(R,N);let ge=l();u(H,k),ne.append(H,b,R,ge),document.body.appendChild(ne)}o?(b.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function F2(){var t;let e=(t=Od())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function v0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _0(){let t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E0(){return!F2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rc(){try{return typeof indexedDB=="object"}catch{return!1}}function I0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var L2="FirebaseError",xt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=L2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,un.prototype.create)}},un=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?V2(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new xt(i,c,r)}};function V2(t,e){return t.replace(j2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var j2=/\{\$([^}]+)}/g;function w0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(d0(o)&&d0(s)){if(!Tn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function d0(t){return t!==null&&typeof t=="object"}function ic(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Zo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function D0(t,e){let n=new Ry(t,e);return n.subscribe.bind(n)}var Ry=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");B2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sy),i.error===void 0&&(i.error=Sy),i.complete===void 0&&(i.complete=Sy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function B2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sy(){}var xee=4*60*60*1e3;function Ae(t){return t&&t._delegate?t._delegate:t}var yt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var qi="[DEFAULT]";var Oy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new $i;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($2(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function U2(t){return t===qi?void 0:t}function $2(t){return t.instantiationMode==="EAGER"}var Vd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Oy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var H2=[],ie=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ie||{}),q2={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},z2=ie.INFO,G2={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},W2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=G2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Cn=class{constructor(e){this.name=e,this._logLevel=z2,this._logHandler=W2,this._userLogHandler=null,H2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}};var K2=(t,e)=>e.some(n=>t instanceof n),T0,C0;function Q2(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y2(){return C0||(C0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var b0=new WeakMap,Ly=new WeakMap,A0=new WeakMap,Fy=new WeakMap,jy=new WeakMap;function Z2(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(bn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&b0.set(n,t)}).catch(()=>{}),jy.set(e,t),e}function J2(t){if(Ly.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ly.set(t,e)}var Vy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ly.get(t);if(e==="objectStoreNames")return t.objectStoreNames||A0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function S0(t){Vy=t(Vy)}function X2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(jd(this),e,...n);return A0.set(r,e.sort?e.sort():[e]),bn(r)}:Y2().includes(t)?function(...e){return t.apply(jd(this),e),bn(b0.get(this))}:function(...e){return bn(t.apply(jd(this),e))}}function ej(t){return typeof t=="function"?X2(t):(t instanceof IDBTransaction&&J2(t),K2(t,Q2())?new Proxy(t,Vy):t)}function bn(t){if(t instanceof IDBRequest)return Z2(t);if(Fy.has(t))return Fy.get(t);let e=ej(t);return e!==t&&(Fy.set(t,e),jy.set(e,t)),e}var jd=t=>jy.get(t);function R0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=bn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(bn(s.result),u.oldVersion,u.newVersion,bn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var tj=["get","getKey","getAll","getAllKeys","count"],nj=["put","add","delete","clear"],By=new Map;function N0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(By.get(e))return By.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=nj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tj.includes(n)))return;let o=function(s,...c){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return By.set(e,o),o}S0(t=>ce(oe({},t),{get:(e,n,r)=>N0(e,n)||t.get(e,n,r),has:(e,n)=>!!N0(e,n)||t.has(e,n)}));var $y=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function rj(t){let e=t.getComponent();return e?.type==="VERSION"}var Hy="@firebase/app",M0="0.13.1";var Jn=new Cn("@firebase/app"),ij="@firebase/app-compat",oj="@firebase/analytics-compat",sj="@firebase/analytics",aj="@firebase/app-check-compat",cj="@firebase/app-check",uj="@firebase/auth",lj="@firebase/auth-compat",dj="@firebase/database",hj="@firebase/data-connect",fj="@firebase/database-compat",pj="@firebase/functions",gj="@firebase/functions-compat",mj="@firebase/installations",yj="@firebase/installations-compat",vj="@firebase/messaging",_j="@firebase/messaging-compat",Ej="@firebase/performance",Ij="@firebase/performance-compat",wj="@firebase/remote-config",Dj="@firebase/remote-config-compat",Tj="@firebase/storage",Cj="@firebase/storage-compat",bj="@firebase/firestore",Aj="@firebase/ai",Sj="@firebase/firestore-compat",Nj="firebase",Rj="11.9.0";var qy="[DEFAULT]",Mj={[Hy]:"fire-core",[ij]:"fire-core-compat",[sj]:"fire-analytics",[oj]:"fire-analytics-compat",[cj]:"fire-app-check",[aj]:"fire-app-check-compat",[uj]:"fire-auth",[lj]:"fire-auth-compat",[dj]:"fire-rtdb",[hj]:"fire-data-connect",[fj]:"fire-rtdb-compat",[pj]:"fire-fn",[gj]:"fire-fn-compat",[mj]:"fire-iid",[yj]:"fire-iid-compat",[vj]:"fire-fcm",[_j]:"fire-fcm-compat",[Ej]:"fire-perf",[Ij]:"fire-perf-compat",[wj]:"fire-rc",[Dj]:"fire-rc-compat",[Tj]:"fire-gcs",[Cj]:"fire-gcs-compat",[bj]:"fire-fst",[Sj]:"fire-fst-compat",[Aj]:"fire-vertex","fire-js":"fire-js",[Nj]:"fire-js-all"};var oc=new Map,Pj=new Map,zy=new Map;function P0(t,e){try{t.container.addComponent(e)}catch(n){Jn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ln(t){let e=t.name;if(zy.has(e))return Jn.debug(`There were multiple attempts to register component ${e}.`),!1;zy.set(e,t);for(let n of oc.values())P0(n,t);for(let n of Pj.values())P0(n,t);return!0}function Jo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function At(t){return t==null?!1:t.settings!==void 0}var xj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new un("app","Firebase",xj);var Gy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}};var qr=Rj;function Qy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:qy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Hr.create("bad-app-name",{appName:String(i)});if(n||(n=xy()),!n)throw Hr.create("no-options");let o=oc.get(i);if(o){if(Tn(n,o.options)&&Tn(r,o.config))return o;throw Hr.create("duplicate-app",{appName:i})}let s=new Vd(i);for(let u of zy.values())s.addComponent(u);let c=new Gy(n,r,s);return oc.set(i,c),c}function zi(t=qy){let e=oc.get(t);if(!e&&t===qy&&xy())return Qy();if(!e)throw Hr.create("no-app",{appName:t});return e}function Bd(){return Array.from(oc.values())}function Me(t,e,n){var r;let i=(r=Mj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jn.warn(c.join(" "));return}ln(new yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var kj="firebase-heartbeat-database",Oj=1,sc="firebase-heartbeat-store",Uy=null;function F0(){return Uy||(Uy=R0(kj,Oj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),Uy}function Fj(t){return _(this,null,function*(){try{let n=(yield F0()).transaction(sc),r=yield n.objectStore(sc).get(L0(t));return yield n.done,r}catch(e){if(e instanceof xt)Jn.warn(e.message);else{let n=Hr.create("idb-get",{originalErrorMessage:e?.message});Jn.warn(n.message)}}})}function x0(t,e){return _(this,null,function*(){try{let r=(yield F0()).transaction(sc,"readwrite");yield r.objectStore(sc).put(e,L0(t)),yield r.done}catch(n){if(n instanceof xt)Jn.warn(n.message);else{let r=Hr.create("idb-set",{originalErrorMessage:n?.message});Jn.warn(r.message)}}})}function L0(t){return`${t.name}!${t.options.appId}`}var Lj=1024,Vj=30,Wy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ky(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=k0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Vj){let s=Bj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Jn.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=k0(),{heartbeatsToSend:r,unsentEntries:i}=jj(this._heartbeatsCache.heartbeats),o=nc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Jn.warn(n),""}})}};function k0(){return new Date().toISOString().substring(0,10)}function jj(t,e=Lj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),O0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),O0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ky=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return rc()?I0().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Fj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return x0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return x0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function O0(t){return nc(JSON.stringify({version:2,heartbeats:t})).length}function Bj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function Uj(t){ln(new yt("platform-logger",e=>new $y(e),"PRIVATE")),ln(new yt("heartbeat",e=>new Wy(e),"PRIVATE")),Me(Hy,M0,t),Me(Hy,M0,"esm2017"),Me("fire-js","")}Uj("");var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j0={};var Xn,Yy;(function(){var t;function e(D,v){function I(){}I.prototype=v.prototype,D.D=v.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(w,T,A){for(var E=Array(arguments.length-2),On=2;On<arguments.length;On++)E[On-2]=arguments[On];return v.prototype[T].apply(w,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)w[T]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(T=0;16>T;++T)w[T]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=D.g[0],I=D.g[1],T=D.g[2];var A=D.g[3],E=v+(A^I&(T^A))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=A+(T^v&(I^T))+w[1]+3905402710&4294967295,A=v+(E<<12&4294967295|E>>>20),E=T+(I^A&(v^I))+w[2]+606105819&4294967295,T=A+(E<<17&4294967295|E>>>15),E=I+(v^T&(A^v))+w[3]+3250441966&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(A^I&(T^A))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(T^v&(I^T))+w[5]+1200080426&4294967295,A=v+(E<<12&4294967295|E>>>20),E=T+(I^A&(v^I))+w[6]+2821735955&4294967295,T=A+(E<<17&4294967295|E>>>15),E=I+(v^T&(A^v))+w[7]+4249261313&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(A^I&(T^A))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(T^v&(I^T))+w[9]+2336552879&4294967295,A=v+(E<<12&4294967295|E>>>20),E=T+(I^A&(v^I))+w[10]+4294925233&4294967295,T=A+(E<<17&4294967295|E>>>15),E=I+(v^T&(A^v))+w[11]+2304563134&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(A^I&(T^A))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(T^v&(I^T))+w[13]+4254626195&4294967295,A=v+(E<<12&4294967295|E>>>20),E=T+(I^A&(v^I))+w[14]+2792965006&4294967295,T=A+(E<<17&4294967295|E>>>15),E=I+(v^T&(A^v))+w[15]+1236535329&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(T^A&(I^T))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^T&(v^I))+w[6]+3225465664&4294967295,A=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(A^v))+w[11]+643717713&4294967295,T=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(T^A))+w[0]+3921069994&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^A&(I^T))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^T&(v^I))+w[10]+38016083&4294967295,A=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(A^v))+w[15]+3634488961&4294967295,T=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(T^A))+w[4]+3889429448&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^A&(I^T))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^T&(v^I))+w[14]+3275163606&4294967295,A=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(A^v))+w[3]+4107603335&4294967295,T=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(T^A))+w[8]+1163531501&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^A&(I^T))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^T&(v^I))+w[2]+4243563512&4294967295,A=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(A^v))+w[7]+1735328473&4294967295,T=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(T^A))+w[12]+2368359562&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(I^T^A)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^T)+w[8]+2272392833&4294967295,A=v+(E<<11&4294967295|E>>>21),E=T+(A^v^I)+w[11]+1839030562&4294967295,T=A+(E<<16&4294967295|E>>>16),E=I+(T^A^v)+w[14]+4259657740&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^A)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^T)+w[4]+1272893353&4294967295,A=v+(E<<11&4294967295|E>>>21),E=T+(A^v^I)+w[7]+4139469664&4294967295,T=A+(E<<16&4294967295|E>>>16),E=I+(T^A^v)+w[10]+3200236656&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^A)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^T)+w[0]+3936430074&4294967295,A=v+(E<<11&4294967295|E>>>21),E=T+(A^v^I)+w[3]+3572445317&4294967295,T=A+(E<<16&4294967295|E>>>16),E=I+(T^A^v)+w[6]+76029189&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^A)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^T)+w[12]+3873151461&4294967295,A=v+(E<<11&4294967295|E>>>21),E=T+(A^v^I)+w[15]+530742520&4294967295,T=A+(E<<16&4294967295|E>>>16),E=I+(T^A^v)+w[2]+3299628645&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(T^(I|~A))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~T))+w[7]+1126891415&4294967295,A=v+(E<<10&4294967295|E>>>22),E=T+(v^(A|~I))+w[14]+2878612391&4294967295,T=A+(E<<15&4294967295|E>>>17),E=I+(A^(T|~v))+w[5]+4237533241&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~A))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~T))+w[3]+2399980690&4294967295,A=v+(E<<10&4294967295|E>>>22),E=T+(v^(A|~I))+w[10]+4293915773&4294967295,T=A+(E<<15&4294967295|E>>>17),E=I+(A^(T|~v))+w[1]+2240044497&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~A))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~T))+w[15]+4264355552&4294967295,A=v+(E<<10&4294967295|E>>>22),E=T+(v^(A|~I))+w[6]+2734768916&4294967295,T=A+(E<<15&4294967295|E>>>17),E=I+(A^(T|~v))+w[13]+1309151649&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~A))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~T))+w[11]+3174756917&4294967295,A=v+(E<<10&4294967295|E>>>22),E=T+(v^(A|~I))+w[2]+718787259&4294967295,T=A+(E<<15&4294967295|E>>>17),E=I+(A^(T|~v))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var I=v-this.blockSize,w=this.B,T=this.h,A=0;A<v;){if(T==0)for(;A<=I;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<v;)if(w[T++]=D.charCodeAt(A++),T==this.blockSize){i(this,w),T=0;break}}else for(;A<v;)if(w[T++]=D[A++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var I=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=I&255,I/=256;for(this.u(D),D=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)D[I++]=this.g[v]>>>w&255;return D};function o(D,v){var I=c;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=v(D)}function s(D,v){this.h=v;for(var I=[],w=!0,T=D.length-1;0<=T;T--){var A=D[T]|0;w&&A==v||(I[T]=A,w=!1)}this.g=I}var c={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var v=[],I=1,w=0;D>=I;w++)v[w]=D/I|0,I*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return R(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,T=0;T<D.length;T+=8){var A=Math.min(8,D.length-T),E=parseInt(D.substring(T,T+A),v);8>A?(A=l(Math.pow(v,A)),w=w.j(A).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var D=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);D+=(0<=w?w:4294967296+w)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(b(this))return"0";if(N(this))return"-"+R(this).toString(D);for(var v=l(Math.pow(D,6)),I=this,w="";;){var T=ge(I,v).g;I=k(I,T.j(v));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=T,b(I))return A+w;for(;6>A.length;)A="0"+A;w=A+w}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function b(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=k(this,D),N(D)?-1:b(D)?0:1};function R(D){for(var v=D.g.length,I=[],w=0;w<v;w++)I[w]=~D.g[w];return new s(I,~D.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0,T=0;T<=v;T++){var A=w+(this.i(T)&65535)+(D.i(T)&65535),E=(A>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);w=E>>>16,A&=65535,E&=65535,I[T]=E<<16|A}return new s(I,I[I.length-1]&-2147483648?-1:0)};function k(D,v){return D.add(R(v))}t.j=function(D){if(b(this)||b(D))return p;if(N(this))return N(D)?R(this).j(R(D)):R(R(this).j(D));if(N(D))return R(this.j(R(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<D.g.length;T++){var A=this.i(w)>>>16,E=this.i(w)&65535,On=D.i(T)>>>16,Ns=D.i(T)&65535;I[2*w+2*T]+=E*Ns,H(I,2*w+2*T),I[2*w+2*T+1]+=A*Ns,H(I,2*w+2*T+1),I[2*w+2*T+1]+=E*On,H(I,2*w+2*T+1),I[2*w+2*T+2]+=A*On,H(I,2*w+2*T+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function H(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function ne(D,v){this.g=D,this.h=v}function ge(D,v){if(b(v))throw Error("division by zero");if(b(D))return new ne(p,p);if(N(D))return v=ge(R(D),v),new ne(R(v.g),R(v.h));if(N(v))return v=ge(D,R(v)),new ne(R(v.g),v.h);if(30<D.g.length){if(N(D)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=v;0>=w.l(D);)I=dt(I),w=dt(w);var T=he(I,1),A=he(w,1);for(w=he(w,2),I=he(I,2);!b(w);){var E=A.add(w);0>=E.l(D)&&(T=T.add(I),A=E),w=he(w,1),I=he(I,1)}return v=k(D,T.j(v)),new ne(T,v)}for(T=p;0<=D.l(v);){for(I=Math.max(1,Math.floor(D.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),A=l(I),E=A.j(v);N(E)||0<E.l(D);)I-=w,A=l(I),E=A.j(v);b(A)&&(A=m),T=T.add(A),D=k(D,E)}return new ne(T,D)}t.A=function(D){return ge(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&D.i(w);return new s(I,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|D.i(w);return new s(I,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^D.i(w);return new s(I,this.h^D.h)};function dt(D){for(var v=D.g.length+1,I=[],w=0;w<v;w++)I[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(I,D.h)}function he(D,v){var I=v>>5;v%=32;for(var w=D.g.length-I,T=[],A=0;A<w;A++)T[A]=0<v?D.i(A+I)>>>v|D.i(A+I+1)<<32-v:D.i(A+I);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Yy=j0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Xn=j0.Integer=s}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},er={};var Zy,$j,Xo,Jy,ac,$d,Xy,ev,tv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in f))break e;f=f[C]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,C={next:function(){if(!g&&f<a.length){var S=f++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function b(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,C,S){for(var x=Array(arguments.length-2),me=2;me<arguments.length;me++)x[me-2]=arguments[me];return d.prototype[C].apply(g,x)}}function N(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function R(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=a.length||0,S=g.length||0;a.length=C+S;for(let x=0;x<S;x++)a[C+x]=g[x]}else a.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(a){return/^[\s\xa0]*$/.test(a)}function ne(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ge(a){return ge[" "](a),a}ge[" "]=function(){};var dt=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function he(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function D(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function v(a){let d={};for(let f in a)d[f]=a[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)a[f]=g[f];for(let S=0;S<I.length;S++)f=I[S],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function T(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function A(a){c.setTimeout(()=>{throw a},0)}function E(){var a=pf;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class On{constructor(){this.h=this.g=null}add(d,f){let g=Ns.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ns=new k(()=>new NM,a=>a.reset());class NM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Rs,Ms=!1,pf=new On,gI=()=>{let a=c.Promise.resolve(void 0);Rs=()=>{a.then(RM)}};var RM=()=>{for(var a;a=E();){try{a.h.call(a.g)}catch(f){A(f)}var d=Ns;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ms=!1};function fr(){this.s=this.s,this.C=this.C}fr.prototype.s=!1,fr.prototype.ma=function(){this.s||(this.s=!0,this.N())},fr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var MM=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function Ps(a,d){if(Xe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(dt){e:{try{ge(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:PM[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ps.aa.h.call(this)}}b(Ps,Xe);var PM={2:"touch",3:"pen",4:"mouse"};Ps.prototype.h=function(){Ps.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var xs="closure_listenable_"+(1e6*Math.random()|0),xM=0;function kM(a,d,f,g,C){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++xM,this.da=this.fa=!1}function Wc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Kc(a){this.src=a,this.g={},this.h=0}Kc.prototype.add=function(a,d,f,g,C){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var x=mf(a,d,g,C);return-1<x?(d=a[x],f||(d.fa=!1)):(d=new kM(d,this.src,S,!!g,C),d.fa=f,a.push(d)),d};function gf(a,d){var f=d.type;if(f in a.g){var g=a.g[f],C=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(g,C,1),S&&(Wc(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function mf(a,d,f,g){for(var C=0;C<a.length;++C){var S=a[C];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return C}return-1}var yf="closure_lm_"+(1e6*Math.random()|0),vf={};function mI(a,d,f,g,C){if(g&&g.once)return vI(a,d,f,g,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)mI(a,d[S],f,g,C);return null}return f=wf(f),a&&a[xs]?a.K(d,f,l(g)?!!g.capture:!!g,C):yI(a,d,f,!1,g,C)}function yI(a,d,f,g,C,S){if(!d)throw Error("Invalid event type");var x=l(C)?!!C.capture:!!C,me=Ef(a);if(me||(a[yf]=me=new Kc(a)),f=me.add(d,f,g,x,S),f.proxy)return f;if(g=OM(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)MM||(C=x),C===void 0&&(C=!1),a.addEventListener(d.toString(),g,C);else if(a.attachEvent)a.attachEvent(EI(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function OM(){function a(f){return d.call(a.src,a.listener,f)}let d=FM;return a}function vI(a,d,f,g,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)vI(a,d[S],f,g,C);return null}return f=wf(f),a&&a[xs]?a.L(d,f,l(g)?!!g.capture:!!g,C):yI(a,d,f,!0,g,C)}function _I(a,d,f,g,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)_I(a,d[S],f,g,C);else g=l(g)?!!g.capture:!!g,f=wf(f),a&&a[xs]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],f=mf(S,f,g,C),-1<f&&(Wc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Ef(a))&&(d=a.g[d.toString()],a=-1,d&&(a=mf(d,f,g,C)),(f=-1<a?d[a]:null)&&_f(f))}function _f(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[xs])gf(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(EI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Ef(d))?(gf(f,a),f.h==0&&(f.src=null,d[yf]=null)):Wc(a)}}}function EI(a){return a in vf?vf[a]:vf[a]="on"+a}function FM(a,d){if(a.da)a=!0;else{d=new Ps(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&_f(a),a=f.call(g,d)}return a}function Ef(a){return a=a[yf],a instanceof Kc?a:null}var If="__closure_events_fn_"+(1e9*Math.random()>>>0);function wf(a){return typeof a=="function"?a:(a[If]||(a[If]=function(d){return a.handleEvent(d)}),a[If])}function et(){fr.call(this),this.i=new Kc(this),this.M=this,this.F=null}b(et,fr),et.prototype[xs]=!0,et.prototype.removeEventListener=function(a,d,f,g){_I(this,a,d,f,g)};function ht(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Xe(d,a);else if(d instanceof Xe)d.target=d.target||a;else{var C=d;d=new Xe(g,a),w(d,C)}if(C=!0,f)for(var S=f.length-1;0<=S;S--){var x=d.g=f[S];C=Qc(x,g,!0,d)&&C}if(x=d.g=a,C=Qc(x,g,!0,d)&&C,C=Qc(x,g,!1,d)&&C,f)for(S=0;S<f.length;S++)x=d.g=f[S],C=Qc(x,g,!1,d)&&C}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)Wc(f[g]);delete a.g[d],a.h--}}this.F=null},et.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},et.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function Qc(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var x=d[S];if(x&&!x.da&&x.capture==f){var me=x.listener,Qe=x.ha||x.src;x.fa&&gf(a.i,x),C=me.call(Qe,g)!==!1&&C}}return C&&!g.defaultPrevented}function II(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function wI(a){a.g=II(()=>{a.g=null,a.i&&(a.i=!1,wI(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class LM extends fr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:wI(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(a){fr.call(this),this.h=a,this.g={}}b(ks,fr);var DI=[];function TI(a){he(a.g,function(d,f){this.g.hasOwnProperty(f)&&_f(d)},a),a.g={}}ks.prototype.N=function(){ks.aa.N.call(this),TI(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Df=c.JSON.stringify,VM=c.JSON.parse,jM=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Tf(){}Tf.prototype.h=null;function CI(a){return a.h||(a.h=a.i())}function bI(){}var Os={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cf(){Xe.call(this,"d")}b(Cf,Xe);function bf(){Xe.call(this,"c")}b(bf,Xe);var ni={},AI=null;function Yc(){return AI=AI||new et}ni.La="serverreachability";function SI(a){Xe.call(this,ni.La,a)}b(SI,Xe);function Fs(a){let d=Yc();ht(d,new SI(d))}ni.STAT_EVENT="statevent";function NI(a,d){Xe.call(this,ni.STAT_EVENT,a),this.stat=d}b(NI,Xe);function ft(a){let d=Yc();ht(d,new NI(d,a))}ni.Ma="timingevent";function RI(a,d){Xe.call(this,ni.Ma,a),this.size=d}b(RI,Xe);function Ls(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Vs(){this.g=!0}Vs.prototype.xa=function(){this.g=!1};function BM(a,d,f,g,C,S){a.info(function(){if(a.g)if(S)for(var x="",me=S.split("&"),Qe=0;Qe<me.length;Qe++){var le=me[Qe].split("=");if(1<le.length){var tt=le[0];le=le[1];var nt=tt.split("_");x=2<=nt.length&&nt[1]=="type"?x+(tt+"="+le+"&"):x+(tt+"=redacted&")}}else x=null;else x=S;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+x})}function UM(a,d,f,g,C,S,x){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+S+" "+x})}function lo(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+HM(a,f)+(g?" "+g:"")})}function $M(a,d){a.info(function(){return"TIMEOUT: "+d})}Vs.prototype.info=function(){};function HM(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var x=1;x<C.length;x++)C[x]=""}}}}return Df(f)}catch{return d}}var Zc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},MI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Af;function Jc(){}b(Jc,Tf),Jc.prototype.g=function(){return new XMLHttpRequest},Jc.prototype.i=function(){return{}},Af=new Jc;function pr(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new PI}function PI(){this.i=null,this.g="",this.h=!1}var xI={},Sf={};function Nf(a,d,f){a.L=1,a.v=nu(Fn(d)),a.m=f,a.P=!0,kI(a,null)}function kI(a,d){a.F=Date.now(),Xc(a),a.A=Fn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),KI(f.i,"t",g),a.C=0,f=a.j.J,a.h=new PI,a.g=hw(a.j,f?d:null,!a.m),0<a.O&&(a.M=new LM(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(DI[0]=C.toString()),C=DI);for(var S=0;S<C.length;S++){var x=mI(f,C[S],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Fs(),BM(a.i,a.u,a.A,a.l,a.R,a.m)}pr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Ln(a)==3?d.j():this.Y(a)},pr.prototype.Y=function(a){try{if(a==this.g)e:{let nt=Ln(this.g);var d=this.g.Ba();let po=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||tw(this.g)))){this.J||nt!=4||d==7||(d==8||0>=po?Fs(3):Fs(2)),Rf(this);var f=this.g.Z();this.X=f;t:if(OI(this)){var g=tw(this.g);a="";var C=g.length,S=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ri(this),js(this);var x="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==C-1)});g.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=f==200,UM(this.i,this.u,this.A,this.l,this.R,nt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var me,Qe=this.g;if((me=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(me)){var le=me;break t}}le=null}if(f=le)lo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mf(this,f);else{this.o=!1,this.s=3,ft(12),ri(this),js(this);break e}}if(this.P){f=!0;let Kt;for(;!this.J&&this.C<x.length;)if(Kt=qM(this,x),Kt==Sf){nt==4&&(this.s=4,ft(14),f=!1),lo(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==xI){this.s=4,ft(15),lo(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else lo(this.i,this.l,Kt,null),Mf(this,Kt);if(OI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||x.length!=0||this.h.h||(this.s=1,ft(16),f=!1),this.o=this.o&&f,!f)lo(this.i,this.l,x,"[Invalid Chunked Response]"),ri(this),js(this);else if(0<x.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Lf(tt),tt.M=!0,ft(11))}}else lo(this.i,this.l,x,null),Mf(this,x);nt==4&&ri(this),this.o&&!this.J&&(nt==4?cw(this.j,this):(this.o=!1,Xc(this)))}else aP(this.g),f==400&&0<x.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),ri(this),js(this)}}}catch{}finally{}};function OI(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function qM(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?Sf:(f=Number(d.substring(f,g)),isNaN(f)?xI:(g+=1,g+f>d.length?Sf:(d=d.slice(g,g+f),a.C=g+f,d)))}pr.prototype.cancel=function(){this.J=!0,ri(this)};function Xc(a){a.S=Date.now()+a.I,FI(a,a.I)}function FI(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ls(m(a.ba,a),d)}function Rf(a){a.B&&(c.clearTimeout(a.B),a.B=null)}pr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?($M(this.i,this.A),this.L!=2&&(Fs(),ft(17)),ri(this),this.s=2,js(this)):FI(this,this.S-a)};function js(a){a.j.G==0||a.J||cw(a.j,a)}function ri(a){Rf(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,TI(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Mf(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||Pf(f.h,a))){if(!a.K&&Pf(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)au(f),ou(f);else break e;Ff(f),ft(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ls(m(f.Za,f),6e3));if(1>=jI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else oi(f,11)}else if((a.K||f.g==a)&&au(f),!H(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let le=C[d];if(f.T=le[0],le=le[1],f.G==2)if(le[0]=="c"){f.K=le[1],f.ia=le[2];let tt=le[3];tt!=null&&(f.la=tt,f.j.info("VER="+f.la));let nt=le[4];nt!=null&&(f.Aa=nt,f.j.info("SVER="+f.Aa));let po=le[5];po!=null&&typeof po=="number"&&0<po&&(g=1.5*po,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Kt=a.g;if(Kt){let uu=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uu){var S=g.h;S.g||uu.indexOf("spdy")==-1&&uu.indexOf("quic")==-1&&uu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(xf(S,S.h),S.h=null))}if(g.D){let Vf=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Vf&&(g.ya=Vf,Ee(g.I,g.D,Vf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var x=a;if(g.qa=dw(g,g.J?g.ia:null,g.W),x.K){BI(g.h,x);var me=x,Qe=g.L;Qe&&(me.I=Qe),me.B&&(Rf(me),Xc(me)),g.g=x}else sw(g);0<f.i.length&&su(f)}else le[0]!="stop"&&le[0]!="close"||oi(f,7);else f.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?oi(f,7):Of(f):le[0]!="noop"&&f.l&&f.l.ta(le),f.v=0)}}Fs(4)}catch{}}var zM=class{constructor(a,d){this.g=a,this.map=d}};function LI(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function VI(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function jI(a){return a.h?1:a.g?a.g.size:0}function Pf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function xf(a,d){a.g?a.g.add(d):a.h=d}function BI(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}LI.prototype.cancel=function(){if(this.i=UI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function UI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return N(a.i)}function GM(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function WM(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function $I(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=WM(a),g=GM(a),C=g.length,S=0;S<C;S++)d.call(void 0,g[S],f&&f[S],a)}var HI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KM(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),C=null;if(0<=g){var S=a[f].substring(0,g);C=a[f].substring(g+1)}else S=a[f];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function ii(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ii){this.h=a.h,eu(this,a.j),this.o=a.o,this.g=a.g,tu(this,a.s),this.l=a.l;var d=a.i,f=new $s;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),qI(this,f),this.m=a.m}else a&&(d=String(a).match(HI))?(this.h=!1,eu(this,d[1]||"",!0),this.o=Bs(d[2]||""),this.g=Bs(d[3]||"",!0),tu(this,d[4]),this.l=Bs(d[5]||"",!0),qI(this,d[6]||"",!0),this.m=Bs(d[7]||"")):(this.h=!1,this.i=new $s(null,this.h))}ii.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Us(d,zI,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Us(d,zI,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Us(f,f.charAt(0)=="/"?ZM:YM,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Us(f,XM)),a.join("")};function Fn(a){return new ii(a)}function eu(a,d,f){a.j=f?Bs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function tu(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function qI(a,d,f){d instanceof $s?(a.i=d,eP(a.i,a.h)):(f||(d=Us(d,JM)),a.i=new $s(d,a.h))}function Ee(a,d,f){a.i.set(d,f)}function nu(a){return Ee(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Bs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Us(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,QM),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function QM(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var zI=/[#\/\?@]/g,YM=/[#\?:]/g,ZM=/[#\?]/g,JM=/[#\?@]/g,XM=/#/g;function $s(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function gr(a){a.g||(a.g=new Map,a.h=0,a.i&&KM(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=$s.prototype,t.add=function(a,d){gr(this),this.i=null,a=ho(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function GI(a,d){gr(a),d=ho(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function WI(a,d){return gr(a),d=ho(a,d),a.g.has(d)}t.forEach=function(a,d){gr(this),this.g.forEach(function(f,g){f.forEach(function(C){a.call(d,C,g,this)},this)},this)},t.na=function(){gr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=a[g];for(let S=0;S<C.length;S++)f.push(d[g])}return f},t.V=function(a){gr(this);let d=[];if(typeof a=="string")WI(this,a)&&(d=d.concat(this.g.get(ho(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return gr(this),this.i=null,a=ho(this,a),WI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function KI(a,d,f){GI(a,d),0<f.length&&(a.i=null,a.g.set(ho(a,d),N(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var C=S;x[g]!==""&&(C+="="+encodeURIComponent(String(x[g]))),a.push(C)}}return this.i=a.join("&")};function ho(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function eP(a,d){d&&!a.j&&(gr(a),a.i=null,a.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(GI(this,g),KI(this,C,f))},a)),a.j=d}function tP(a,d){let f=new Vs;if(c.Image){let g=new Image;g.onload=y(mr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(mr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(mr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(mr,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function nP(a,d){let f=new Vs,g=new AbortController,C=setTimeout(()=>{g.abort(),mr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(C),S.ok?mr(f,"TestPingServer: ok",!0,d):mr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),mr(f,"TestPingServer: error",!1,d)})}function mr(a,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function rP(){this.g=new jM}function iP(a,d,f){let g=f||"";try{$I(a,function(C,S){let x=C;l(C)&&(x=Df(C)),d.push(g+S+"="+encodeURIComponent(x))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Hs(a){this.l=a.Ub||null,this.j=a.eb||!1}b(Hs,Tf),Hs.prototype.g=function(){return new ru(this.l,this.j)},Hs.prototype.i=function(a){return function(){return a}}({});function ru(a,d){et.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ru,et),t=ru.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,zs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;QI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function QI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?qs(this):zs(this),this.readyState==3&&QI(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,qs(this))},t.Qa=function(a){this.g&&(this.response=a,qs(this))},t.ga=function(){this.g&&qs(this)};function qs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,zs(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function zs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function YI(a){let d="";return he(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function kf(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=YI(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ee(a,d,f))}function Re(a){et.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Re,et);var oP=/^https?$/i,sP=["POST","PUT"];t=Re.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Af.g(),this.v=this.o?CI(this.o):CI(Af),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){ZI(this,S);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(sP,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,x]of f)this.g.setRequestHeader(S,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ew(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){ZI(this,S)}};function ZI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,JI(a),iu(a)}function JI(a){a.A||(a.A=!0,ht(a,"complete"),ht(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ht(this,"complete"),ht(this,"abort"),iu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),iu(this,!0)),Re.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?XI(this):this.bb())},t.bb=function(){XI(this)};function XI(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Ln(a)!=4||a.Z()!=2)){if(a.u&&Ln(a)==4)II(a.Ea,0,a);else if(ht(a,"readystatechange"),Ln(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=x===0){var C=String(a.D).match(HI)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),g=!oP.test(C?C.toLowerCase():"")}f=g}if(f)ht(a,"complete"),ht(a,"success");else{a.m=6;try{var S=2<Ln(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",JI(a)}}finally{iu(a)}}}}function iu(a,d){if(a.g){ew(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ht(a,"ready");try{f.onreadystatechange=g}catch{}}}function ew(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Ln(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),VM(d)}};function tw(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function aP(a){let d={};a=(a.g&&2<=Ln(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(H(a[g]))continue;var f=T(a[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[C]||[];d[C]=S,S.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function nw(a){this.Aa=0,this.i=[],this.j=new Vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,a),this.cb=Gs("retryDelaySeedMs",1e4,a),this.Wa=Gs("forwardChannelMaxRetries",2,a),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new LI(a&&a.concurrentRequestLimit),this.Da=new rP,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nw.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,g){ft(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=dw(this,null,this.W),su(this)};function Of(a){if(rw(a),a.G==3){var d=a.U++,f=Fn(a.I);if(Ee(f,"SID",a.K),Ee(f,"RID",d),Ee(f,"TYPE","terminate"),Ws(a,f),d=new pr(a,a.j,d),d.L=2,d.v=nu(Fn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=hw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Xc(d)}lw(a)}function ou(a){a.g&&(Lf(a),a.g.cancel(),a.g=null)}function rw(a){ou(a),a.u&&(c.clearTimeout(a.u),a.u=null),au(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function su(a){if(!VI(a.h)&&!a.s){a.s=!0;var d=a.Ga;Rs||gI(),Ms||(Rs(),Ms=!0),pf.add(d,a),a.B=0}}function cP(a,d){return jI(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ls(m(a.Ga,a,d),uw(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new pr(this,this.j,a),S=this.o;if(this.S&&(S?(S=v(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=ow(this,C,d),f=Fn(this.I),Ee(f,"RID",a),Ee(f,"CVER",22),this.D&&Ee(f,"X-HTTP-Session-Id",this.D),Ws(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(YI(S)))+"&"+d:this.m&&kf(f,this.m,S)),xf(this.h,C),this.Ua&&Ee(f,"TYPE","init"),this.P?(Ee(f,"$req",d),Ee(f,"SID","null"),C.T=!0,Nf(C,f,null)):Nf(C,f,d),this.G=2}}else this.G==3&&(a?iw(this,a):this.i.length==0||VI(this.h)||iw(this))};function iw(a,d){var f;d?f=d.l:f=a.U++;let g=Fn(a.I);Ee(g,"SID",a.K),Ee(g,"RID",f),Ee(g,"AID",a.T),Ws(a,g),a.m&&a.o&&kf(g,a.m,a.o),f=new pr(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=ow(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),xf(a.h,f),Nf(f,g,d)}function Ws(a,d){a.H&&he(a.H,function(f,g){Ee(d,g,f)}),a.l&&$I({},function(f,g){Ee(d,g,f)})}function ow(a,d,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var C=a.i;let S=-1;for(;;){let x=["count="+f];S==-1?0<f?(S=C[0].g,x.push("ofs="+S)):S=0:x.push("ofs="+S);let me=!0;for(let Qe=0;Qe<f;Qe++){let le=C[Qe].g,tt=C[Qe].map;if(le-=S,0>le)S=Math.max(0,C[Qe].g-100),me=!1;else try{iP(tt,x,"req"+le+"_")}catch{g&&g(tt)}}if(me){g=x.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function sw(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Rs||gI(),Ms||(Rs(),Ms=!0),pf.add(d,a),a.v=0}}function Ff(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ls(m(a.Fa,a),uw(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,aw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ls(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),ou(this),aw(this))};function Lf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function aw(a){a.g=new pr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Fn(a.qa);Ee(d,"RID","rpc"),Ee(d,"SID",a.K),Ee(d,"AID",a.T),Ee(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ee(d,"TO",a.ja),Ee(d,"TYPE","xmlhttp"),Ws(a,d),a.m&&a.o&&kf(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=nu(Fn(d)),f.m=null,f.P=!0,kI(f,a)}t.Za=function(){this.C!=null&&(this.C=null,ou(this),Ff(this),ft(19))};function au(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function cw(a,d){var f=null;if(a.g==d){au(a),Lf(a),a.g=null;var g=2}else if(Pf(a.h,d))f=d.D,BI(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;g=Yc(),ht(g,new RI(g,f)),su(a)}else sw(a);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&cP(a,d)||g==2&&Ff(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),C){case 1:oi(a,5);break;case 4:oi(a,10);break;case 3:oi(a,6);break;default:oi(a,2)}}}function uw(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function oi(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),g=a.Xa;let C=!g;g=new ii(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||eu(g,"https"),nu(g),C?tP(g.toString(),f):nP(g.toString(),f)}else ft(2);a.G=0,a.l&&a.l.sa(d),lw(a),rw(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function lw(a){if(a.G=0,a.ka=[],a.l){let d=UI(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function dw(a,d,f){var g=f instanceof ii?Fn(f):new ii(f);if(g.g!="")d&&(g.g=d+"."+g.g),tu(g,g.s);else{var C=c.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new ii(null);g&&eu(S,g),d&&(S.g=d),C&&tu(S,C),f&&(S.l=f),g=S}return f=a.D,d=a.ya,f&&d&&Ee(g,f,d),Ee(g,"VER",a.la),Ws(a,g),g}function hw(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Re(new Hs({eb:f})):new Re(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fw(){}t=fw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cu(){}cu.prototype.g=function(a,d){return new St(a,d)};function St(a,d){et.call(this),this.g=new nw(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!H(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new fo(this)}b(St,et),St.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){Of(this.g)},St.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Df(a),a=f);d.i.push(new zM(d.Ya++,a)),d.G==3&&su(d)},St.prototype.N=function(){this.g.l=null,delete this.j,Of(this.g),delete this.g,St.aa.N.call(this)};function pw(a){Cf.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}b(pw,Cf);function gw(){bf.call(this),this.status=1}b(gw,bf);function fo(a){this.g=a}b(fo,fw),fo.prototype.ua=function(){ht(this.g,"a")},fo.prototype.ta=function(a){ht(this.g,new pw(a))},fo.prototype.sa=function(a){ht(this.g,new gw)},fo.prototype.ra=function(){ht(this.g,"b")},cu.prototype.createWebChannel=cu.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,tv=er.createWebChannelTransport=function(){return new cu},ev=er.getStatEventTarget=function(){return Yc()},Xy=er.Event=ni,$d=er.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zc.NO_ERROR=0,Zc.TIMEOUT=8,Zc.HTTP_ERROR=6,ac=er.ErrorCode=Zc,MI.COMPLETE="complete",Jy=er.EventType=MI,bI.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",et.prototype.listen=et.prototype.K,Xo=er.WebChannel=bI,$j=er.FetchXmlHttpFactory=Hs,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,Zy=er.XhrIo=Re}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});var B0="@firebase/firestore",U0="4.7.17";var We=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var Is="11.9.0";var Qi=new Cn("@firebase/firestore");function es(){return Qi.logLevel}function F(t,...e){if(Qi.logLevel<=ie.DEBUG){let n=e.map(H_);Qi.debug(`Firestore (${Is}): ${t}`,...n)}}function nr(t,...e){if(Qi.logLevel<=ie.ERROR){let n=e.map(H_);Qi.error(`Firestore (${Is}): ${t}`,...n)}}function as(t,...e){if(Qi.logLevel<=ie.WARN){let n=e.map(H_);Qi.warn(`Firestore (${Is}): ${t}`,...n)}}function H_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function $(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xS(t,r,n)}function xS(t,e,n){let r=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw nr(r),new Error(r)}function de(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||xS(e,i,r)}function Z(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends xt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var dn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Qd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},sv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}},av=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},cv=class{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string",31837,{l:r}),new Qd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string",2055,{h:e}),new We(e)}},uv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},lv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new uv(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Yd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},dv=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,At(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){de(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Yd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Hj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function kS(){return new TextEncoder}var Zd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Hj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function re(t,e){return t<e?-1:t>e?1:0}function hv(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return re(r,i);{let o=kS(),s=qj(o.encode($0(t,n)),o.encode($0(e,n)));return s!==0?s:re(r,i)}}n+=r>65535?2:1}return re(t.length,e.length)}function $0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function qj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return re(t[n],e[n]);return re(t.length,e.length)}function cs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var H0=-62135596800,q0=1e6,Je=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*q0);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H0)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q0}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-H0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Je(0,0))}static max(){return new t(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var z0="__name__",Jd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&$(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&$(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return re(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):hv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xn.fromString(e.substring(4,e.length-2))}},Se=class t extends Jd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},zj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ot=class t extends Jd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return zj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z0}static keyField(){return new t([z0])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var U=class t{constructor(e){this.path=e}static fromPath(e){return new t(Se.fromString(e))}static fromName(e){return new t(Se.fromString(e).popFirst(5))}static empty(){return new t(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Se(e.slice()))}};var fc=-1,fv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};fv.UNKNOWN_ID=-1;function Gj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Yi(i,U.empty(),e)}function Wj(t){return new Yi(t.readTime,t.key,fc)}var Yi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),U.empty(),fc)}static max(){return new t(ee.max(),U.empty(),fc)}};function Kj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}var Qj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ws(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==Qj)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function Yj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ds(t){return t.name==="IndexedDbTransactionError"}var q_=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),z_=-1;function Ph(t){return t==null}function pc(t){return t===0&&1/t==-1/0}function Zj(t){return typeof t=="number"&&Number.isInteger(t)&&!pc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var OS="";function Jj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=G0(e)),e=Xj(t.get(n),e);return G0(e)}function Xj(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case OS:n+="";break;default:n+=o}}return n}function G0(t){return t+OS+""}var eB="remoteDocuments",FS="owner";var LS="mutationQueues";var VS="mutations";var jS="documentMutations",tB="remoteDocumentsV14";var BS="remoteDocumentGlobal";var US="targets";var $S="targetDocuments";var HS="targetGlobal",qS="collectionParents";var zS="clientMetadata";var GS="bundles";var WS="namedQueries";var nB="indexConfiguration";var rB="indexState";var iB="indexEntries";var KS="documentOverlays";var oB="globals";var sB=[LS,VS,jS,eB,US,FS,HS,$S,zS,BS,qS,GS,WS],pte=[...sB,KS],aB=[LS,VS,jS,tB,US,FS,HS,$S,zS,BS,qS,GS,WS,KS],cB=aB,uB=[...cB,nB,rB,iB];var gte=[...uB,oB];function W0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pe=class t{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new is(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new is(this.root,e,this.comparator,!1)}getReverseIterator(){return new is(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new is(this.root,e,this.comparator,!0)}},is=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},An=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw $(27949);return e+(this.isRed()?0:1)}};An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw $(57766)}get value(){throw $(16141)}get color(){throw $(16727)}get left(){throw $(29726)}get right(){throw $(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ke=class t{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xd(this.data.getIterator())}getIteratorFrom(e){return new Xd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Xd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Wt=class t{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ke(Ot.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var eh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};lt.EMPTY_BYTE_STRING=new lt("");var lB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(t){if(de(!!t,39018),typeof t=="string"){let e=0,n=lB.exec(t);if(de(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Te(t.seconds),nanos:Te(t.nanos)}}function Te(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ir(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}var YS="server_timestamp",ZS="__type__",JS="__previous_value__",XS="__local_write_time__";function G_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZS])===null||n===void 0?void 0:n.stringValue)===YS}function xh(t){let e=t.mapValue.fields[JS];return G_(e)?xh(e):e}function gc(t){let e=rr(t.mapValue.fields[XS].timestampValue);return new Je(e.seconds,e.nanos)}var gv=class{constructor(e,n,r,i,o,s,c,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},th="(default)",nh=class t{constructor(e,n){this.projectId=e,this.database=n||th}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var W_="__type__",eN="__max__",Hd={mapValue:{fields:{__type__:{stringValue:eN}}}},K_="__vector__",us="value";function Gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G_(t)?4:nN(t)?9007199254740991:tN(t)?10:11:$(28295,{value:t})}function Rn(t,e){if(t===e)return!0;let n=Gr(t);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=rr(i.timestampValue),c=rr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ir(i.bytesValue).isEqual(ir(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Te(i.geoPointValue.latitude)===Te(o.geoPointValue.latitude)&&Te(i.geoPointValue.longitude)===Te(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Te(i.integerValue)===Te(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Te(i.doubleValue),c=Te(o.doubleValue);return s===c?pc(s)===pc(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return cs(t.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(W0(s)!==W0(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Rn(s[u],c[u])))return!1;return!0}(t,e);default:return $(52216,{left:t})}}function mc(t,e){return(t.values||[]).find(n=>Rn(n,e))!==void 0}function ls(t,e){if(t===e)return 0;let n=Gr(t),r=Gr(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Te(o.integerValue||o.doubleValue),u=Te(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return K0(t.timestampValue,e.timestampValue);case 4:return K0(gc(t),gc(e));case 5:return hv(t.stringValue,e.stringValue);case 6:return function(o,s){let c=ir(o),u=ir(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=re(c[l],u[l]);if(h!==0)return h}return re(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=re(Te(o.latitude),Te(s.latitude));return c!==0?c:re(Te(o.longitude),Te(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Q0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,h;let p=o.fields||{},m=s.fields||{},y=(c=p[us])===null||c===void 0?void 0:c.arrayValue,b=(u=m[us])===null||u===void 0?void 0:u.arrayValue,N=re(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:Q0(y,b)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Hd.mapValue&&s===Hd.mapValue)return 0;if(o===Hd.mapValue)return 1;if(s===Hd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=hv(u[p],h[p]);if(m!==0)return m;let y=ls(c[u[p]],l[h[p]]);if(y!==0)return y}return re(u.length,h.length)}(t.mapValue,e.mapValue);default:throw $(23264,{Pe:n})}}function K0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);let n=rr(t),r=rr(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function Q0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ls(n[i],r[i]);if(o)return o}return re(n.length,r.length)}function ds(t){return mv(t)}function mv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=rr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ir(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return U.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=mv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${mv(n.fields[s])}`;return i+"}"}(t.mapValue):$(61005,{value:t})}function Gd(t){switch(Gr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=xh(t);return e?16+Gd(e):16;case 5:return 2*t.stringValue.length;case 6:return ir(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Gd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Qr(r.fields,(o,s)=>{i+=o.length+Gd(s)}),i}(t.mapValue);default:throw $(13486,{value:t})}}function Y0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function yv(t){return!!t&&"integerValue"in t}function Q_(t){return!!t&&"arrayValue"in t}function Z0(t){return!!t&&"nullValue"in t}function J0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wd(t){return!!t&&"mapValue"in t}function tN(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[W_])===null||n===void 0?void 0:n.stringValue)===K_}function uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Qr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===eN}var yte={mapValue:{fields:{[W_]:{stringValue:K_},[us]:{arrayValue:{}}}}};var kt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(n)}setAll(e){let n=Ot.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=uc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(uc(this.value))}};function rN(t){let e=[];return Qr(t.fields,(n,r)=>{let i=new Ot([n]);if(Wd(r)){let o=rN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Wt(e)}var hn=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var hs=class{constructor(e,n){this.position=e,this.inclusive=n}};function X0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=U.comparator(U.fromName(s.referenceValue),n.key):r=ls(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function eS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rn(t.position[n],e.position[n]))return!1;return!0}var fs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function dB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var rh=class{},je=class t extends rh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _v(e,n,r):n==="array-contains"?new wv(e,r):n==="in"?new Dv(e,r):n==="not-in"?new Tv(e,r):n==="array-contains-any"?new Cv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ev(e,r):new Iv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ls(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},fn=class t extends rh{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return iN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function iN(t){return t.op==="and"}function oN(t){return hB(t)&&iN(t)}function hB(t){for(let e of t.filters)if(e instanceof fn)return!1;return!0}function vv(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+ds(t.value);if(oN(t))return t.filters.map(e=>vv(e)).join(",");{let e=t.filters.map(n=>vv(n)).join(",");return`${t.op}(${e})`}}function sN(t,e){return t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&Rn(r.value,i.value)}(t,e):t instanceof fn?function(r,i){return i instanceof fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&sN(s,i.filters[c]),!0):!1}(t,e):void $(19439)}function aN(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${ds(n.value)}`}(t):t instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(aN).join(" ,")+"}"}(t):"Filter"}var _v=class extends je{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){let n=U.comparator(e.key,this.key);return this.matchesComparison(n)}},Ev=class extends je{constructor(e,n){super(e,"in",n),this.keys=cN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Iv=class extends je{constructor(e,n){super(e,"not-in",n),this.keys=cN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function cN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}var wv=class extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Q_(n)&&mc(n.arrayValue,this.value)}},Dv=class extends je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}},Tv=class extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}},Cv=class extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Q_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mc(this.value.arrayValue,r))}};var bv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Ie=null}};function tS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new bv(t,e,n,r,i,o,s)}function Y_(t){let e=Z(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ds(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ds(r)).join(",")),e.Ie=n}return e.Ie}function Z_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eS(t.startAt,e.startAt)&&eS(t.endAt,e.endAt)}function Av(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Zi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function fB(t,e,n,r,i,o,s,c){return new Zi(t,e,n,r,i,o,s,c)}function kh(t){return new Zi(t)}function nS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uN(t){return t.collectionGroup!==null}function lc(t){let e=Z(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Ke(Ot.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new fs(o,r))}),n.has(Ot.keyField().canonicalString())||e.Ee.push(new fs(Ot.keyField(),r))}return e.Ee}function Sn(t){let e=Z(t);return e.de||(e.de=pB(e,lc(t))),e.de}function pB(t,e){if(t.limitType==="F")return tS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new fs(i.field,o)});let n=t.endAt?new hs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hs(t.startAt.position,t.startAt.inclusive):null;return tS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sv(t,e){let n=t.filters.concat([e]);return new Zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Nv(t,e,n){return new Zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oh(t,e){return Z_(Sn(t),Sn(e))&&t.limitType===e.limitType}function lN(t){return`${Y_(Sn(t))}|lt:${t.limitType}`}function ts(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aN(i)).join(", ")}]`),Ph(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ds(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ds(i)).join(",")),`Target(${r})`}(Sn(t))}; limitType=${t.limitType})`}function Fh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):U.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of lc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=X0(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,lc(r),i)||r.endAt&&!function(s,c,u){let l=X0(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,lc(r),i))}(t,e)}function gB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dN(t){return(e,n)=>{let r=!1;for(let i of lc(t)){let o=mB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mB(t,e,n){let r=t.field.isKeyField()?U.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?ls(u,l):$(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $(19790,{direction:t.dir})}}var or=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return QS(this.inner)}size(){return this.innerSize}};var yB=new Pe(U.comparator);function sr(){return yB}var hN=new Pe(U.comparator);function cc(...t){let e=hN;for(let n of t)e=e.insert(n.key,n);return e}function fN(t){let e=hN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return dc()}function pN(){return dc()}function dc(){return new or(t=>t.toString(),(t,e)=>t.isEqual(e))}var vB=new Pe(U.comparator),_B=new Ke(U.comparator);function se(...t){let e=_B;for(let n of t)e=e.add(n);return e}var EB=new Ke(re);function IB(){return EB}function J_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function gN(t){return{integerValue:""+t}}function wB(t,e){return Zj(e)?gN(e):J_(t,e)}var ps=class{constructor(){this._=void 0}};function DB(t,e,n){return t instanceof gs?function(i,o){let s={fields:{[ZS]:{stringValue:YS},[XS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&G_(o)&&(o=xh(o)),o&&(s.fields[JS]=o),{mapValue:s}}(n,e):t instanceof Ji?yN(t,e):t instanceof Xi?vN(t,e):function(i,o){let s=mN(i,o),c=rS(s)+rS(i.Re);return yv(s)&&yv(i.Re)?gN(c):J_(i.serializer,c)}(t,e)}function TB(t,e,n){return t instanceof Ji?yN(t,e):t instanceof Xi?vN(t,e):n}function mN(t,e){return t instanceof ms?function(r){return yv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var gs=class extends ps{},Ji=class extends ps{constructor(e){super(),this.elements=e}};function yN(t,e){let n=_N(e);for(let r of t.elements)n.some(i=>Rn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Xi=class extends ps{constructor(e){super(),this.elements=e}};function vN(t,e){let n=_N(e);for(let r of t.elements)n=n.filter(i=>!Rn(i,r));return{arrayValue:{values:n}}}var ms=class extends ps{constructor(e,n){super(),this.serializer=e,this.Re=n}};function rS(t){return Te(t.integerValue||t.doubleValue)}function _N(t){return Q_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function CB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ji&&i instanceof Ji||r instanceof Xi&&i instanceof Xi?cs(r.elements,i.elements,Rn):r instanceof ms&&i instanceof ms?Rn(r.Re,i.Re):r instanceof gs&&i instanceof gs}(t.transform,e.transform)}var Rv=class{constructor(e,n){this.version=e,this.transformResults=n}},tr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ys=class{};function EN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ih(t.key,tr.none()):new eo(t.key,t.data,tr.none());{let n=t.data,r=kt.empty(),i=new Ke(Ot.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Mn(t.key,r,new Wt(i.toArray()),tr.none())}}function bB(t,e,n){t instanceof eo?function(i,o,s){let c=i.value.clone(),u=oS(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Mn?function(i,o,s){if(!Kd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=oS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(IN(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function hc(t,e,n,r){return t instanceof eo?function(o,s,c,u){if(!Kd(o.precondition,s))return c;let l=o.value.clone(),h=sS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mn?function(o,s,c,u){if(!Kd(o.precondition,s))return c;let l=sS(o.fieldTransforms,u,s),h=s.data;return h.setAll(IN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return Kd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function AB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=mN(r.transform,i||null);o!=null&&(n===null&&(n=kt.empty()),n.set(r.field,o))}return n||null}function iS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cs(r,i,(o,s)=>CB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var eo=class extends ys{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Mn=class extends ys{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function IN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function oS(t,e,n){let r=new Map;de(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,TB(s,c,n[i]))}return r}function sS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,DB(o,s,e))}return r}var ih=class extends ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Mv=class extends ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Pv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&bB(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=pN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=EN(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(n,r)=>iS(n,r))&&cs(this.baseMutations,e.baseMutations,(n,r)=>iS(n,r))}},xv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){de(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return vB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var kv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Ov=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Le,ue;function SB(t){switch(t){case M.OK:return $(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return $(15467,{code:t})}}function wN(t){if(t===void 0)return nr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Le.OK:return M.OK;case Le.CANCELLED:return M.CANCELLED;case Le.UNKNOWN:return M.UNKNOWN;case Le.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Le.INTERNAL:return M.INTERNAL;case Le.UNAVAILABLE:return M.UNAVAILABLE;case Le.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Le.NOT_FOUND:return M.NOT_FOUND;case Le.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Le.ABORTED:return M.ABORTED;case Le.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Le.DATA_LOSS:return M.DATA_LOSS;default:return $(39323,{code:t})}}(ue=Le||(Le={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";var aS=null;var NB=new Xn([4294967295,4294967295],0);function cS(t){let e=kS().encode(t),n=new Yy;return n.update(e),new Uint8Array(n.digest())}function uS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Xn([n,r],0),new Xn([i,o],0)]}var Fv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wi(`Invalid padding: ${n}`);if(r<0)throw new Wi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wi(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Xn.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Xn.fromNumber(r)));return i.compare(NB)===1&&(i=new Xn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=cS(e),[r,i]=uS(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.pe===0)return;let n=cS(e),[r,i]=uS(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Wi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var oh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new Pe(re),sr(),se())}},yc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,se(),se(),se())}};var os=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},sh=class{constructor(e,n){this.targetId=e,this.Ce=n}},ah=class{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ch=class{constructor(){this.Fe=0,this.Me=lS(),this.xe=lt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=se(),n=se(),r=se();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$(38017,{changeType:o})}}),new yc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=lS()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,de(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},Lv=class{constructor(e){this.ze=e,this.je=new Map,this.He=sr(),this.Je=qd(),this.Ye=qd(),this.Ze=new Pe(re)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:$(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(Av(o))if(r===0){let s=new U(o.path);this.tt(n,s,hn.newNoDocument(s,ee.min()))}else de(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let c=this.ct(e),u=c?this.lt(c,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}aS?.ht(function(h,p,m,y,b){var N,R,k,H,ne,ge;let dt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},he=p.unchangedNames;return he&&(dt.bloomFilter={applied:b===0,hashCount:(N=he?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(H=(k=(R=he?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&H!==void 0?H:0,padding:(ge=(ne=he?.bits)===null||ne===void 0?void 0:ne.padding)!==null&&ge!==void 0?ge:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),dt}(s,e.Ce,this.ze.Pt(),c,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=ir(r).toUint8Array()}catch(u){if(u instanceof eh)return as("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Fv(s,i,o)}catch(u){return as(u instanceof Wi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let c=this._t(s);if(c){if(o.current&&Av(c.target)){let u=new U(c.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,hn.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=se();this.Ye.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new oh(e,n,this.Ze,this.He,r);return this.He=sr(),this.Je=qd(),this.Ye=qd(),this.Ze=new Pe(re),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new ch,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ke(re),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ke(re),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ch),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function qd(){return new Pe(U.comparator)}function lS(){return new Pe(U.comparator)}var RB={asc:"ASCENDING",desc:"DESCENDING"},MB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PB={and:"AND",or:"OR"},Vv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function jv(t,e){return t.useProto3Json||Ph(e)?e:{value:e}}function uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xB(t,e){return uh(t,e.toTimestamp())}function Nn(t){return de(!!t,49232),ee.fromTimestamp(function(n){let r=rr(n);return new Je(r.seconds,r.nanos)}(t))}function X_(t,e){return Bv(t,e).canonicalString()}function Bv(t,e){let n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TN(t){let e=Se.fromString(t);return de(NN(e),10190,{key:e.toString()}),e}function Uv(t,e){return X_(t.databaseId,e.path)}function nv(t,e){let n=TN(e);if(n.get(1)!==t.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(bN(n))}function CN(t,e){return X_(t.databaseId,e)}function kB(t){let e=TN(t);return e.length===4?Se.emptyPath():bN(e)}function $v(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bN(t){return de(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dS(t,e,n){return{name:Uv(t,e),fields:n.value.mapValue.fields}}function OB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:$(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(de(h===void 0||typeof h=="string",58123),lt.fromBase64String(h||"")):(de(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let h=l.code===void 0?M.UNKNOWN:wN(l.code);return new L(h,l.message||"")}(s);n=new ah(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=nv(t,r.document.name),o=Nn(r.document.updateTime),s=r.document.createTime?Nn(r.document.createTime):ee.min(),c=new kt({mapValue:{fields:r.document.fields}}),u=hn.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];n=new os(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=nv(t,r.document),o=r.readTime?Nn(r.readTime):ee.min(),s=hn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new os([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=nv(t,r.document),o=r.removedTargetIds||[];n=new os([],o,i,null)}else{if(!("filter"in e))return $(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Ov(i,o),c=r.targetId;n=new sh(c,s)}}return n}function FB(t,e){let n;if(e instanceof eo)n={update:dS(t,e.key,e.value)};else if(e instanceof ih)n={delete:Uv(t,e.key)};else if(e instanceof Mn)n={update:dS(t,e.key,e.data),updateMask:zB(e.fieldMask)};else{if(!(e instanceof Mv))return $(16599,{ft:e.type});n={verify:Uv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof gs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ji)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Xi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ms)return{fieldPath:s.field.canonicalString(),increment:c.Re};throw $(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:xB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$(27497)}(t,e.precondition)),n}function LB(t,e){return t&&t.length>0?(de(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Nn(i.updateTime):Nn(o);return s.isEqual(ee.min())&&(s=Nn(o)),new Rv(s,i.transformResults||[])}(n,e))):[]}function VB(t,e){return{documents:[CN(t,e.path)]}}function jB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=CN(t,i);let o=function(l){if(l.length!==0)return SN(fn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ns(m.field),direction:$B(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=jv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function BB(t){let e=kB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){de(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=AN(p);return m instanceof fn&&oN(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(b){return new fs(rs(b.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let c=null;n.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,Ph(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new hs(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new hs(y,m)}(n.endAt)),fB(e,i,s,o,c,"F",u,l)}function UB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=rs(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=rs(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=rs(n.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=rs(n.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $(61313);default:return $(60726)}}(t):t.fieldFilter!==void 0?function(n){return je.create(rs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $(58110);default:return $(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(r=>AN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $(1026)}}(n.compositeFilter.op))}(t):$(30097,{filter:t})}function $B(t){return RB[t]}function HB(t){return MB[t]}function qB(t){return PB[t]}function ns(t){return{fieldPath:t.canonicalString()}}function rs(t){return Ot.fromServerFormat(t.fieldPath)}function SN(t){return t instanceof je?function(n){if(n.op==="=="){if(J0(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NAN"}};if(Z0(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J0(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NAN"}};if(Z0(n.value))return{unaryFilter:{field:ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ns(n.field),op:HB(n.op),value:n.value}}}(t):t instanceof fn?function(n){let r=n.getFilters().map(i=>SN(i));return r.length===1?r[0]:{compositeFilter:{op:qB(n.op),filters:r}}}(t):$(54877,{filter:t})}function zB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var vc=class t{constructor(e,n,r,i,o=ee.min(),s=ee.min(),c=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Hv=class{constructor(e){this.wt=e}};function GB(t){let e=BB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nv(e,e.limit,"L"):e}var lh=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Te(e.integerValue));else if("doubleValue"in e){let r=Te(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),pc(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=rr(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(ir(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?nN(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):tN(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):$(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=us,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(Te(c)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),U.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};lh.Wt=new lh;var qv=class{constructor(){this.Cn=new zv}addToCollectionParentIndex(e,n){return this.Cn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Yi.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},zv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(Se.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(Se.comparator)).toArray()}};var vte=new Uint8Array(0);var hS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RN=41943040,Gt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(RN,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);var _c=class t{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new t(0)}static lr(){return new t(-1)}};var fS="LruGarbageCollector",WB=1048576;function pS([t,e],[n,r]){let i=re(t,n);return i===0?re(e,r):i}var Gv=class{constructor(e){this.Er=e,this.buffer=new Ke(pS),this.dr=0}Ar(){return++this.dr}Rr(e){let n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();pS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Wv=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){F(fS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ds(n)?F(fS,"Ignoring IndexedDB error during garbage collection: ",n):yield ws(n)}yield this.mr(3e5)}))}},Kv=class{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(q_.le);let r=new Gv(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(hS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hS):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,c,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),es()<=ie.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function KB(t,e){return new Kv(t,e)}var Qv=class{constructor(){this.changes=new or(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Yv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Zv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hc(r.mutation,i,Wt.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){let i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=cc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=sr(),s=dc(),c=function(){return dc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Mn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),hc(h.mutation,l,h.mutation.getFieldMask(),Je.now())):s.set(l.key,Wt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return c.set(l,new Yv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=dc(),i=new Pe((s,c)=>s-c),o=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Wt.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||se()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=pN();h.forEach(m=>{if(!o.has(m)){let y=EN(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return U.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Gi()),c=fc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,se())).next(h=>({batchId:c,changes:fN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=cc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=cc();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let l=function(p,m){return new Zi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,hn.newInvalidDocument(h)))});let c=cc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&hc(h.mutation,l,Wt.empty(),Je.now()),Fh(n,l)&&(c=c.insert(u,l))}),c})}};var Jv=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return P.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:GB(i.bundledQuery),readTime:Nn(i.readTime)}}(n)),P.resolve()}};var Xv=class{constructor(){this.overlays=new Pe(U.comparator),this.Qr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Gi();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Gi(),o=n.length+1,s=new U(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Gi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=Gi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return P.resolve(c)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new kv(n,r));let o=this.Qr.get(n);o===void 0&&(o=se(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}};var e_=class{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Ec=class{constructor(){this.$r=new Ke(Ve.Ur),this.Kr=new Ke(Ve.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){let r=new Ve(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Ve(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){let n=new U(new Se([])),r=new Ve(n,e),i=new Ve(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let n=new U(new Se([])),r=new Ve(n,e),i=new Ve(n,e+1),o=se();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ve(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return U.comparator(e.key,n.key)||re(e.Zr,n.Zr)}static Wr(e,n){return re(e.Zr,n.Zr)||U.comparator(e.key,n.key)}};var t_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ke(Ve.Ur)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Pv(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Xr=this.Xr.add(new Ve(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ti(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?z_:this.nr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let c=this.ei(s.Zr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(re);return n.forEach(i=>{let o=new Ve(i,0),s=new Ve(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],c=>{r=r.add(c.Zr)})}),P.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;U.isDocumentKey(o)||(o=o.child(""));let s=new Ve(new U(o),0),c=new Ke(re);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Zr)),!0)},s),P.resolve(this.ni(c))}ni(e){let n=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){de(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return P.forEach(n.mutations,i=>{let o=new Ve(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){let r=new Ve(n,0),i=this.Xr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var n_=class{constructor(e){this.ii=e,this.docs=function(){return new Pe(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=sr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=sr(),s=n.path,c=new U(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Kj(Wj(h),r)<=0||(i.has(h.key)||Fh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){$(9500)}si(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new r_(this)}getSize(e){return P.resolve(this.size)}},r_=class extends Qv{constructor(e){super(),this.Br=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}};var i_=class{constructor(e){this.persistence=e,this.oi=new or(n=>Y_(n),Z_),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this._i=0,this.ai=new Ec,this.targetCount=0,this.ui=_c.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),P.resolve()}Tr(e){this.oi.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ui=new _c(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Tr(n),P.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.oi.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.oi.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ai.Yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.ai.containsKey(n))}};var dh=class{constructor(e,n){this.ci={},this.overlays={},this.li=new q_(0),this.hi=!1,this.hi=!0,this.Pi=new e_,this.referenceDelegate=e(this),this.Ti=new i_(this),this.indexManager=new qv,this.remoteDocumentCache=function(i){return new n_(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Hv(n),this.Ei=new Jv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new t_(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new o_(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return P.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}},o_=class extends pv{constructor(e){super(),this.currentSequenceNumber=e}},s_=class t{constructor(e){this.persistence=e,this.Vi=new Ec,this.mi=null}static fi(e){return new t(e)}get gi(){if(this.mi)return this.mi;throw $(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.gi,r=>{let i=U.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,ee.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return P.or([()=>P.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}},hh=class t{constructor(e,n){this.persistence=e,this.yi=new or(r=>Jj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=KB(this,n)}static fi(e,n){return new t(e,n)}di(){}Ai(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){let n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return P.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gd(e.data.value)),n}Dr(e,n,r){return P.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.yi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var a_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=se(),i=se();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var c_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var u_=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return E0()?8:Yj(Ge())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new c_;return this.Ss(e,n,s).next(c=>{if(o.result=c,this.fs)return this.Ds(e,n,s,c.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(es()<=ie.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",ts(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),P.resolve()):(es()<=ie.DEBUG&&F("QueryEngine","Query:",ts(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(es()<=ie.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",ts(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(n))):P.resolve())}ws(e,n){if(nS(n))return P.resolve(null);let r=Sn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Nv(n,null,"F"),r=Sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=se(...o);return this.ys.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(n,c);return this.Cs(n,l,s,u.readTime)?this.ws(e,Nv(n,null,"F")):this.Fs(e,l,n,u)}))})))}bs(e,n,r,i){return nS(n)||i.isEqual(ee.min())?P.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(n,o);return this.Cs(n,s,r,i)?P.resolve(null):(es()<=ie.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ts(n)),this.Fs(e,s,n,Gj(i,fc)).next(c=>c))})}vs(e,n){let r=new Ke(dN(e));return n.forEach((i,o)=>{Fh(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return es()<=ie.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",ts(n)),this.ys.getDocumentsMatchingQuery(e,n,Yi.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var eE="LocalStore",QB=3e8,l_=class{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Pe(re),this.Os=new or(o=>Y_(o),Z_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zv(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}};function YB(t,e,n,r){return new l_(t,e,n,r)}function MN(t,e){return _(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=se();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:c}))})})})}function ZB(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(b=>{y=y.next(()=>h.getEntry(u,b)).next(N=>{let R=l.docVersions.get(b);de(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=se();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function PN(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function JB(t,e){let n=Z(t),r=e.snapshotVersion,i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;let c=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(n.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(lt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,k){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=QB?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,y,h)&&c.push(n.Ti.updateTargetData(o,y))});let u=sr(),l=se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(XB(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(ee.min())){let h=n.Ti.getLastRemoteSnapshotVersion(o).next(p=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return P.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.xs=i,o))}function XB(t,e,n){let r=se(),i=se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=sr();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):F(eE,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function eU(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=z_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tU(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new vc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}function d_(t,e,n){return _(this,null,function*(){let r=Z(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ds(s))throw s;F(eE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function gS(t,e,n){let r=Z(t),i=ee.min(),o=se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Z(u),m=p.Os.get(h);return m!==void 0?P.resolve(p.xs.get(m)):p.Ti.getTargetData(l,h)}(r,s,Sn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:ee.min(),n?o:se())).next(c=>(nU(r,gB(e),c),{documents:c,$s:o})))}function nU(t,e,n){let r=t.Ns.get(e)||ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}var fh=class{constructor(){this.activeTargetIds=IB()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var h_=class{constructor(){this.xo=new fh,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new fh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var f_=class{No(e){}shutdown(){}};var mS="ConnectivityMonitor",ph=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){F(mS,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){F(mS,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var zd=null;function p_(){return zd===null?zd=function(){return 268435456+Math.round(2147483648*Math.random())}():zd++,"0x"+zd.toString(16)}var rv="RestConnection",rU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},g_=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===th?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){let s=p_(),c=this.jo(e,n.toUriEncodedString());F(rv,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(c),h=Hi(l);return this.Jo(e,c,u,r,h).then(p=>(F(rv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw as(rv,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){let r=rU[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}};var m_=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var ct="WebChannelConnection",y_=class extends g_{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=p_();return new Promise((c,u)=>{let l=new Zy;l.setWithCredentials(!0),l.listenOnce(Jy.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ac.NO_ERROR:let p=l.getResponseJson();F(ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case ac.TIMEOUT:F(ct,`RPC '${e}' ${s} timed out`),u(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:let m=l.getStatus();if(F(ct,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let N=function(k){let H=k.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(H)>=0?H:M.UNKNOWN}(b.status);u(new L(N,b.message))}else u(new L(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new L(M.UNAVAILABLE,"Connection failed."));break;default:$(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{F(ct,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);F(ct,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}I_(e,n,r){let i=p_(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=tv(),c=ev(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");F(ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let m=!1,y=!1,b=new m_({Zo:R=>{y?F(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(F(ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),F(ct,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),N=(R,k,H)=>{R.listen(k,ne=>{try{H(ne)}catch(ge){setTimeout(()=>{throw ge},0)}})};return N(p,Xo.EventType.OPEN,()=>{y||(F(ct,`RPC '${e}' stream ${i} transport opened.`),b.__())}),N(p,Xo.EventType.CLOSE,()=>{y||(y=!0,F(ct,`RPC '${e}' stream ${i} transport closed`),b.u_(),this.d_(p))}),N(p,Xo.EventType.ERROR,R=>{y||(y=!0,as(ct,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),b.u_(new L(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,Xo.EventType.MESSAGE,R=>{var k;if(!y){let H=R.data[0];de(!!H,16349);let ne=H,ge=ne?.error||((k=ne[0])===null||k===void 0?void 0:k.error);if(ge){F(ct,`RPC '${e}' stream ${i} received error:`,ge);let dt=ge.status,he=function(I){let w=Le[I];if(w!==void 0)return wN(w)}(dt),D=ge.message;he===void 0&&(he=M.INTERNAL,D="Unknown error status: "+dt+" with message "+ge.message),y=!0,b.u_(new L(he,D)),p.close()}else F(ct,`RPC '${e}' stream ${i} received:`,H),b.c_(H)}}),N(c,Xy.STAT_EVENT,R=>{R.stat===$d.PROXY?F(ct,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===$d.NOPROXY&&F(ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}};function iv(){return typeof document<"u"?document:null}function Lh(t){return new Vv(t,!0)}var gh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var yS="PersistentStream",mh=class{constructor(e,n,r,i,o,s,c,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new gh(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return _(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return _(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,n){return _(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(n)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{let i=new L(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){let r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>_(this,null,function*(){this.state=0,this.start()}))}j_(e){return F(yS,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(F(yS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},v_=class extends mh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let n=OB(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Nn(s.readTime):ee.min()}(e);return this.listener.Y_(n,r)}Z_(e){let n={};n.database=$v(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=Av(u)?{documents:VB(o,u)}:{query:jB(o,u).gt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=DN(o,s.resumeToken);let l=jv(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){c.readTime=uh(o,s.snapshotVersion.toTimestamp());let l=jv(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=UB(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){let n={};n.database=$v(this.serializer),n.removeTarget=e,this.Q_(n)}},__=class extends mh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return de(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){de(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let n=LB(e.writeResults,e.commitTime),r=Nn(e.commitTime);return this.listener.ra(r,n)}ia(){let e={};e.database=$v(this.serializer),this.Q_(e)}ta(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>FB(this.serializer,r))};this.Q_(n)}};var E_=class{},I_=class extends E_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,Bv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(M.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Yo(e,Bv(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(M.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},w_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(nr(n),this.ua=!1):F("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var to="RemoteStore",D_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){ro(this)&&(F(to,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=Z(u);l.da.add(4),yield Nc(l),l.Va.set("Unknown"),l.da.delete(4),yield Vh(l)})}(this))}))}),this.Va=new w_(r,i)}};function Vh(t){return _(this,null,function*(){if(ro(t))for(let e of t.Aa)yield e(!0)})}function Nc(t){return _(this,null,function*(){for(let e of t.Aa)yield e(!1)})}function xN(t,e){let n=Z(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),iE(n)?rE(n):Ts(n).N_()&&nE(n,e))}function tE(t,e){let n=Z(t),r=Ts(n);n.Ea.delete(e),r.N_()&&kN(n,e),n.Ea.size===0&&(r.N_()?r.k_():ro(n)&&n.Va.set("Unknown"))}function nE(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ts(t).Z_(e)}function kN(t,e){t.ma.Ke(e),Ts(t).X_(e)}function rE(t){t.ma=new Lv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ts(t).start(),t.Va.ca()}function iE(t){return ro(t)&&!Ts(t).O_()&&t.Ea.size>0}function ro(t){return Z(t).da.size===0}function ON(t){t.ma=void 0}function iU(t){return _(this,null,function*(){t.Va.set("Online")})}function oU(t){return _(this,null,function*(){t.Ea.forEach((e,n)=>{nE(t,e)})})}function sU(t,e){return _(this,null,function*(){ON(t),iE(t)?(t.Va.Pa(e),rE(t)):t.Va.set("Unknown")})}function aU(t,e,n){return _(this,null,function*(){if(t.Va.set("Online"),e instanceof ah&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ea.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ea.delete(c),i.ma.removeTarget(c))})}(t,e)}catch(r){F(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yh(t,r)}else if(e instanceof os?t.ma.Xe(e):e instanceof sh?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ee.min()))try{let r=yield PN(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.ma.It(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),kN(o,u);let p=new vc(h.target,u,l,h.sequenceNumber);nE(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){F(to,"Failed to raise snapshot:",r),yield yh(t,r)}})}function yh(t,e,n){return _(this,null,function*(){if(!Ds(e))throw e;t.da.add(1),yield Nc(t),t.Va.set("Offline"),n||(n=()=>PN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){F(to,"Retrying IndexedDB access"),yield n(),t.da.delete(1),yield Vh(t)}))})}function FN(t,e){return e().catch(n=>yh(t,n,e))}function jh(t){return _(this,null,function*(){let e=Z(t),n=Wr(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:z_;for(;cU(e);)try{let i=yield eU(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,uU(e,i)}catch(i){yield yh(e,i)}LN(e)&&VN(e)})}function cU(t){return ro(t)&&t.Ia.length<10}function uU(t,e){t.Ia.push(e);let n=Wr(t);n.N_()&&n.ea&&n.ta(e.mutations)}function LN(t){return ro(t)&&!Wr(t).O_()&&t.Ia.length>0}function VN(t){Wr(t).start()}function lU(t){return _(this,null,function*(){Wr(t).ia()})}function dU(t){return _(this,null,function*(){let e=Wr(t);for(let n of t.Ia)e.ta(n.mutations)})}function hU(t,e,n){return _(this,null,function*(){let r=t.Ia.shift(),i=xv.from(r,e,n);yield FN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield jh(t)})}function fU(t,e){return _(this,null,function*(){e&&Wr(t).ea&&(yield function(r,i){return _(this,null,function*(){if(function(s){return SB(s)&&s!==M.ABORTED}(i.code)){let o=r.Ia.shift();Wr(r).L_(),yield FN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield jh(r)}})}(t,e)),LN(t)&&VN(t)})}function vS(t,e){return _(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),F(to,"RemoteStore received new credentials");let r=ro(n);n.da.add(3),yield Nc(n),r&&n.Va.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),yield Vh(n)})}function pU(t,e){return _(this,null,function*(){let n=Z(t);e?(n.da.delete(2),yield Vh(n)):e||(n.da.add(2),yield Nc(n),n.Va.set("Unknown"))})}function Ts(t){return t.fa||(t.fa=function(n,r,i){let o=Z(n);return o.oa(),new v_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:iU.bind(null,t),n_:oU.bind(null,t),i_:sU.bind(null,t),Y_:aU.bind(null,t)}),t.Aa.push(e=>_(null,null,function*(){e?(t.fa.L_(),iE(t)?rE(t):t.Va.set("Unknown")):(yield t.fa.stop(),ON(t))}))),t.fa}function Wr(t){return t.ga||(t.ga=function(n,r,i){let o=Z(n);return o.oa(),new __(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:lU.bind(null,t),i_:fU.bind(null,t),na:dU.bind(null,t),ra:hU.bind(null,t)}),t.Aa.push(e=>_(null,null,function*(){e?(t.ga.L_(),yield jh(t)):(yield t.ga.stop(),t.Ia.length>0&&(F(to,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))}))),t.ga}var T_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function oE(t,e){if(nr("AsyncQueue",`${e}: ${t}`),Ds(t))return new L(M.UNAVAILABLE,`${e}: ${t}`);throw t}var vh=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=cc(),this.sortedSet=new Pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var _h=class{constructor(){this.pa=new Pe(U.comparator)}track(e){let n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):$(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){let e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}},vs=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,vh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var C_=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},b_=class{constructor(){this.queries=_S(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=Z(n),o=i.queries;i.queries=_S(),o.forEach((s,c)=>{for(let u of c.Sa)u.onError(r)})})(this,new L(M.ABORTED,"Firestore shutting down"))}};function _S(){return new or(t=>lN(t),Oh)}function sE(t,e){return _(this,null,function*(){let n=Z(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new C_,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield n.onListen(i,!0);break;case 1:o.ba=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=oE(s,`Initialization of query '${ts(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&cE(n)})}function aE(t,e){return _(this,null,function*(){let n=Z(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function gU(t,e){let n=Z(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.Sa)c.Ma(i)&&(r=!0);s.ba=i}}r&&cE(n)}function mU(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function cE(t){t.Ca.forEach(e=>{e.next()})}var A_,ES;(ES=A_||(A_={})).xa="default",ES.Cache="cache";var Ic=class{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;let r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;let n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==A_.Cache}};var Eh=class{constructor(e){this.key=e}},Ih=class{constructor(e){this.key=e}},S_=class{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=se(),this.mutatedKeys=se(),this.Za=dN(e),this.Xa=new vh(this.Za)}get eu(){return this.Ha}tu(e,n){let r=n?n.nu:new _h,i=n?n.Xa:this.Xa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Fh(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?b!==N&&(r.track({type:3,doc:y}),R=!0):this.ru(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Za(y,u)>0||l&&this.Za(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(c=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:c,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(y,b){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $(20277,{Vt:R})}};return N(y)-N(b)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let c=n&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new vs(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new _h,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=se(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Ih(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Eh(r))}),n}au(e){this.Ha=e.$s,this.Ya=se();let n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return vs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},uE="SyncEngine",N_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},R_=class{constructor(e){this.key=e,this.cu=!1}},M_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new or(c=>lN(c),Oh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Pe(U.comparator),this.Eu=new Map,this.du=new Ec,this.Au={},this.Ru=new Map,this.Vu=_c.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function yU(t,e,n=!0){return _(this,null,function*(){let r=qN(t),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield jN(r,e,n,!0),i})}function vU(t,e){return _(this,null,function*(){let n=qN(t);yield jN(n,e,!0,!1)})}function jN(t,e,n,r){return _(this,null,function*(){let i=yield tU(t.localStore,Sn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield _U(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&xN(t.remoteStore,i),c})}function _U(t,e,n,r,i){return _(this,null,function*(){t.fu=(p,m,y)=>function(N,R,k,H){return _(this,null,function*(){let ne=R.view.tu(k);ne.Cs&&(ne=yield gS(N.localStore,R.query,!1).then(({documents:D})=>R.view.tu(D,ne)));let ge=H&&H.targetChanges.get(R.targetId),dt=H&&H.targetMismatches.get(R.targetId)!=null,he=R.view.applyChanges(ne,N.isPrimaryClient,ge,dt);return wS(N,R.targetId,he.ou),he.snapshot})}(t,p,m,y);let o=yield gS(t.localStore,e,!0),s=new S_(e,o.$s),c=s.tu(o.documents),u=yc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);wS(t,n,l.ou);let h=new N_(e,n,s);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),l.snapshot})}function EU(t,e,n){return _(this,null,function*(){let r=Z(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!Oh(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield d_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&tE(r.remoteStore,i.targetId),P_(r,i.targetId)}).catch(ws))):(P_(r,i.targetId),yield d_(r.localStore,i.targetId,!0))})}function IU(t,e){return _(this,null,function*(){let n=Z(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tE(n.remoteStore,r.targetId))})}function wU(t,e,n){return _(this,null,function*(){let r=NU(t);try{let i=yield function(s,c){let u=Z(s),l=Je.now(),h=c.reduce((y,b)=>y.add(b.key),se()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=sr(),N=se();return u.Bs.getEntries(y,h).next(R=>{b=R,b.forEach((k,H)=>{H.isValidDocument()||(N=N.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(R=>{p=R;let k=[];for(let H of c){let ne=AB(H,p.get(H.key).overlayedDocument);ne!=null&&k.push(new Mn(H.key,ne,rN(ne.value.mapValue),tr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,c)}).next(R=>{m=R;let k=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,k)})}).then(()=>({batchId:m.batchId,changes:fN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Au[s.currentUser.toKey()];l||(l=new Pe(re)),l=l.insert(c,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Rc(r,i.changes),yield jh(r.remoteStore)}catch(i){let o=oE(i,"Failed to persist write");n.reject(o)}})}function BN(t,e){return _(this,null,function*(){let n=Z(t);try{let r=yield JB(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?de(s.cu,14607):i.removedDocuments.size>0&&(de(s.cu,42227),s.cu=!1))}),yield Rc(n,r,e)}catch(r){yield ws(r)}})}function IS(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.hu.forEach((o,s)=>{let c=s.view.Fa(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=Z(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.Sa)m.Fa(c)&&(l=!0)}),l&&cE(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function DU(t,e,n){return _(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Pe(U.comparator);s=s.insert(o,hn.newNoDocument(o,ee.min()));let c=se().add(o),u=new oh(ee.min(),new Map,new Pe(re),s,c);yield BN(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),lE(r)}else yield d_(r.localStore,e,!1).then(()=>P_(r,e,n)).catch(ws)})}function TU(t,e){return _(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield ZB(n.localStore,e);$N(n,r,null),UN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Rc(n,i)}catch(i){yield ws(i)}})}function CU(t,e,n){return _(this,null,function*(){let r=Z(t);try{let i=yield function(s,c){let u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(de(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);$N(r,e,n),UN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Rc(r,i)}catch(i){yield ws(i)}})}function UN(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function $N(t,e,n){let r=Z(t),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function P_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||HN(t,r)})}function HN(t,e){t.Tu.delete(e.path.canonicalString());let n=t.Iu.get(e);n!==null&&(tE(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),lE(t))}function wS(t,e,n){for(let r of n)r instanceof Eh?(t.du.addReference(r.key,e),bU(t,r)):r instanceof Ih?(F(uE,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||HN(t,r.key)):$(19791,{pu:r})}function bU(t,e){let n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(F(uE,"New document in limbo: "+n),t.Tu.add(r),lE(t))}function lE(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){let e=t.Tu.values().next().value;t.Tu.delete(e);let n=new U(Se.fromString(e)),r=t.Vu.next();t.Eu.set(r,new R_(n)),t.Iu=t.Iu.insert(n,r),xN(t.remoteStore,new vc(Sn(kh(n.path)),r,"TargetPurposeLimboResolution",q_.le))}}function Rc(t,e,n){return _(this,null,function*(){let r=Z(t),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((c,u)=>{s.push(r.fu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=a_.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return _(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ds(p))throw p;F(eE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.xs.get(m),b=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(b);h.xs=h.xs.insert(m,N)}}})}(r.localStore,o))})}function AU(t,e){return _(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){F(uE,"User change. New user:",e.toKey());let r=yield MN(n.localStore,e);n.currentUser=e,function(o,s){o.Ru.forEach(c=>{c.forEach(u=>{u.reject(new L(M.CANCELLED,s))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Rc(n,r.ks)}})}function SU(t,e){let n=Z(t),r=n.Eu.get(e);if(r&&r.cu)return se().add(r.key);{let i=se(),o=n.Pu.get(e);if(!o)return i;for(let s of o){let c=n.hu.get(s);i=i.unionWith(c.view.eu)}return i}}function qN(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DU.bind(null,e),e.lu.Y_=gU.bind(null,e.eventManager),e.lu.gu=mU.bind(null,e.eventManager),e}function NU(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CU.bind(null,e),e}var zN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=Lh(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Su(n),yield this.persistence.start(),this.localStore=this.Du(n),this.gcScheduler=this.vu(n,this.localStore),this.indexBackfillerScheduler=this.Cu(n,this.localStore)})}vu(n,r){return null}Cu(n,r){return null}Du(n){return YB(this.persistence,new u_,n.initialUser,this.serializer)}Su(n){return new dh(s_.fi,this.serializer)}bu(n){return new h_}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),x_=class extends zN{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){de(this.persistence.referenceDelegate instanceof hh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Wv(r,e.asyncQueue,n)}Su(e){let n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new dh(r=>hh.fi(r,n),this.serializer)}};var RU=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>IS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=AU.bind(null,this.syncEngine),yield pU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new b_}()}createDatastore(n){let r=Lh(n.databaseInfo.databaseId),i=function(s){return new y_(s)}(n.databaseInfo);return function(s,c,u,l){return new I_(s,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new D_(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>IS(this.syncEngine,r,0),function(){return ph.C()?new ph:new f_}())}createSyncEngine(n,r){return function(o,s,c,u,l,h,p){let m=new M_(o,s,c,u,l,h);return p&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=Z(o);F(to,"RemoteStore shutting down."),s.da.add(5),yield Nc(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var wc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Kr="FirestoreClient",k_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=Zd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){F(Kr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F(Kr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=oE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ov(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F(Kr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield MN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function DS(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield MU(t);F(Kr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vS(e.remoteStore,i)),t._onlineComponents=e})}function MU(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F(Kr,"Using user provided OfflineComponentProvider");try{yield ov(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;as("Error using user provided cache. Falling back to memory cache: "+n),yield ov(t,new zN)}}else F(Kr,"Using default OfflineComponentProvider"),yield ov(t,new x_(void 0));return t._offlineComponents})}function GN(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F(Kr,"Using user provided OnlineComponentProvider"),yield DS(t,t._uninitializedComponentsProvider._online)):(F(Kr,"Using default OnlineComponentProvider"),yield DS(t,new RU))),t._onlineComponents})}function PU(t){return GN(t).then(e=>e.syncEngine)}function wh(t){return _(this,null,function*(){let e=yield GN(t),n=e.eventManager;return n.onListen=yU.bind(null,e.syncEngine),n.onUnlisten=EU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IU.bind(null,e.syncEngine),n})}function xU(t,e,n={}){let r=new dn;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,c,u,l){let h=new wc({next:m=>{h.xu(),s.enqueueAndForget(()=>aE(o,p));let y=m.docs.has(c);!y&&m.fromCache?l.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Ic(kh(c.path),h,{includeMetadataChanges:!0,Qa:!0});return sE(o,p)}(yield wh(t),t.asyncQueue,e,n,r)})),r.promise}function kU(t,e,n={}){let r=new dn;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,c,u,l){let h=new wc({next:m=>{h.xu(),s.enqueueAndForget(()=>aE(o,p)),m.fromCache&&u.source==="server"?l.reject(new L(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Ic(c,h,{includeMetadataChanges:!0,Qa:!0});return sE(o,p)}(yield wh(t),t.asyncQueue,e,n,r)})),r.promise}function WN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var TS=new Map;function KN(t,e,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OU(t,e,n,r){if(e===!0&&r===!0)throw new L(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CS(t){if(!U.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bS(t){if(U.isDocumentKey(t))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$(12329,{type:typeof t})}function Ft(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Bh(t);throw new L(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var QN="firestore.googleapis.com",AS=!0,Dh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QN,this.ssl=AS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:AS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WB)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},_s=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sv;switch(r.type){case"firstParty":return new lv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=TS.get(n);r&&(F("ComponentProvider","Removing Datastore"),TS.delete(n),r.terminate())}(this),Promise.resolve()}};function YN(t,e,n,r={}){var i;t=Ft(t,_s);let o=Hi(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Fd(`https://${u}`),Ld("Firestore",!0)),s.host!==QN&&s.host!==u&&as("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Tn(l,c)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=We.MOCK_USER;else{h=p0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new We(m)}t._authCredentials=new av(new Qd(h,p))}}var no=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ut=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},zr=class t extends no{constructor(e,n,r){super(e,n,kh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new U(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ZN(t,e,...n){if(t=Ae(t),KN("collection","path",e),t instanceof _s){let r=Se.fromString(e,...n);return bS(r),new zr(t,null,r)}{if(!(t instanceof ut||t instanceof zr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return bS(r),new zr(t.firestore,null,r)}}function dE(t,e,...n){if(t=Ae(t),arguments.length===1&&(e=Zd.newId()),KN("doc","path",e),t instanceof _s){let r=Se.fromString(e,...n);return CS(r),new ut(t,null,new U(r))}{if(!(t instanceof ut||t instanceof zr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return CS(r),new ut(t.firestore,t instanceof zr?t.converter:null,new U(r))}}var SS="AsyncQueue",Th=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new gh(this,"async_queue_retry"),this.rc=()=>{let r=iv();r&&F(SS,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let n=iv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let n=iv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let n=new dn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return _(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ds(e))throw e;F(SS,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,nr("INTERNAL UNHANDLED ERROR: ",NS(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);let i=T_.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&$(47125,{cc:NS(this.Xu)})}verifyOperationInProgress(){}lc(){return _(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let n=this.Zu.indexOf(e);this.Zu.splice(n,1)}};function NS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function RS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Pn=class extends _s{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Th,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Th(e),this._firestoreClient=void 0,yield e}})}};function JN(t,e){let n=typeof t=="object"?t:zi(),r=typeof t=="string"?t:e||th,i=Jo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=f0("firestore");o&&YN(i,...o)}return i}function Uh(t){if(t._terminated)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FU(t),t._firestoreClient}function FU(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,h){return new gv(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,WN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new k_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Dc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(lt.fromBase64String(e))}catch(n){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Es=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Tc=class{constructor(e){this._methodName=e}};var Cc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}};var bc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var LU=/^__.*__$/,O_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mn(e,this.data,this.fieldMask,n,this.fieldTransforms):new eo(e,this.data,n,this.fieldTransforms)}},Ch=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function XN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $(40011,{Ic:t})}}var F_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ah(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(XN(this.Ic)&&LU.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},L_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lh(e)}bc(e,n,r,i=!1){return new F_({Ic:e,methodName:n,wc:r,path:Ot.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function $h(t){let e=t._freezeSettings(),n=Lh(t._databaseId);return new L_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eR(t,e,n,r,i,o={}){let s=t.bc(o.merge||o.mergeFields?2:0,e,n,i);hE("Data must be an object, but it was:",s,r);let c=tR(r,s),u,l;if(o.merge)u=new Wt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=V_(e,p,n);if(!s.contains(m))throw new L(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);rR(h,m)||h.push(m)}u=new Wt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new O_(new kt(c),u,l)}var bh=class t extends Tc{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function VU(t,e,n,r){let i=t.bc(1,e,n);hE("Data must be an object, but it was:",i,r);let o=[],s=kt.empty();Qr(r,(u,l)=>{let h=fE(e,u,n);l=Ae(l);let p=i.mc(h);if(l instanceof bh)o.push(h);else{let m=Mc(l,p);m!=null&&(o.push(h),s.set(h,m))}});let c=new Wt(o);return new Ch(s,c,i.fieldTransforms)}function jU(t,e,n,r,i,o){let s=t.bc(1,e,n),c=[V_(e,r,n)],u=[i];if(o.length%2!=0)throw new L(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)c.push(V_(e,o[m])),u.push(o[m+1]);let l=[],h=kt.empty();for(let m=c.length-1;m>=0;--m)if(!rR(l,c[m])){let y=c[m],b=u[m];b=Ae(b);let N=s.mc(y);if(b instanceof bh)l.push(y);else{let R=Mc(b,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new Wt(l);return new Ch(h,p,s.fieldTransforms)}function BU(t,e,n,r=!1){return Mc(n,t.bc(r?4:3,e))}function Mc(t,e){if(nR(t=Ae(t)))return hE("Unsupported field value:",e,t),tR(t,e);if(t instanceof Tc)return function(r,i){if(!XN(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=Mc(c,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ae(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Je.fromDate(r);return{timestampValue:uh(i.serializer,o)}}if(r instanceof Je){let o=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(i.serializer,o)}}if(r instanceof Cc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dc)return{bytesValue:DN(i.serializer,r._byteString)};if(r instanceof ut){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:X_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bc)return function(s,c){return{mapValue:{fields:{[W_]:{stringValue:K_},[us]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.gc("VectorValues must only contain numeric values.");return J_(c.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Bh(r)}`)}(t,e)}function tR(t,e){let n={};return QS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(t,(r,i)=>{let o=Mc(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function nR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Cc||t instanceof Dc||t instanceof ut||t instanceof Tc||t instanceof bc)}function hE(t,e,n){if(!nR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Bh(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function V_(t,e,n){if((e=Ae(e))instanceof Es)return e._internalPath;if(typeof e=="string")return fE(t,e);throw Ah("Field path arguments must be of type string or ",t,!1,void 0,n)}var UU=new RegExp("[~\\*/\\[\\]]");function fE(t,e,n){if(e.search(UU)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Es(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ah(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(M.INVALID_ARGUMENT,c+t+u)}function rR(t,e){return t.some(n=>n.isEqual(e))}var Sh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new j_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(pE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},j_=class extends Sh{data(){return super.data()}};function pE(t,e){return typeof e=="string"?fE(t,e):e instanceof Es?e._internalPath:e._delegate._internalPath}function iR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ac=class{},B_=class extends Ac{};function oR(t,e,...n){let r=[];e instanceof Ac&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof U_).length,c=o.filter(u=>u instanceof Nh).length;if(s>1||s>0&&c>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Nh=class t extends B_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return aR(e._query,n),new no(e.firestore,e.converter,Sv(e._query,n))}_parse(e){let n=$h(e.firestore);return function(o,s,c,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){PS(p,h);let b=[];for(let N of p)b.push(MS(u,o,N));m={arrayValue:{values:b}}}else m=MS(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||PS(p,h),m=BU(c,s,p,h==="in"||h==="not-in");return je.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function sR(t,e,n){let r=e,i=pE("where",t);return Nh._create(i,r,n)}var U_=class t extends Ac{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)aR(s,u),s=Sv(s,u)}(e._query,n),new no(e.firestore,e.converter,Sv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function MS(t,e,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uN(e)&&n.indexOf("/")!==-1)throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Se.fromString(n));if(!U.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Y0(t,new U(r))}if(n instanceof ut)return Y0(t,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function PS(t,e){if(!Array.isArray(t)||t.length===0)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aR(t,e){let n=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var $_=class{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Te(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Qr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[us].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Te(s.doubleValue));return new bc(o)}convertGeoPoint(e){return new Cc(Te(e.latitude),Te(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=xh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){let n=rr(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Se.fromString(e);de(NN(r),9688,{name:e});let i=new nh(r.get(1),r.get(3)),o=new U(r.popFirst(5));return i.isEqual(n)||nr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function cR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ki=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Rh=class extends Sh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ss(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(pE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ss=class extends Rh{data(e={}){return super.data(e)}},Mh=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ki(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ss(this._firestore,this._userDataWriter,r.key,r,new Ki(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new ss(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ki(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new ss(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ki(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:$U(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function $U(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $(61501,{type:t})}}function uR(t){t=Ft(t,ut);let e=Ft(t.firestore,Pn);return xU(Uh(e),t._key).then(n=>pR(e,t,n))}var Sc=class extends $_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}};function lR(t){t=Ft(t,no);let e=Ft(t.firestore,Pn),n=Uh(e),r=new Sc(e);return iR(t._query),kU(n,t._query).then(i=>new Mh(e,r,t,i))}function dR(t,e,n){t=Ft(t,ut);let r=Ft(t.firestore,Pn),i=cR(t.converter,e,n);return mE(r,[eR($h(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,tr.none())])}function hR(t,e,n,...r){t=Ft(t,ut);let i=Ft(t.firestore,Pn),o=$h(i),s;return s=typeof(e=Ae(e))=="string"||e instanceof Es?jU(o,"updateDoc",t._key,e,n,r):VU(o,"updateDoc",t._key,e),mE(i,[s.toMutation(t._key,tr.exists(!0))])}function fR(t,e){let n=Ft(t.firestore,Pn),r=dE(t),i=cR(t.converter,e);return mE(n,[eR($h(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}function gE(t,...e){var n,r,i;t=Ae(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||RS(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(RS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof ut)l=Ft(t.firestore,Pn),h=kh(t._key.path),u={next:p=>{e[s]&&e[s](pR(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Ft(t,no);l=Ft(p.firestore,Pn),h=p._query;let m=new Sc(l);u={next:y=>{e[s]&&e[s](new Mh(l,m,p,y))},error:e[s+1],complete:e[s+2]},iR(t._query)}return function(m,y,b,N){let R=new wc(N),k=new Ic(y,R,b);return m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return sE(yield wh(m),k)})),()=>{R.xu(),m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return aE(yield wh(m),k)}))}}(Uh(l),h,c,u)}function mE(t,e){return function(r,i){let o=new dn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return wU(yield PU(r),i,o)})),o.promise}(Uh(t),e)}function pR(t,e,n){let r=n.docs.get(e._key),i=new Sc(t);return new Rh(t,i,e._key,r,new Ki(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Is=i})(qr),ln(new yt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Pn(new cv(r.getProvider("auth-internal")),new dv(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Me(B0,U0,e),Me(B0,U0,"esm2017")})();var HU="firebase",qU="11.9.0";Me(HU,qU,"app");function Mte(t,e){let r=!e?.manualCleanup?e?.injector?.get(Rt)??O(Rt):null,i=zU(e?.equal),o;e?.requireSync?o=Mt({kind:0},{equal:i}):o=Mt({kind:1,value:e?.initialValue},{equal:i});let s,c=t.subscribe({next:u=>o.set({kind:1,value:u}),error:u=>{o.set({kind:2,error:u}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new V(601,!1);return s=r?.onDestroy(c.unsubscribe.bind(c)),Kn(()=>{let u=o();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new V(601,!1)}},{equal:e?.equal})}function zU(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}function gR(t){t===void 0&&(t=O(xe));let e=t.get(Si);return n=>new Q(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Yr=new ji("ANGULARFIRE2_VERSION");function Pc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var bs=(t,e)=>{let n=e?[e]:Bd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Cs=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Cs||{}),mR=oy()&&typeof Zone<"u"?Cs.WARN:Cs.SILENT;var Hh=class{zone;delegate;constructor(e,n=Yf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Zr=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=O(ve);this.outsideAngular=n.runOutsideAngular(()=>new Hh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Hh(typeof Zone>"u"?void 0:Zone.current,vr))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yR=!1;function GU(t,e){!yR&&(mR>Cs.SILENT||oy())&&(yR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),mR>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function WU(t){let e=O(ve,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function io(t){let e=O(ve,{optional:!0});return e?e.run(()=>t()):t()}var KU=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Ar(n,()=>io(()=>t.apply(void 0,r)))),Ne=(t,e,n)=>(n||=e?Cs.WARN:Cs.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=O(Zr),s=O(Si),c=O(wt)}catch{return GU(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=io(()=>s.add())),i[l]=KU(i[l],r,c));let u=WU(()=>t.apply(this,i));return e?u instanceof Q?u.pipe(Er(o.outsideAngular),_r(o.insideAngular),gR(c)):u instanceof Promise?io(()=>(s.run(()=>u),new Promise((l,h)=>{u.then(p=>Ar(c,()=>io(()=>l(p))),p=>Ar(c,()=>io(()=>h(p))))}))):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:io(()=>u):u instanceof Q?u.pipe(Er(o.outsideAngular),_r(o.insideAngular)):io(()=>u)});var ar=class{constructor(e){return e}},oo=class{constructor(){return Bd()}};function QU(t){return t&&t.length===1?t[0]:new ar(zi())}var yE=new B("angularfire2._apps"),YU={provide:ar,useFactory:QU,deps:[[new Tt,yE]]},ZU={provide:oo,deps:[[new Tt,yE]]};function JU(t){return(e,n)=>{let r=n.get(om);Me("angularfire",Yr.full,"core"),Me("angularfire",Yr.full,"app"),Me("angular",oA.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ar(i)}}function Yte(t,...e){return Vt([YU,ZU,{provide:yE,useFactory:JU(t),multi:!0,deps:[ve,xe,Zr,...e]}])}var Zte=Ne(Qy,!0);var XU=new Map,e$={activated:!1,tokenObservers:[]},t$={initialized:!1,enabled:!1};function pn(t){return XU.get(t)||Object.assign({},e$)}function IR(){return t$}var n$="https://content-firebaseappcheck.googleapis.com/v1";var r$="exchangeDebugToken",vR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},sne=24*60*60*1e3;var EE=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new $i,this.pending.promise.catch(n=>{}),yield i$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new $i,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function i$(t){return new Promise(e=>{setTimeout(e,t)})}var o$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Jr=new un("appCheck","AppCheck",o$);function wR(t){if(!pn(t).activated)throw Jr.create("use-before-activation",{appName:t.name})}function DR(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(y){throw Jr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw Jr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw Jr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function TR(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${n$}/projects/${n}/apps/${r}:${r$}?key=${i}`,body:{debug_token:e}}}var s$="firebase-app-check-database",a$=1,IE="firebase-app-check-store";var qh=null;function c$(){return qh||(qh=new Promise((t,e)=>{try{let n=indexedDB.open(s$,a$);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Jr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(IE,{keyPath:"compositeKey"})}}}catch(n){e(Jr.create("storage-open",{originalErrorMessage:n?.message}))}}),qh)}function u$(t,e){return l$(d$(t),e)}function l$(t,e){return _(this,null,function*(){let r=(yield c$()).transaction(IE,"readwrite"),o=r.objectStore(IE).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(Jr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function d$(t){return`${t.options.appId}-${t.name}`}var xc=new Cn("@firebase/app-check");function vE(t,e){return rc()?u$(t,e).catch(n=>{xc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function CR(){return IR().enabled}function bR(){return _(this,null,function*(){let t=IR();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var h$={error:"UNKNOWN_ERROR"};function f$(t){return xd.encodeString(JSON.stringify(t),!1)}function wE(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;wR(r);let i=pn(r),o=i.token,s;if(o&&!kc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(kc(l)?o=l:yield vE(r,void 0))}if(!e&&o&&kc(o))return{token:o.token};let c=!1;if(CR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=DR(TR(r,yield bR()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield vE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?xc.warn(l.message):n&&xc.error(l),_E(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield pn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?xc.warn(l.message):n&&xc.error(l),s=l}let u;return o?s?kc(o)?u={token:o.token,internalError:s}:u=_E(s):(u={token:o.token},i.token=o,yield vE(r,o)):u=_E(s),c&&y$(r,u),u})}function p$(t){return _(this,null,function*(){let e=t.app;wR(e);let{provider:n}=pn(e);if(CR()){let r=yield bR(),{token:i}=yield DR(TR(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function g$(t,e,n,r){let{app:i}=t,o=pn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&kc(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),_R(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>_R(t))}function AR(t,e){let n=pn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function _R(t){let{app:e}=t,n=pn(e),r=n.tokenRefresher;r||(r=m$(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function m$(t){let{app:e}=t;return new EE(()=>_(null,null,function*(){let n=pn(e),r;if(n.token?r=yield wE(t,!0):r=yield wE(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=pn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vR.RETRIAL_MIN_WAIT,vR.RETRIAL_MAX_WAIT)}function y$(t,e){let n=pn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function kc(t){return t.expireTimeMillis-Date.now()>0}function _E(t){return{token:f$(h$),error:t}}var DE=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=pn(this.app);for(let n of e)AR(this.app,n.next);return Promise.resolve()}};function v$(t,e){return new DE(t,e)}function _$(t){return{getToken:e=>wE(t,e),getLimitedUseToken:()=>p$(t),addTokenListener:e=>g$(t,"INTERNAL",e),removeTokenListener:e=>AR(t.app,e)}}var E$="@firebase/app-check",I$="0.10.0";var w$="app-check",ER="app-check-internal";function D$(){ln(new yt(w$,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return v$(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ER).initialize()})),ln(new yt(ER,t=>{let e=t.getProvider("app-check").getImmediate();return _$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Me(E$,I$)}D$();var T$="app-check";var As=class{constructor(){return bs(T$)}};var C$=["localhost","0.0.0.0","127.0.0.1"],_ne=typeof window<"u"&&C$.includes(window.location.hostname);function HR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qR=HR,zR=new un("auth","Firebase",HR());var Yh=new Cn("@firebase/auth");function b$(t,...e){Yh.logLevel<=ie.WARN&&Yh.warn(`Auth (${qr}): ${t}`,...e)}function Gh(t,...e){Yh.logLevel<=ie.ERROR&&Yh.error(`Auth (${qr}): ${t}`,...e)}function kn(t,...e){throw KE(t,...e)}function so(t,...e){return KE(t,...e)}function GR(t,e,n){let r=Object.assign(Object.assign({},qR()),{[e]:n});return new un("auth","Firebase",r).create(e,{appName:t.name})}function lr(t){return GR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KE(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zR.create(t,...e)}function j(t,e,...n){if(!t)throw KE(e,...n)}function cr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Gh(e),new Error(e)}function ti(t,e){t||cr(e)}function AE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function A$(){return SR()==="http:"||SR()==="https:"}function SR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function S$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A$()||y0()||"connection"in navigator)?navigator.onLine:!0}function N$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ao=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ti(n>e,"Short delay should be less than long delay!"),this.isMobile=g0()||v0()}get(){return S$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function QE(t,e){ti(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Zh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var R$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var M$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P$=new ao(3e4,6e4);function dr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function hr(o,s,c,u){return _(this,arguments,function*(t,e,n,r,i={}){return WR(t,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ic(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return m0()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Hi(t.emulatorConfig.host)&&(y.credentials="include"),Zh.fetch()(yield KR(t,t.config.apiHost,n,p),y)}))})}function WR(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},R$),e);try{let i=new SE(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw zh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw zh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw zh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw zh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw GR(t,h,l);kn(t,h)}}catch(i){if(i instanceof xt)throw i;kn(t,"network-request-failed",{message:String(i)})}})}function Hc(o,s,c,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield hr(t,e,n,r,i);return"mfaPendingCredential"in l&&kn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function KR(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?QE(t.config,i):`${t.config.apiScheme}://${i}`;return M$.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function x$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var SE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(so(this.auth,"network-request-failed")),P$.get())})}};function zh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=so(t,e,r);return i.customData._tokenResponse=n,i}function NR(t){return t!==void 0&&t.enterprise!==void 0}var NE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return x$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function k$(t,e){return _(this,null,function*(){return hr(t,"GET","/v2/recaptchaConfig",dr(t,e))})}function O$(t,e){return _(this,null,function*(){return hr(t,"POST","/v1/accounts:delete",e)})}function Jh(t,e){return _(this,null,function*(){return hr(t,"POST","/v1/accounts:lookup",e)})}function Fc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function YE(t,e=!1){return _(this,null,function*(){let n=Ae(t),r=yield n.getIdToken(e),i=ZE(r);j(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Fc(TE(i.auth_time)),issuedAtTime:Fc(TE(i.iat)),expirationTime:Fc(TE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function TE(t){return Number(t)*1e3}function ZE(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{let i=kd(n);return i?JSON.parse(i):(Gh("Failed to decode base64 JWT payload"),null)}catch(i){return Gh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function RR(t){let e=ZE(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Vc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof xt&&F$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function F$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var RE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var jc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fc(this.lastLoginAt),this.creationTime=Fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xh(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Vc(t,Jh(n,{idToken:r}));j(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?QR(o.providerUserInfo):[],c=L$(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new jc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function JE(t){return _(this,null,function*(){let e=Ae(t);yield Xh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function L$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function QR(t){return t.map(e=>{var{providerId:n}=e,r=Jf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function V$(t,e){return _(this,null,function*(){let n=yield WR(t,{},()=>_(null,null,function*(){let r=ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield KR(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Zh.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function j$(t,e){return _(this,null,function*(){return hr(t,"POST","/v2/accounts:revokeToken",dr(t,e))})}var Lc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){j(e.length!==0,"internal-error");let n=RR(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(j(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield V$(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(j(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(j(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(j(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return cr("not implemented")}};function Xr(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ei=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Jf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Vc(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return YE(this,e)}reload(){return JE(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Xh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(At(this.auth.app))return Promise.reject(lr(this.auth));let e=yield this.getIdToken();return yield Vc(this,O$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ne,emailVerified:ge,isAnonymous:dt,providerData:he,stsTokenManager:D}=n;j(ne&&D,e,"internal-error");let v=Lc.fromJSON(this.name,D);j(typeof ne=="string",e,"internal-error"),Xr(p,e.name),Xr(m,e.name),j(typeof ge=="boolean",e,"internal-error"),j(typeof dt=="boolean",e,"internal-error"),Xr(y,e.name),Xr(b,e.name),Xr(N,e.name),Xr(R,e.name),Xr(k,e.name),Xr(H,e.name);let I=new t({uid:ne,auth:e,email:m,emailVerified:ge,displayName:p,isAnonymous:dt,photoURL:b,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:k,lastLoginAt:H});return he&&Array.isArray(he)&&(I.providerData=he.map(w=>Object.assign({},w))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Lc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];j(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?QR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Lc;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new jc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var MR=new Map;function ur(t){ti(t instanceof Function,"Expected a class definition");let e=MR.get(t);return e?(ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MR.set(t,e),e)}var B$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ME=B$;function Wh(t,e,n){return`firebase:${t}:${e}:${n}`}var ef=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Wh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Wh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Jh(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(ur(ME),e,r);let i=(yield Promise.all(n.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ur(ME),s=Wh(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Jh(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield ei._fromGetAccountInfoResponse(e,m,h)}else p=ei._fromJSON(e,h);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function PR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tM(e))return"Blackberry";if(nM(e))return"Webos";if(ZR(e))return"Safari";if((e.includes("chrome/")||JR(e))&&!e.includes("edge/"))return"Chrome";if(eM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function YR(t=Ge()){return/firefox\//i.test(t)}function ZR(t=Ge()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JR(t=Ge()){return/crios\//i.test(t)}function XR(t=Ge()){return/iemobile/i.test(t)}function eM(t=Ge()){return/android/i.test(t)}function tM(t=Ge()){return/blackberry/i.test(t)}function nM(t=Ge()){return/webos/i.test(t)}function XE(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function U$(t=Ge()){var e;return XE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $$(){return _0()&&document.documentMode===10}function rM(t=Ge()){return XE(t)||eM(t)||nM(t)||tM(t)||/windows phone/i.test(t)||XR(t)}function iM(t,e=[]){let n;switch(t){case"Browser":n=PR(Ge());break;case"Worker":n=`${PR(Ge())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qr}/${r}`}var PE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function H$(n){return _(this,arguments,function*(t,e={}){return hr(t,"GET","/v2/passwordPolicy",dr(t,e))})}var q$=6,xE=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:q$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var kE=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tf(this),this.idTokenSubscription=new tf(this),this.beforeStateQueue=new PE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield ef.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield Jh(this,{idToken:e}),r=yield ei._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(At(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=N$()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(At(this.app))return Promise.reject(lr(this));let n=e?Ae(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return At(this.app)?Promise.reject(lr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return At(this.app)?Promise.reject(lr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(ur(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield H$(this),n=new xE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new un("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield j$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ur(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=yield ef.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(At(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&b$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function uo(t){return Ae(t)}var tf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=D0(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var uf={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z$(t){uf=t}function oM(t){return uf.loadJS(t)}function G$(){return uf.recaptchaEnterpriseScript}function W$(){return uf.gapiScript}function sM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var OE=class{constructor(){this.enterprise=new FE}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},FE=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var K$="recaptcha-enterprise",aM="NO_RECAPTCHA",LE=class{constructor(e){this.type=K$,this.auth=uo(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,c)=>_(null,null,function*(){k$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new NE(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(o,s,c){let u=window.grecaptcha;NR(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(aM)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(c=>{if(!n&&NR(window.grecaptcha))i(c,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=G$();u.length!==0&&(u+=c),oM(u).then(()=>{i(c,o,s)}).catch(l=>{s(l)})}}).catch(c=>{s(c)})})})}};function Oc(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new LE(t),s;if(i)s=aM;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let u=c.phoneEnrollmentInfo.phoneNumber,l=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:s}):Object.assign(c,{captchaResponse:s}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function VE(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield Oc(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(c=>_(null,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Oc(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(c)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let c=yield Oc(t,e,n);return r(t,c).catch(u=>_(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield Oc(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let c=yield Oc(t,e,n,!1,!0);return r(t,c)}else return Promise.reject(i+" provider is not supported.")})}function eI(t,e){let n=Jo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Tn(o,e??{}))return i;kn(i,"already-initialized")}return n.initialize({options:e})}function Q$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function tI(t,e,n){let r=uo(t);j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=cM(e),{host:s,port:c}=Y$(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){j(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),j(Tn(l,r.config.emulator)&&Tn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Hi(s)?(Fd(`${o}//${s}${u}`),Ld("Auth",!0)):i||Z$()}function cM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y$(t){let e=cM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:xR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:xR(s)}}}function xR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Z$(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Bc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}};function J$(t,e){return _(this,null,function*(){return hr(t,"POST","/v1/accounts:signUp",e)})}function X$(t,e){return _(this,null,function*(){return Hc(t,"POST","/v1/accounts:signInWithPassword",dr(t,e))})}function eH(t,e){return _(this,null,function*(){return hr(t,"POST","/v1/accounts:sendOobCode",dr(t,e))})}function tH(t,e){return _(this,null,function*(){return eH(t,e)})}function nH(t,e){return _(this,null,function*(){return Hc(t,"POST","/v1/accounts:signInWithEmailLink",dr(t,e))})}function rH(t,e){return _(this,null,function*(){return Hc(t,"POST","/v1/accounts:signInWithEmailLink",dr(t,e))})}var Uc=class t extends Bc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VE(e,n,"signInWithPassword",X$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return nH(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return VE(e,r,"signUpPassword",J$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return rH(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function CE(t,e){return _(this,null,function*(){return Hc(t,"POST","/v1/accounts:signInWithIdp",dr(t,e))})}function iH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oH(t){let e=Yo(Zo(t)).link,n=e?Yo(Zo(e)).deep_link_id:null,r=Yo(Zo(t)).deep_link_id;return(r?Yo(Zo(r)).link:null)||r||n||e||t}var nf=class t{constructor(e){var n,r,i,o,s,c;let u=Yo(Zo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=iH((i=u.mode)!==null&&i!==void 0?i:null);j(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=oH(e);try{return new t(n)}catch{return null}}};var uM=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Uc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=nf.parseLink(r);return j(i,"argument-error"),Uc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),rf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var jE=class extends rf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function sH(t,e){return _(this,null,function*(){return Hc(t,"POST","/v1/accounts:signUp",dr(t,e))})}var Ss=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield ei._fromIdTokenResponse(e,r,i),s=kR(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=kR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function kR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var BE=class t extends xt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function lM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?BE._fromErrorAndOperation(t,o,e,r):o})}function aH(t,e,n=!1){return _(this,null,function*(){let r=yield Vc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ss._forOperation(t,"link",r)})}function cH(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(At(r.app))return Promise.reject(lr(r));let i="reauthenticate";try{let o=yield Vc(t,lM(r,i,e,t),n);j(o.idToken,r,"internal-error");let s=ZE(o.idToken);j(s,r,"internal-error");let{sub:c}=s;return j(t.uid===c,r,"user-mismatch"),Ss._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&kn(r,"user-mismatch"),o}})}function dM(t,e,n=!1){return _(this,null,function*(){if(At(t.app))return Promise.reject(lr(t));let r="signIn",i=yield lM(t,r,e),o=yield Ss._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function nI(t,e){return _(this,null,function*(){return dM(uo(t),e)})}function uH(t,e,n){var r;j(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),j(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),j(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(j(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(j(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function hM(t){return _(this,null,function*(){let e=uo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function rI(t,e,n){return _(this,null,function*(){if(At(t.app))return Promise.reject(lr(t));let r=uo(t),s=yield VE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sH,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&hM(t),u}),c=yield Ss._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(c.user),c})}function iI(t,e,n){return At(t.app)?Promise.reject(lr(t)):nI(Ae(t),uM.credential(e,n)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&hM(t),r}))}function oI(t,e){return _(this,null,function*(){let n=Ae(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&uH(n.auth,i,e);let{email:o}=yield tH(n.auth,i);o!==t.email&&(yield t.reload())})}function lf(t,e,n,r){return Ae(t).onIdTokenChanged(e,n,r)}function sI(t,e,n){return Ae(t).beforeAuthStateChanged(e,n)}function df(t,e,n,r){return Ae(t).onAuthStateChanged(e,n,r)}function aI(t){return Ae(t).signOut()}var of="__sak";var sf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(of,"1"),this.storage.removeItem(of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var lH=1e3,dH=10,hH=(()=>{class t extends sf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);$$()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,dH):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},lH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield yr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield yr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield yr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),fM=hH;var fH=(()=>{class t extends sf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),cI=fH;function pH(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var gH=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield pH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function pM(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var UE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=pM("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function xn(){return window}function mH(t){xn().location.href=t}function gM(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}function yH(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function vH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _H(){return gM()?self:null}var mM="firebaseLocalStorageDb",EH=1,af="firebaseLocalStorage",yM="fbase_key",co=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function hf(t,e){return t.transaction([af],e?"readwrite":"readonly").objectStore(af)}function IH(){let t=indexedDB.deleteDatabase(mM);return new co(t).toPromise()}function $E(){let t=indexedDB.open(mM,EH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(af,{keyPath:yM})}catch(i){n(i)}}),t.addEventListener("success",()=>_(null,null,function*(){let r=t.result;r.objectStoreNames.contains(af)?e(r):(r.close(),yield IH(),e(yield $E()))}))})}function OR(t,e,n){return _(this,null,function*(){let r=hf(t,!0).put({[yM]:e,value:n});return new co(r).toPromise()})}function wH(t,e){return _(this,null,function*(){let n=hf(t,!1).get(e),r=yield new co(n).toPromise();return r===void 0?null:r.value})}function FR(t,e){let n=hf(t,!0).delete(e);return new co(n).toPromise()}var DH=800,TH=3,CH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield $E(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>TH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return gM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=gH._getInstance(_H()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield yH(),!this.activeServiceWorker)return;this.sender=new UE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||vH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield $E();return yield OR(n,of,"1"),yield FR(n,of),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>OR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>wH(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>FR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=hf(o,!1).getAll();return new co(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),DH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),vM=CH;var Ane=sM("rcb"),Sne=new ao(3e4,6e4);function bH(t,e){return e?ur(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var $c=class extends Bc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return CE(e,this._buildIdpRequest())}_linkToIdToken(e,n){return CE(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return CE(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function AH(t){return dM(t.auth,new $c(t),t.bypassAuthState)}function SH(t){let{auth:e,user:n}=t;return j(n,e,"internal-error"),cH(n,new $c(t),t.bypassAuthState)}function NH(t){return _(this,null,function*(){let{auth:e,user:n}=t;return j(n,e,"internal-error"),aH(n,new $c(t),t.bypassAuthState)})}var HE=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AH;case"linkViaPopup":case"linkViaRedirect":return NH;case"reauthViaPopup":case"reauthViaRedirect":return SH;default:kn(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Nne=new ao(2e3,1e4);var RH="pendingRedirect",Kh=new Map,qE=class t extends HE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Kh.get(this.auth._key());if(!e){try{let r=(yield MH(this.resolver,this.auth))?yield yr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kh.set(this.auth._key(),e)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return yr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,yr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function MH(t,e){return _(this,null,function*(){let n=kH(e),r=xH(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function PH(t,e){Kh.set(t._key(),e)}function xH(t){return ur(t._redirectPersistence)}function kH(t){return Wh(RH,t.config.apiKey,t.name)}function OH(t,e,n=!1){return _(this,null,function*(){if(At(t.app))return Promise.reject(lr(t));let r=uo(t),i=bH(r,e),s=yield new qE(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var FH=10*60*1e3,zE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_M(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(so(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FH&&this.cachedEventUids.clear(),this.cachedEventUids.has(LR(e))}saveEventToCache(e){this.cachedEventUids.add(LR(e)),this.lastProcessedEventTime=Date.now()}};function LR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _M({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function LH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _M(t);default:return!1}}function VH(n){return _(this,arguments,function*(t,e={}){return hr(t,"GET","/v1/projects",e)})}var jH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BH=/^https?/;function UH(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield VH(t);for(let n of e)try{if($H(n))return}catch{}kn(t,"unauthorized-domain")})}function $H(t){let e=AE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!BH.test(n))return!1;if(jH.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var HH=new ao(3e4,6e4);function VR(){let t=xn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qH(t){return new Promise((e,n)=>{var r,i,o;function s(){VR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VR(),n(so(t,"network-request-failed"))},timeout:HH.get()})}if(!((i=(r=xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=xn().gapi)===null||o===void 0)&&o.load)s();else{let c=sM("iframefcb");return xn()[c]=()=>{gapi.load?s():n(so(t,"network-request-failed"))},oM(`${W$()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Qh=null,e})}var Qh=null;function zH(t){return Qh=Qh||qH(t),Qh}var GH=new ao(5e3,15e3),WH="__/auth/iframe",KH="emulator/auth/iframe",QH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZH(t){let e=t.config;j(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?QE(e,KH):`https://${t.config.authDomain}/${WH}`,r={apiKey:e.apiKey,appName:t.name,v:qr},i=YH.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ic(r).slice(1)}`}function JH(t){return _(this,null,function*(){let e=yield zH(t),n=xn().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:ZH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QH,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=so(t,"network-request-failed"),c=xn().setTimeout(()=>{o(s)},GH.get());function u(){xn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var XH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e4=500,t4=600,n4="_blank",r4="http://localhost",cf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function i4(t,e,n,r=e4,i=t4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},XH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ge().toLowerCase();n&&(c=JR(l)?n4:n),YR(l)&&(e=e||r4,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,b])=>`${m}${y}=${b},`,"");if(U$(l)&&c!=="_self")return o4(e||"",c),new cf(null);let p=window.open(e||"",c,h);j(p,t,"popup-blocked");try{p.focus()}catch{}return new cf(p)}function o4(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var s4="__/auth/handler",a4="emulator/auth/handler",c4=encodeURIComponent("fac");function jR(t,e,n,r,i,o){return _(this,null,function*(){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qr,eventId:i};if(e instanceof rf){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",w0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof jE){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=yield t._getAppCheckToken(),l=u?`#${c4}=${encodeURIComponent(u)}`:"";return`${u4(t)}?${ic(c).slice(1)}${l}`})}function u4({config:t}){return t.emulator?QE(t,a4):`https://${t.authDomain}/${s4}`}var bE="webStorageSupport",GE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cI,this._completeRedirectFn=OH,this._overrideRedirectResult=PH}_openPopup(e,n,r,i){return _(this,null,function*(){var o;ti((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield jR(e,n,r,AE(),i);return i4(e,s,pM())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield jR(e,n,r,AE(),i);return mH(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ti(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield JH(e),r=new zE(e);return n.register("authEvent",i=>(j(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bE,{type:bE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[bE];s!==void 0&&n(!!s),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rM()||ZR()||XE()}},EM=GE;var BR="@firebase/auth",UR="1.10.6";var WE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function l4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d4(t){ln(new yt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;j(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iM(t)},l=new kE(r,i,o,u);return Q$(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ln(new yt("auth-internal",e=>{let n=uo(e.getProvider("auth").getImmediate());return(r=>new WE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(BR,UR,l4(t)),Me(BR,UR,"esm2017")}var h4=5*60,f4=ky("authIdTokenMaxAge")||h4,$R=null,p4=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>f4)return;let i=n?.token;$R!==i&&($R=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function uI(t=zi()){let e=Jo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=eI(t,{popupRedirectResolver:EM,persistence:[vM,fM,cI]}),r=ky("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=p4(o.toString());sI(n,s,()=>s(n.currentUser)),lf(n,c=>s(c))}}let i=Py("auth");return i&&tI(n,`http://${i}`),n}function g4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}z$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=so("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",g4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d4("Browser");function wM(t){return new Q(function(e){var n=df(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var DM="auth",qc=class{constructor(e){return e}},zc=class{constructor(){return bs(DM)}};var lI=new B("angularfire2.auth-instances");function tq(t,e){let n=Pc(DM,t,e);return n&&new qc(n)}function nq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new qc(r)}}var rq={provide:zc,deps:[[new Tt,lI]]},iq={provide:qc,useFactory:tq,deps:[[new Tt,lI],ar]};function Ire(t,...e){return Me("angularfire",Yr.full,"auth"),Vt([iq,rq,{provide:lI,useFactory:nq(t),multi:!0,deps:[ve,xe,Zr,oo,[new Tt,As],...e]}])}var wre=Ne(wM,!0);var Dre=Ne(rI,!0,2);var Tre=Ne(uI,!0);var Cre=Ne(oI,!0,2);var bre=Ne(iI,!0,2);var Are=Ne(aI,!0,2);var ff=function(){return ff=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ff.apply(this,arguments)};var aq={includeMetadataChanges:!1};function dI(t,e){return e===void 0&&(e=aq),new Q(function(n){var r=gE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function TM(t){return dI(t,{includeMetadataChanges:!0})}function CM(t,e){return e===void 0&&(e={}),TM(t).pipe(Et(function(n){return hI(n,e)}))}function hI(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:ff(ff({},r),(n={},n[e.idField]=t.id,n))}function bM(t){return dI(t,{includeMetadataChanges:!0}).pipe(Et(function(e){return e.docs}))}function AM(t,e){return e===void 0&&(e={}),bM(t).pipe(Et(function(n){return n.map(function(r){return hI(r,e)})}))}var Gc=class{constructor(e){return e}},SM="firestore",fI=class{constructor(){return bs(SM)}};var pI=new B("angularfire2.firestore-instances");function cq(t,e){let n=Pc(SM,t,e);return n&&new Gc(n)}function uq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Gc(r)}}var lq={provide:fI,deps:[[new Tt,pI]]},dq={provide:Gc,useFactory:cq,deps:[[new Tt,pI],ar]};function Vie(t,...e){return Me("angularfire",Yr.full,"fst"),Vt([dq,lq,{provide:pI,useFactory:uq(t),multi:!0,deps:[ve,xe,Zr,oo,[new Tt,zc],[new Tt,As],...e]}])}var jie=Ne(AM,!0);var Bie=Ne(CM,!0);var Uie=Ne(fR,!0,2);var $ie=Ne(ZN,!0,2);var Hie=Ne(dE,!0,2);var qie=Ne(uR,!0);var zie=Ne(lR,!0);var Gie=Ne(JN,!0);var Wie=Ne(oR,!0,2);var Kie=Ne(dR,!0,2);var Qie=Ne(hR,!0,2);var Yie=Ne(sR,!0,2);export{ke as a,Iw as b,Q as c,Wf as d,Kf as e,rt as f,Qs as g,ui as h,_t as i,Fw as j,wP as k,DP as l,Vn as m,hP as n,Et as o,MP as p,di as q,Xs as r,xu as s,xP as t,Xf as u,kP as v,Ir as w,OP as x,Hw as y,FP as z,LP as A,ea as B,ep as C,zw as D,BP as E,UP as F,tp as G,$P as H,Gw as I,Ww as J,rp as K,HP as L,qP as M,Kw as N,Qw as O,zP as P,GP as Q,WP as R,V as S,mn as T,Zt as U,ae as V,Hn as W,rx as X,B as Y,Ce as Z,O as _,Vt as $,yD as aa,Vp as ba,wt as ca,Ar as da,xD as ea,kD as fa,GD as ga,WD as ha,xe as ia,kr as ja,Rt as ka,$n as la,$t as ma,Nx as na,og as oa,Mt as pa,Ai as qa,Tt as ra,Oi as sa,zl as ta,rm as ua,sn as va,Pl as wa,ck as xa,uk as ya,eC as za,om as Aa,dk as Ba,hk as Ca,Lo as Da,$o as Ea,am as Fa,Ek as Ga,Ik as Ha,wk as Ia,Dk as Ja,Tk as Ka,cm as La,Bk as Ma,Wl as Na,dC as Oa,Hk as Pa,gO as Qa,Sa as Ra,Fr as Sa,Ra as Ta,Fi as Ua,X as Va,f1 as Wa,Vr as Xa,jr as Ya,xi as Za,sb as _a,ab as $a,Y1 as ab,Br as bb,ze as cb,La as db,qt as eb,cF as fb,db as gb,Ho as hb,st as ib,ve as jb,gb as kb,wF as lb,mb,yb as nb,DF as ob,vb as pb,Li as qb,TF as rb,Eb as sb,qo as tb,Bm as ub,bF as vb,AF as wb,Db as xb,$m as yb,Hm as zb,Tb as Ab,qm as Bb,zm as Cb,Cb as Db,PF as Eb,bb as Fb,Vi as Gb,LF as Hb,jF as Ib,BF as Jb,$F as Kb,HF as Lb,qF as Mb,zF as Nb,GF as Ob,WF as Pb,KF as Qb,QF as Rb,Mb as Sb,ja as Tb,sL as Ub,yL as Vb,Vb as Wb,Wm as Xb,jb as Yb,Bb as Zb,Ub as _b,IL as $b,$b as ac,wL as bc,Ur as cc,AL as dc,RL as ec,PL as fc,xL as gc,kL as hc,OL as ic,LL as jc,Ba as kc,Ct as lc,Kn as mc,Kb as nc,Yb as oc,NJ as pc,RJ as qc,MJ as rc,$a as sc,PJ as tc,xJ as uc,ay as vc,pV as wc,kJ as xc,OJ as yc,FJ as zc,Bi as Ac,mV as Bc,cy as Cc,yV as Dc,zo as Ec,dA as Fc,hA as Gc,IV as Hc,kV as Ic,SA as Jc,OV as Kc,FV as Lc,jV as Mc,UV as Nc,HV as Oc,qV as Pc,zV as Qc,my as Rc,YX as Sc,GV as Tc,ZX as Uc,JX as Vc,XX as Wc,Sd as Xc,$A as Yc,MA as Zc,Ui as _c,wee as $c,Dee as ad,_2 as bd,w2 as cd,Cee as dd,T2 as ed,b2 as fd,S2 as gd,bee as hd,Aee as id,See as jd,f0 as kd,Hi as ld,Fd as md,p0 as nd,Ld as od,xt as pd,Ae as qd,yt as rd,ln as sd,Jo as td,At as ud,qr as vd,Qy as wd,zi as xd,Me as yd,Mte as zd,Yr as Ad,Pc as Bd,bs as Cd,Zr as Dd,Ne as Ed,ar as Fd,oo as Gd,Yte as Hd,Zte as Id,As as Jd,uI as Kd,qc as Ld,zc as Md,Ire as Nd,wre as Od,Dre as Pd,Tre as Qd,Cre as Rd,bre as Sd,Are as Td,ZN as Ud,dE as Vd,JN as Wd,hR as Xd,Gc as Yd,Vie as Zd,jie as _d,Bie as $d,Uie as ae,$ie as be,Hie as ce,qie as de,zie as ee,Gie as fe,Wie as ge,Kie as he,Qie as ie,Yie as je};
