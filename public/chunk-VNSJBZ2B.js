import{a as oe,b as ce,g as yr,h as _}from"./chunk-FJYW2LMB.js";function mo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Bn=mo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function J(t){return typeof t=="function"}var lu=mo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ci(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){e=o instanceof lu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{vw(o)}catch(s){e=e??[],s instanceof lu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new lu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)vw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ci(n,e)}remove(e){let{_finalizers:n}=this;n&&ci(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var Uf=ke.EMPTY;function du(t){return t instanceof ke||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function vw(t){J(t)?t():t.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yo={setTimeout(t,e,...n){let{delegate:r}=yo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=yo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hu(t){yo.setTimeout(()=>{let{onUnhandledError:e}=Qt;if(e)e(t);else throw t})}function Ks(){}var _w=$f("C",void 0,void 0);function Ew(t){return $f("E",void 0,t)}function Iw(t){return $f("N",t,void 0)}function $f(t,e,n){return{kind:t,value:e,error:n}}var ui=null;function vo(t){if(Qt.useDeprecatedSynchronousErrorHandling){let e=!ui;if(e&&(ui={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ui;if(ui=null,n)throw r}}else t()}function ww(t){Qt.useDeprecatedSynchronousErrorHandling&&ui&&(ui.errorThrown=!0,ui.error=t)}var li=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,du(e)&&e.add(this)):this.destination=pP}static create(e,n,r){return new Yt(e,n,r)}next(e){this.isStopped?qf(Iw(e),this):this._next(e)}error(e){this.isStopped?qf(Ew(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qf(_w,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hP=Function.prototype.bind;function Hf(t,e){return hP.call(t,e)}var zf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fu(r)}else fu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fu(n)}}},Yt=class extends li{constructor(e,n,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Qt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Hf(e.next,o),error:e.error&&Hf(e.error,o),complete:e.complete&&Hf(e.complete,o)}):i=e}this.destination=new zf(i)}};function fu(t){Qt.useDeprecatedSynchronousErrorHandling?ww(t):hu(t)}function fP(t){throw t}function qf(t,e){let{onStoppedNotification:n}=Qt;n&&yo.setTimeout(()=>n(t,e))}var pP={closed:!0,next:Ks,error:fP,complete:Ks};function gP(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new Yt({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Bn)}});t.subscribe(o)})}var _o=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pt(t){return t}function Dw(...t){return Gf(t)}function Gf(t){return t.length===0?pt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Q=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=yP(n)?n:new Yt(n,r,i);return vo(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Tw(r),new r((i,o)=>{let s=new Yt({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[_o](){return this}pipe(...n){return Gf(n)(this)}toPromise(n){return n=Tw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Tw(t){var e;return(e=t??Qt.Promise)!==null&&e!==void 0?e:Promise}function mP(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function yP(t){return t&&t instanceof li||mP(t)&&du(t)}function Wf(t){return J(t?.lift)}function W(t){return e=>{if(Wf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(t,e,n,r,i){return new Kf(t,e,n,r,i)}var Kf=class extends li{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Qf(){return W((t,e)=>{let n=null;t._refCount++;let r=z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Yf=class extends Q{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Wf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let n=this.getSubject();e.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Qf()(this)}};var Cw=mo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new pu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Cw}next(n){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Uf:(this.currentObservers=null,o.push(n),new ke(()=>{this.currentObservers=null,ci(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Q;return n.source=this,n}}return t.create=(e,n)=>new pu(e,n),t})(),pu=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Uf}};var Qs=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ys={now(){return(Ys.delegate||Date).now()},delegate:void 0};var Zs=class extends rt{constructor(e=1/0,n=1/0,r=Ys){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),c=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)c=u;c&&r.splice(0,c+1)}}};var gu=class extends ke{constructor(e,n){super()}schedule(e,n=0){return this}};var Js={setInterval(t,e,...n){let{delegate:r}=Js;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Js;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Eo=class extends gu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Js.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Js.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ci(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Io=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Io.now=Ys.now;var wo=class extends Io{constructor(e,n=Io.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var vr=new wo(Eo),Zf=vr;var mu=class extends Eo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var yu=class extends wo{};var Jf=new yu(mu);var di=new Q(t=>t.complete());function vu(t){return t&&J(t.schedule)}function Xf(t){return t[t.length-1]}function _u(t){return J(Xf(t))?t.pop():void 0}function gn(t){return vu(Xf(t))?t.pop():void 0}function bw(t,e){return typeof Xf(t)=="number"?t.pop():e}function ep(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Sw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function Aw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hi(t){return this instanceof hi?(this.v=t,this):new hi(t)}function Nw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function c(y,b){r[y]&&(i[y]=function(N){return new Promise(function(R,k){o.push([y,N,R,k])>1||u(y,N)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(N){m(o[0][3],N)}}function l(y){y.value instanceof hi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Rw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Aw=="function"?Aw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Eu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Iu(t){return J(t?.then)}function wu(t){return J(t[_o])}function Du(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function Tu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function vP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Cu=vP();function bu(t){return J(t?.[Cu])}function Au(t){return Nw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield hi(n.read());if(i)return yield hi(void 0);yield yield hi(r)}}finally{n.releaseLock()}})}function Su(t){return J(t?.getReader)}function ye(t){if(t instanceof Q)return t;if(t!=null){if(wu(t))return _P(t);if(Eu(t))return EP(t);if(Iu(t))return IP(t);if(Du(t))return Mw(t);if(bu(t))return wP(t);if(Su(t))return DP(t)}throw Tu(t)}function _P(t){return new Q(e=>{let n=t[_o]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function EP(t){return new Q(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function IP(t){return new Q(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hu)})}function wP(t){return new Q(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Mw(t){return new Q(e=>{TP(t,e).catch(n=>e.error(n))})}function DP(t){return Mw(Au(t))}function TP(t,e){var n,r,i,o;return Sw(this,void 0,void 0,function*(){try{for(n=Rw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function _r(t,e=0){return W((n,r)=>{n.subscribe(z(r,i=>vt(r,t,()=>r.next(i),e),()=>vt(r,t,()=>r.complete(),e),i=>vt(r,t,()=>r.error(i),e)))})}function Er(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Pw(t,e){return ye(t).pipe(Er(e),_r(e))}function xw(t,e){return ye(t).pipe(Er(e),_r(e))}function kw(t,e){return new Q(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ow(t,e){return new Q(n=>{let r;return vt(n,e,()=>{r=t[Cu](),vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function Nu(t,e){if(!t)throw new Error("Iterable cannot be null");return new Q(n=>{vt(n,e,()=>{let r=t[Symbol.asyncIterator]();vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Fw(t,e){return Nu(Au(t),e)}function Lw(t,e){if(t!=null){if(wu(t))return Pw(t,e);if(Eu(t))return kw(t,e);if(Iu(t))return xw(t,e);if(Du(t))return Nu(t,e);if(bu(t))return Ow(t,e);if(Su(t))return Fw(t,e)}throw Tu(t)}function _t(t,e){return e?Lw(t,e):ye(t)}function Vw(...t){let e=gn(t);return _t(t,e)}function CP(t,e){let n=J(t)?t:()=>t,r=i=>i.error(n());return new Q(e?i=>e.schedule(r,0,i):r)}function bP(t){return!!t&&(t instanceof Q||J(t.lift)&&J(t.subscribe))}function jw(t){return t instanceof Date&&!isNaN(t)}function Et(t,e){return W((n,r)=>{let i=0;n.subscribe(z(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:AP}=Array;function SP(t,e){return AP(e)?t(...e):t(e)}function Ru(t){return Et(e=>SP(t,e))}var{isArray:NP}=Array,{getPrototypeOf:RP,prototype:MP,keys:PP}=Object;function Mu(t){if(t.length===1){let e=t[0];if(NP(e))return{args:e,keys:null};if(xP(e)){let n=PP(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function xP(t){return t&&typeof t=="object"&&RP(t)===MP}function Pu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function kP(...t){let e=gn(t),n=_u(t),{args:r,keys:i}=Mu(t);if(r.length===0)return _t([],e);let o=new Q(OP(r,e,i?s=>Pu(i,s):pt));return n?o.pipe(Ru(n)):o}function OP(t,e,n=pt){return r=>{Bw(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)Bw(e,()=>{let l=_t(t[u],e),h=!1;l.subscribe(z(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Bw(t,e,n){t?vt(n,t,e):e()}function Uw(t,e,n,r,i,o,s,c){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?b(N):u.push(N),b=N=>{o&&e.next(N),l++;let R=!1;ye(n(N,h++)).subscribe(z(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();s?vt(e,s,()=>b(k)):b(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(z(e,y,()=>{p=!0,m()})),()=>{c?.()}}function fi(t,e,n=1/0){return J(e)?fi((r,i)=>Et((o,s)=>e(r,o,i,s))(ye(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>Uw(r,i,t,n)))}function Xs(t=1/0){return fi(pt,t)}function $w(){return Xs(1)}function xu(...t){return $w()(_t(t,gn(t)))}function FP(t){return new Q(e=>{ye(t()).subscribe(e)})}function tp(...t){let e=_u(t),{args:n,keys:r}=Mu(t),i=new Q(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ye(n[h]).subscribe(z(o,m=>{p||(p=!0,l--),c[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Pu(r,c):c),o.complete())}))}});return e?i.pipe(Ru(e)):i}function Hw(t=0,e,n=Zf){let r=-1;return e!=null&&(vu(e)?n=e:r=e),new Q(i=>{let o=jw(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function LP(...t){let e=gn(t),n=bw(t,1/0),r=t;return r.length?r.length===1?ye(r[0]):Xs(n)(_t(r,e)):di}function Ir(t,e){return W((n,r)=>{let i=0;n.subscribe(z(r,o=>t.call(e,o,i++)&&r.next(o)))})}function qw(t){return W((e,n)=>{let r=!1,i=null,o=null,s=!1,c=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},u=()=>{o=null,s&&n.complete()};e.subscribe(z(n,l=>{r=!0,i=l,o||ye(t(l)).subscribe(o=z(n,c,u))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function VP(t,e=vr){return qw(()=>Hw(t,e))}function zw(t){return W((e,n)=>{let r=null,i=!1,o;r=e.subscribe(z(n,void 0,void 0,s=>{o=ye(t(s,zw(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Gw(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(z(s,h=>{let p=l++;u=c?t(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function jP(t,e){return J(e)?fi(t,e,1):fi(t,1)}function BP(t,e=vr){return W((n,r)=>{let i=null,o=null,s=null,c=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}c()}n.subscribe(z(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function ea(t){return W((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function np(t){return t<=0?()=>di:W((e,n)=>{let r=0;e.subscribe(z(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ww(t,e=pt){return t=t??UP,W((n,r)=>{let i,o=!0;n.subscribe(z(r,s=>{let c=e(s);(o||!t(i,c))&&(o=!1,i=c,r.next(s))}))})}function UP(t,e){return t===e}function ku(t=$P){return W((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function $P(){return new Bn}function HP(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function qP(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ir((i,o)=>t(i,o,r)):pt,np(1),n?ea(e):ku(()=>new Bn))}function rp(t){return t<=0?()=>di:W((e,n)=>{let r=[];e.subscribe(z(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zP(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ir((i,o)=>t(i,o,r)):pt,rp(1),n?ea(e):ku(()=>new Bn))}function Kw(){return W((t,e)=>{let n,r=!1;t.subscribe(z(e,i=>{let o=n;n=i,r&&e.next([o,i]),r=!0}))})}function Qw(t,e){return W(Gw(t,e,arguments.length>=2,!0))}function op(t={}){let{connector:e=()=>new rt,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,c,u,l=0,h=!1,p=!1,m=()=>{c?.unsubscribe(),c=void 0},y=()=>{m(),s=u=void 0,h=p=!1},b=()=>{let N=s;y(),N?.unsubscribe()};return W((N,R)=>{l++,!p&&!h&&m();let k=u=u??e();R.add(()=>{l--,l===0&&!p&&!h&&(c=ip(b,i))}),k.subscribe(R),!s&&l>0&&(s=new Yt({next:H=>k.next(H),error:H=>{p=!0,m(),c=ip(y,n,H),k.error(H)},complete:()=>{h=!0,m(),c=ip(y,r),k.complete()}}),ye(N).subscribe(s))})(o)}}function ip(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Yt({next:()=>{r.unsubscribe(),t()}});return ye(e(...n)).subscribe(r)}function GP(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,op({connector:()=>new Zs(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function WP(t){return Ir((e,n)=>t<=n)}function Yw(...t){let e=gn(t);return W((n,r)=>{(e?xu(t,n,e):xu(t,n)).subscribe(r)})}function Zw(t,e){return W((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(z(r,u=>{i?.unsubscribe();let l=0,h=o++;ye(t(u,h)).subscribe(i=z(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function KP(t){return W((e,n)=>{ye(t).subscribe(z(n,()=>n.complete(),Ks)),!n.closed&&e.subscribe(n)})}function QP(t,e=!1){return W((n,r)=>{let i=0;n.subscribe(z(r,o=>{let s=t(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}function YP(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(z(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):pt}var sp;function ap(){return sp}function Un(t){let e=sp;return sp=t,e}var ZP=Symbol("NotFound"),Ou=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function Do(t){return t===ZP||t?.name==="\u0275NotFound"}function Bu(t,e){return Object.is(t,e)}var Be=null,Fu=!1,cp=1,JP=null,Ue=Symbol("SIGNAL");function K(t){let e=Be;return Be=t,e}function Uu(){return Be}var wr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pi(t){if(Fu)throw new Error("");if(Be===null)return;Be.consumerOnSignalRead(t);let e=Be.nextProducerIndex++;if(qu(Be),e<Be.producerNode.length&&Be.producerNode[e]!==t&&na(Be)){let n=Be.producerNode[e];Hu(n,Be.producerIndexOfThis[e])}Be.producerNode[e]!==t&&(Be.producerNode[e]=t,Be.producerIndexOfThis[e]=na(Be)?Xw(t,Be,e):0),Be.producerLastReadVersion[e]=t.version}function Jw(){cp++}function $u(t){if(!(na(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===cp)){if(!t.producerMustRecompute(t)&&!gi(t)){ju(t);return}t.producerRecomputeValue(t),ju(t)}}function up(t){if(t.liveConsumerNode===void 0)return;let e=Fu;Fu=!0;try{for(let n of t.liveConsumerNode)n.dirty||XP(n)}finally{Fu=e}}function lp(){return Be?.consumerAllowSignalWrites!==!1}function XP(t){t.dirty=!0,up(t),t.consumerMarkedDirty?.(t)}function ju(t){t.dirty=!1,t.lastCleanEpoch=cp}function $n(t){return t&&(t.nextProducerIndex=0),K(t)}function Dr(t,e){if(K(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(na(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Hu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function gi(t){qu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||($u(n),r!==n.version))return!0}return!1}function To(t){if(qu(t),na(t))for(let e=0;e<t.producerNode.length;e++)Hu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Xw(t,e,n){if(eD(t),t.liveConsumerNode.length===0&&tD(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Xw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Hu(t,e){if(eD(t),t.liveConsumerNode.length===1&&tD(t))for(let r=0;r<t.producerNode.length;r++)Hu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];qu(i),i.producerIndexOfThis[r]=e}}function na(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function qu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function eD(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function tD(t){return t.producerNode!==void 0}function zu(t){JP?.(t)}function ra(t,e){let n=Object.create(ex);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if($u(n),pi(n),n.value===ta)throw n.error;return n.value};return r[Ue]=n,zu(n),r}var Lu=Symbol("UNSET"),Vu=Symbol("COMPUTING"),ta=Symbol("ERRORED"),ex=ce(oe({},wr),{value:Lu,dirty:!0,error:null,equal:Bu,kind:"computed",producerMustRecompute(t){return t.value===Lu||t.value===Vu},producerRecomputeValue(t){if(t.value===Vu)throw new Error("");let e=t.value;t.value=Vu;let n=$n(t),r,i=!1;try{r=t.computation(),K(null),i=e!==Lu&&e!==ta&&r!==ta&&t.equal(e,r)}catch(o){r=ta,t.error=o}finally{Dr(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function tx(){throw new Error}var nD=tx;function rD(t){nD(t)}function dp(t){nD=t}var nx=null;function hp(t,e){let n=Object.create(ia);n.value=t,e!==void 0&&(n.equal=e);let r=()=>iD(n);return r[Ue]=n,zu(n),[r,s=>Co(n,s),s=>fp(n,s)]}function iD(t){return pi(t),t.value}function Co(t,e){lp()||rD(t),t.equal(t.value,e)||(t.value=e,rx(t))}function fp(t,e){lp()||rD(t),Co(t,e(t.value))}var ia=ce(oe({},wr),{equal:Bu,value:void 0,kind:"signal"});function rx(t){t.version++,Jw(),up(t),nx?.(t)}function oD(t){let e=K(null);try{return t()}finally{K(e)}}var Yu="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,n){super(Ao(e,n)),this.code=e}};function ix(t){return`NG0${Math.abs(t)}`}function Ao(t,e){return`${ix(t)}${e?": "+e:""}`}var mn=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("")}function uD(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function It(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(It).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Zu(t,e){return t?e?`${t} ${e}`:t:e||""}var ox=Te({__forward_ref__:Te});function Zt(t){return t.__forward_ref__=Zt,t.toString=function(){return It(this())},t}function $e(t){return Cp(t)?t():t}function Cp(t){return typeof t=="function"&&t.hasOwnProperty(ox)&&t.__forward_ref__===Zt}function lD(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function ae(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ua(t){return ax(t,Ju)}function sx(t){return ua(t)!==null}function ax(t,e){return t.hasOwnProperty(e)&&t[e]||null}function cx(t){let e=t?.[Ju]??null;return e||null}function gp(t){return t&&t.hasOwnProperty(Wu)?t[Wu]:null}var Ju=Te({\u0275prov:Te}),Wu=Te({\u0275inj:Te}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=ae({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function bp(t){return t&&!!t.\u0275providers}var Ap=Te({\u0275cmp:Te}),Sp=Te({\u0275dir:Te}),Np=Te({\u0275pipe:Te}),Rp=Te({\u0275mod:Te}),sa=Te({\u0275fac:Te}),Ei=Te({__NG_ELEMENT_ID__:Te}),sD=Te({__NG_ENV_ID__:Te});function yn(t){return typeof t=="string"?t:t==null?"":String(t)}function dD(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():yn(t)}function Mp(t,e){throw new V(-200,t)}function Xu(t,e){throw new V(-201,!1)}var mp;function hD(){return mp}function gt(t){let e=mp;return mp=t,e}function Pp(t,e,n){let r=ua(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;Xu(t,"Injector")}var ux={},mi=ux,yp="__NG_DI_FLAG__",vp=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=yi(n)||0;try{return this.injector.get(e,r&8?null:mi,r)}catch(i){if(Do(i))return i;throw i}}},Ku="ngTempTokenPath",lx="ngTokenPath",dx=/\n/gm,hx="\u0275",aD="__source";function fx(t,e=0){let n=ap();if(n===void 0)throw new V(-203,!1);if(n===null)return Pp(t,void 0,e);{let r=px(e),i=n.retrieve(t,r);if(Do(i)){if(r.optional)return null;throw i}return i}}function Ae(t,e=0){return(hD()||fx)($e(t),e)}function O(t,e){return Ae(t,yi(e))}function yi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function px(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function _p(t){let e=[];for(let n=0;n<t.length;n++){let r=$e(t[n]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=gx(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(Ae(i,o))}else e.push(Ae(r))}return e}function xp(t,e){return t[yp]=e,t.prototype[yp]=e,t}function gx(t){return t[yp]}function mx(t,e,n,r){let i=t[Ku];throw e[aD]&&i.unshift(e[aD]),t.message=yx(`
`+t.message,i,n,r),t[lx]=i,t[Ku]=null,t}function yx(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==hx?t.slice(2):t;let i=It(e);if(Array.isArray(e))i=e.map(It).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):It(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(dx,`
  `)}`}function Tr(t,e){let n=t.hasOwnProperty(sa);return n?t[sa]:null}function fD(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function pD(t){return t.flat(Number.POSITIVE_INFINITY)}function el(t,e){t.forEach(n=>Array.isArray(n)?el(n,e):e(n))}function kp(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function la(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gD(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function mD(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function tl(t,e,n){let r=So(t,e);return r>=0?t[r|1]=n:(r=~r,mD(t,r,e,n)),r}function nl(t,e){let n=So(t,e);if(n>=0)return t[n|1]}function So(t,e){return vx(t,e,1)}function vx(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Jt={},it=[],br=new B(""),Op=new B("",-1),Fp=new B(""),aa=class{get(e,n=mi){if(n===mi)throw new Ou(`NullInjectorError: No provider for ${It(e)}!`);return n}};function Lp(t){return t[Rp]||null}function vn(t){return t[Ap]||null}function rl(t){return t[Sp]||null}function yD(t){return t[Np]||null}function Vt(t){return{\u0275providers:t}}function vD(t){return Vt([{provide:br,multi:!0,useValue:t}])}function _D(...t){return{\u0275providers:Vp(!0,t),\u0275fromNgModule:!0}}function Vp(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return el(e,s=>{let c=s;Qu(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&ED(i,o),n}function ED(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];jp(i,o=>{e(o,r)})}}function Qu(t,e,n,r){if(t=$e(t),!t)return!1;let i=null,o=gp(t),s=!o&&vn(t);if(!o&&!s){let u=t.ngModule;if(o=gp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Qu(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{el(o.imports,h=>{Qu(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&ED(l,e)}if(!c){let l=Tr(i)||(()=>new i);e({provide:i,useFactory:l,deps:it},i),e({provide:Fp,useValue:i,multi:!0},i),e({provide:br,useValue:()=>Ae(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;jp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function jp(t,e){for(let n of t)bp(n)&&(n=n.\u0275providers),Array.isArray(n)?jp(n,e):e(n)}var _x=Te({provide:String,useValue:Te});function ID(t){return t!==null&&typeof t=="object"&&_x in t}function Ex(t){return!!(t&&t.useExisting)}function Ix(t){return!!(t&&t.useFactory)}function vi(t){return typeof t=="function"}function wD(t){return!!t.useClass}var Bp=new B(""),Gu={},cD={},pp;function No(){return pp===void 0&&(pp=new aa),pp}var wt=class{},_i=class extends wt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Ip(e,s=>this.processProvider(s)),this.records.set(Op,bo(void 0,this)),i.has("environment")&&this.records.set(wt,bo(void 0,this));let o=this.records.get(Bp);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Fp,it,{self:!0}))}retrieve(e,n){let r=yi(n)||0;try{return this.get(e,mi,r)}catch(i){if(Do(i))return i;throw i}}destroy(){oa(this),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return oa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){oa(this);let n=Un(this),r=gt(void 0),i;try{return e()}finally{Un(n),gt(r)}}get(e,n=mi,r){if(oa(this),e.hasOwnProperty(sD))return e[sD](this);let i=yi(r),o,s=Un(this),c=gt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=bx(e)&&ua(e);h&&this.injectableDefInScope(h)?l=bo(Ep(e),Gu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let u=i&2?No():this.parent;return n=i&8&&n===mi?null:n,u.get(e,n)}catch(u){if(Do(u)){if((u[Ku]=u[Ku]||[]).unshift(It(e)),s)throw u;return mx(u,e,"R3InjectorError",this.source)}else throw u}finally{gt(c),Un(s)}}resolveInjectorInitializers(){let e=K(null),n=Un(this),r=gt(void 0),i;try{let o=this.get(br,it,{self:!0});for(let s of o)s()}finally{Un(n),gt(r),K(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(It(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=$e(e);let n=vi(e)?e:$e(e&&e.provide),r=Dx(e);if(!vi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=bo(void 0,Gu,!0),i.factory=()=>_p(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=K(null);try{return n.value===cD?Mp(It(e)):n.value===Gu&&(n.value=cD,n.value=n.factory()),typeof n.value=="object"&&n.value&&Cx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$e(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ep(t){let e=ua(t),n=e!==null?e.factory:Tr(t);if(n!==null)return n;if(t instanceof B)throw new V(204,!1);if(t instanceof Function)return wx(t);throw new V(204,!1)}function wx(t){if(t.length>0)throw new V(204,!1);let n=cx(t);return n!==null?()=>n.factory(t):()=>new t}function Dx(t){if(ID(t))return bo(void 0,t.useValue);{let e=Up(t);return bo(e,Gu)}}function Up(t,e,n){let r;if(vi(t)){let i=$e(t);return Tr(i)||Ep(i)}else if(ID(t))r=()=>$e(t.useValue);else if(Ix(t))r=()=>t.useFactory(..._p(t.deps||[]));else if(Ex(t))r=()=>Ae($e(t.useExisting));else{let i=$e(t&&(t.useClass||t.provide));if(Tx(t))r=()=>new i(..._p(t.deps));else return Tr(i)||Ep(i)}return r}function oa(t){if(t.destroyed)throw new V(205,!1)}function bo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Tx(t){return!!t.deps}function Cx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function bx(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Ip(t,e){for(let n of t)Array.isArray(n)?Ip(n,e):n&&bp(n)?Ip(n.\u0275providers,e):e(n)}function Ar(t,e){let n;t instanceof _i?(oa(t),n=t):n=new vp(t);let r,i=Un(n),o=gt(void 0);try{return e()}finally{Un(i),gt(o)}}function il(){return hD()!==void 0||ap()!=null}function $p(t){if(!il())throw new V(-203,!1)}var Xt=0,Y=1,q=2,He=3,jt=4,mt=5,Ro=6,Mo=7,Ye=8,Ii=9,_n=10,Ie=11,Po=12,Hp=13,wi=14,Dt=15,Sr=16,Di=17,En=18,da=19,qp=20,Hn=21,ol=22,Gn=23,Nt=24,Ti=25,Oe=26,DD=1;var Nr=7,ha=8,Ci=9,ot=10;function In(t){return Array.isArray(t)&&typeof t[DD]=="object"}function en(t){return Array.isArray(t)&&t[DD]===!0}function sl(t){return(t.flags&4)!==0}function Rr(t){return t.componentOffset>-1}function fa(t){return(t.flags&1)===1}function tn(t){return!!t.template}function xo(t){return(t[q]&512)!==0}function bi(t){return(t[q]&256)===256}var zp="svg",TD="math";function Bt(t){for(;Array.isArray(t);)t=t[Xt];return t}function Gp(t,e){return Bt(e[t])}function nn(t,e){return Bt(e[t.index])}function pa(t,e){return t.data[e]}function al(t,e){return t[e]}function Wp(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Ut(t,e){let n=e[t];return In(n)?n:n[Xt]}function CD(t){return(t[q]&4)===4}function cl(t){return(t[q]&128)===128}function bD(t){return en(t[He])}function Wn(t,e){return e==null?null:t[e]}function Kp(t){t[Di]=0}function Qp(t){t[q]&1024||(t[q]|=1024,cl(t)&&Mr(t))}function AD(t,e){for(;t>0;)e=e[wi],t--;return e}function ga(t){return!!(t[q]&9216||t[Nt]?.dirty)}function ul(t){t[_n].changeDetectionScheduler?.notify(8),t[q]&64&&(t[q]|=1024),ga(t)&&Mr(t)}function Mr(t){t[_n].changeDetectionScheduler?.notify(0);let e=Cr(t);for(;e!==null&&!(e[q]&8192||(e[q]|=8192,!cl(e)));)e=Cr(e)}function Yp(t,e){if(bi(t))throw new V(911,!1);t[Hn]===null&&(t[Hn]=[]),t[Hn].push(e)}function SD(t,e){if(t[Hn]===null)return;let n=t[Hn].indexOf(e);n!==-1&&t[Hn].splice(n,1)}function Cr(t){let e=t[He];return en(e)?e[He]:e}function Zp(t){return t[Mo]??=[]}function Jp(t){return t.cleanup??=[]}function ND(t,e,n,r){let i=Zp(e);i.push(n),t.firstCreatePass&&Jp(t).push(r,i.length-1)}var te={lFrame:zD(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ma=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(ma||{}),Ax=0,wp=!1;function RD(){return te.lFrame.elementDepthCount}function MD(){te.lFrame.elementDepthCount++}function PD(){te.lFrame.elementDepthCount--}function ll(){return te.bindingsEnabled}function Xp(){return te.skipHydrationRootTNode!==null}function xD(t){return te.skipHydrationRootTNode===t}function kD(){te.skipHydrationRootTNode=null}function G(){return te.lFrame.lView}function we(){return te.lFrame.tView}function OD(t){return te.lFrame.contextLView=t,t[Ye]}function FD(t){return te.lFrame.contextLView=null,t}function qe(){let t=eg();for(;t!==null&&t.type===64;)t=t.parent;return t}function eg(){return te.lFrame.currentTNode}function LD(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Pr(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function dl(){return te.lFrame.isParent}function hl(){te.lFrame.isParent=!1}function VD(){return te.lFrame.contextLView}function tg(t){lD("Must never be called in production mode"),Ax=t}function ng(){return wp}function ko(t){let e=wp;return wp=t,e}function fl(){let t=te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function rg(){return te.lFrame.bindingIndex}function jD(t){return te.lFrame.bindingIndex=t}function Ai(){return te.lFrame.bindingIndex++}function ya(t){let e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function BD(){return te.lFrame.inI18n}function UD(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,pl(e)}function $D(){return te.lFrame.currentDirectiveIndex}function pl(t){te.lFrame.currentDirectiveIndex=t}function HD(t){let e=te.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function gl(){return te.lFrame.currentQueryIndex}function va(t){te.lFrame.currentQueryIndex=t}function Sx(t){let e=t[Y];return e.type===2?e.declTNode:e.type===1?t[mt]:null}function ig(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=Sx(o),i===null||(o=o[wi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=te.lFrame=qD();return r.currentTNode=e,r.lView=t,!0}function ml(t){let e=qD(),n=t[Y];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qD(){let t=te.lFrame,e=t===null?null:t.child;return e===null?zD(t):e}function zD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function GD(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var og=GD;function yl(){let t=GD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function WD(t){return(te.lFrame.contextLView=AD(t,te.lFrame.contextLView))[Ye]}function wn(){return te.lFrame.selectedIndex}function xr(t){te.lFrame.selectedIndex=t}function _a(){let t=te.lFrame;return pa(t.tView,t.selectedIndex)}function KD(){te.lFrame.currentNamespace=zp}function QD(){Nx()}function Nx(){te.lFrame.currentNamespace=null}function YD(){return te.lFrame.currentNamespace}var ZD=!0;function Ea(){return ZD}function Ia(t){ZD=t}function Dp(t,e=null,n=null,r){let i=sg(t,e,n,r);return i.resolveInjectorInitializers(),i}function sg(t,e=null,n=null,r,i=new Set){let o=[n||it,_D(t)];return r=r||(typeof t=="object"?void 0:It(t)),new _i(o,e||No(),r||null,i)}var xe=class t{static THROW_IF_NOT_FOUND=mi;static NULL=new aa;static create(e,n){if(Array.isArray(e))return Dp({name:""},n,e,"");{let r=e.name??"";return Dp({name:r},e.parent,e.providers,r)}}static \u0275prov=ae({token:t,providedIn:"any",factory:()=>Ae(Op)});static __NG_ELEMENT_ID__=-1},kr=new B(""),Rt=(()=>{class t{static __NG_ELEMENT_ID__=Rx;static __NG_ENV_ID__=n=>n}return t})(),ca=class extends Rt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return bi(this._lView)}onDestroy(e){let n=this._lView;return Yp(n,e),()=>SD(n,e)}};function Rx(){return new ca(G())}var qn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},$t=new B("",{providedIn:"root",factory:()=>{let t=O(wt),e;return n=>{e??=t.get(qn),e.handleError(n)}}}),JD={provide:br,useValue:()=>void O(qn),multi:!0},Mx=new B("",{providedIn:"root",factory:()=>{let t=O(kr).defaultView;if(!t)return;let e=O($t),n=o=>{e(o.reason),o.preventDefault()},r=o=>{e(o.error),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),O(Rt).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Px(){return Vt([vD(()=>void O(Mx))])}function ag(t){return typeof t=="function"&&t[Ue]!==void 0}function Mt(t,e){let[n,r,i]=hp(t,e?.equal),o=n,s=o[Ue];return o.set=r,o.update=i,o.asReadonly=cg.bind(o),o}function cg(){let t=this[Ue];if(t.readonlyFn===void 0){let e=()=>this();e[Ue]=t,t.readonlyFn=e}return t.readonlyFn}function ug(t){return ag(t)&&typeof t.set=="function"}var Lt=class{},wa=new B("",{providedIn:"root",factory:()=>!1});var lg=new B(""),dg=new B("");var Si=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=xx}return t})();function xx(){return new Si(G(),qe())}var Ni=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Qs(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Q(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ri=(()=>{class t{internalPendingTasks=O(Ni);scheduler=O(Lt);errorHandler=O($t);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})();function Mi(...t){}var Da=(()=>{class t{static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new Tp})}return t})(),Tp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Bo(t){return{toString:t}.toString()}var vl="__parameters__";function Bx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function PT(t,e,n){return Bo(()=>{let r=Bx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(vl)?u[vl]:Object.defineProperty(u,vl,{value:[]})[vl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Tt=xp(PT("Optional"),8);var xT=xp(PT("SkipSelf"),4);function Ux(t){return typeof t=="function"}var Al=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function kT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Li=(()=>{let t=()=>OT;return t.ngInherit=!0,t})();function OT(t){return t.type.prototype.ngOnChanges&&(t.setInput=Hx),$x}function $x(){let t=LT(this),e=t?.current;if(e){let n=t.previous;if(n===Jt)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Hx(t,e,n,r,i){let o=this.declaredInputs[r],s=LT(t)||qx(t,{previous:Jt,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new Al(l&&l.currentValue,n,u===Jt),kT(t,e,i,n)}var FT="__ngSimpleChanges__";function LT(t){return t[FT]||null}function qx(t,e){return t[FT]=e}var XD=[];var fe=function(t,e=null,n){for(let r=0;r<XD.length;r++){let i=XD[r];i(t,e,n)}};function zx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=OT(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function rm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Dl(t,e,n){VT(t,e,3,n)}function Tl(t,e,n,r){(t[q]&3)===n&&VT(t,e,n,r)}function hg(t,e){let n=t[q];(n&3)===e&&(n&=16383,n+=1,t[q]=n)}function VT(t,e,n,r){let i=r!==void 0?t[Di]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Di]+=65536),(c<o||o==-1)&&(Gx(t,n,e,u),t[Di]=(t[Di]&4294901760)+u+2),u++}function eT(t,e){fe(4,t,e);let n=K(null);try{e.call(t)}finally{K(n),fe(5,t,e)}}function Gx(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[q]>>14<t[Di]>>16&&(t[q]&3)===e&&(t[q]+=16384,eT(c,o)):eT(c,o)}var Fo=-1,ki=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function Wx(t){return(t.flags&8)!==0}function Kx(t){return(t.flags&16)!==0}function Qx(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];Yx(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function jT(t){return t===3||t===4||t===6}function Yx(t){return t.charCodeAt(0)===64}function Lo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?tT(t,n,i,null,e[++r]):tT(t,n,i,null,null))}}return t}function tT(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function BT(t){return t!==Fo}function Sl(t){return t&32767}function Zx(t){return t>>16}function Nl(t,e){let n=Zx(t),r=e;for(;n>0;)r=r[wi],n--;return r}var wg=!0;function Rl(t){let e=wg;return wg=t,e}var Jx=256,UT=Jx-1,$T=5,Xx=0,Dn={};function ek(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ei)&&(r=n[Ei]),r==null&&(r=n[Ei]=Xx++);let i=r&UT,o=1<<i;e.data[t+(i>>$T)]|=o}function Ml(t,e){let n=HT(t,e);if(n!==-1)return n;let r=e[Y];r.firstCreatePass&&(t.injectorIndex=e.length,fg(r.data,t),fg(e,null),fg(r.blueprint,null));let i=im(t,e),o=t.injectorIndex;if(BT(i)){let s=Sl(i),c=Nl(i,e),u=c[Y].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function fg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function HT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function im(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=KT(i),r===null)return Fo;if(n++,i=i[wi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Fo}function Dg(t,e,n){ek(t,e,n)}function tk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(jT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function qT(t,e,n){if(n&8||t!==void 0)return t;Xu(e,"NodeInjector")}function zT(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Ii],o=gt(void 0);try{return i?i.get(e,r,n&8):Pp(e,r,n&8)}finally{gt(o)}}return qT(r,e,n)}function GT(t,e,n,r=0,i){if(t!==null){if(e[q]&2048&&!(r&2)){let s=ok(t,e,n,r,Dn);if(s!==Dn)return s}let o=WT(t,e,n,r,Dn);if(o!==Dn)return o}return zT(e,n,r,i)}function WT(t,e,n,r,i){let o=rk(n);if(typeof o=="function"){if(!ig(e,t,r))return r&1?qT(i,n,r):zT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Xu(n);else return s}finally{og()}}else if(typeof o=="number"){let s=null,c=HT(t,e),u=Fo,l=r&1?e[Dt][mt]:null;for((c===-1||r&4)&&(u=c===-1?im(t,e):e[c+8],u===Fo||!rT(r,!1)?c=-1:(s=e[Y],c=Sl(u),e=Nl(u,e)));c!==-1;){let h=e[Y];if(nT(o,c,h.data)){let p=nk(c,e,n,s,r,l);if(p!==Dn)return p}u=e[c+8],u!==Fo&&rT(r,e[Y].data[c+8]===l)&&nT(o,c,e)?(s=h,c=Sl(u),e=Nl(u,e)):c=-1}}return i}function nk(t,e,n,r,i,o){let s=e[Y],c=s.data[t+8],u=r==null?Rr(c)&&wg:r!=s&&(c.type&3)!==0,l=i&1&&o===c,h=Cl(c,s,n,u,l);return h!==null?Aa(e,s,h,c):Dn}function Cl(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?c:c+h,m=i?c+h:l;for(let y=p;y<m;y++){let b=s[y];if(y<u&&n===b||y>=u&&b.type===n)return y}if(i){let y=s[u];if(y&&tn(y)&&y.type===n)return u}return null}function Aa(t,e,n,r){let i=t[n],o=e.data;if(i instanceof ki){let s=i;s.resolving&&Mp(dD(o[n]));let c=Rl(s.canSeeViewProviders);s.resolving=!0;let u=o[n].type||o[n],l,h=s.injectImpl?gt(s.injectImpl):null,p=ig(t,r,0);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&zx(n,o[n],e)}finally{h!==null&&gt(h),Rl(c),s.resolving=!1,og()}}return i}function rk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ei)?t[Ei]:void 0;return typeof e=="number"?e>=0?e&UT:ik:e}function nT(t,e,n){let r=1<<t;return!!(n[e+(t>>$T)]&r)}function rT(t,e){return!(t&2)&&!(t&1&&e)}var xi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return GT(this._tNode,this._lView,e,yi(r),n)}};function ik(){return new xi(qe(),G())}function zl(t){return Bo(()=>{let e=t.prototype.constructor,n=e[sa]||Tg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[sa]||Tg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Tg(t){return Cp(t)?()=>{let e=Tg($e(t));return e&&e()}:Tr(t)}function ok(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[q]&2048&&!xo(s);){let c=WT(o,s,n,r|2,Dn);if(c!==Dn)return c;let u=o.parent;if(!u){let l=s[qp];if(l){let h=l.get(n,Dn,r);if(h!==Dn)return h}u=KT(s),s=s[wi]}o=u}return i}function KT(t){let e=t[Y],n=e.type;return n===2?e.declTNode:n===1?t[mt]:null}function om(t){return tk(qe(),t)}function sk(){return Uo(qe(),G())}function Uo(t,e){return new sn(nn(t,e))}var sn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=sk}return t})();function QT(t){return t instanceof sn?t.nativeElement:t}function ak(){return this._results[Symbol.iterator]()}var Pl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new rt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=pD(e);(this._changesDetected=!fD(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=ak};function YT(t){return(t.flags&128)===128}var sm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(sm||{}),ZT=new Map,ck=0;function uk(){return ck++}function lk(t){ZT.set(t[da],t)}function Cg(t){ZT.delete(t[da])}var iT="__ngContext__";function $o(t,e){In(e)?(t[iT]=e[da],lk(e)):t[iT]=e}function JT(t){return eC(t[Po])}function XT(t){return eC(t[jt])}function eC(t){for(;t!==null&&!en(t);)t=t[jt];return t}var bg;function dk(t){bg=t}function tC(){if(bg!==void 0)return bg;if(typeof document<"u")return document;throw new V(210,!1)}var hk=new B("",{providedIn:"root",factory:()=>fk}),fk="ng",nC=new B(""),am=new B("",{providedIn:"platform",factory:()=>"unknown"});var pk=new B(""),gk=new B("",{providedIn:"root",factory:()=>tC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mk="h",yk="b";var rC=!1,iC=new B("",{providedIn:"root",factory:()=>rC});var vk=(t,e,n,r)=>{};function _k(t,e,n,r){vk(t,e,n,r)}var Ek=()=>null;function oC(t,e,n=!1){return Ek(t,e,n)}function sC(t,e){let n=t.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];va(o),c.contentQueries(2,e[s],s)}}}finally{K(r)}}}function Ag(t,e,n){va(0);let r=K(null);try{e(t,n)}finally{K(r)}}function cm(t,e,n){if(sl(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{K(r)}}}var Vo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Vo||{}),_l;function Ik(){if(_l===void 0&&(_l=null,mn.trustedTypes))try{_l=mn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _l}function Gl(t){return Ik()?.createHTML(t)||t}var El;function wk(){if(El===void 0&&(El=null,mn.trustedTypes))try{El=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return El}function oT(t){return wk()?.createScriptURL(t)||t}var Kn=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yu})`}},Sg=class extends Kn{getTypeName(){return"HTML"}},Ng=class extends Kn{getTypeName(){return"Style"}},Rg=class extends Kn{getTypeName(){return"Script"}},Mg=class extends Kn{getTypeName(){return"URL"}},Pg=class extends Kn{getTypeName(){return"ResourceURL"}};function Ho(t){return t instanceof Kn?t.changingThisBreaksApplicationSecurity:t}function um(t,e){let n=aC(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Yu})`)}return n===e}function aC(t){return t instanceof Kn&&t.getTypeName()||null}function Dk(t){return new Sg(t)}function Tk(t){return new Ng(t)}function Ck(t){return new Rg(t)}function bk(t){return new Mg(t)}function Ak(t){return new Pg(t)}function Sk(t){let e=new kg(t);return Nk()?new xg(e):e}var xg=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Gl(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},kg=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Gl(e),n}};function Nk(){try{return!!new window.DOMParser().parseFromString(Gl(""),"text/html")}catch{return!1}}var Rk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lm(t){return t=String(t),t.match(Rk)?t:"unsafe:"+t}function Qn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function ka(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var cC=Qn("area,br,col,hr,img,wbr"),uC=Qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lC=Qn("rp,rt"),Mk=ka(lC,uC),Pk=ka(uC,Qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xk=ka(lC,Qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sT=ka(cC,Pk,xk,Mk),dC=Qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kk=Qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ok=Qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Fk=ka(dC,kk,Ok),Lk=Qn("script,style,template"),Og=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=Bk(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=jk(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=aT(e).toLowerCase();if(!sT.hasOwnProperty(n))return this.sanitizedSomething=!0,!Lk.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,c=s.toLowerCase();if(!Fk.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;dC[c]&&(u=lm(u)),this.buf.push(" ",s,'="',cT(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=aT(e).toLowerCase();sT.hasOwnProperty(n)&&!cC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(cT(e))}};function Vk(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function jk(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw hC(e);return e}function Bk(t){let e=t.firstChild;if(e&&Vk(t,e))throw hC(e);return e}function aT(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function hC(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Uk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$k=/([^\#-~ |!])/g;function cT(t){return t.replace(/&/g,"&amp;").replace(Uk,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace($k,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Il;function Hk(t,e){let n=null;try{Il=Il||Sk(t);let r=e?String(e):"";n=Il.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Il.getInertBodyElement(r)}while(r!==o);let c=new Og().sanitizeChildren(uT(n)||n);return Gl(c)}finally{if(n){let r=uT(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function uT(t){return"content"in t&&qk(t)?t.content:null}function qk(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Wl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Wl||{});function fC(t){let e=gC();return e?e.sanitize(Wl.URL,t)||"":um(t,"URL")?Ho(t):lm(yn(t))}function pC(t){let e=gC();if(e)return oT(e.sanitize(Wl.RESOURCE_URL,t)||"");if(um(t,"ResourceURL"))return oT(Ho(t));throw new V(904,!1)}function zk(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?pC:fC}function Gk(t,e,n){return zk(e,n)(t)}function gC(){let t=G();return t&&t[_n].sanitizer}var Wk=/^>|^->|<!--|-->|--!>|<!-$/g,Kk=/(<|>)/g,Qk="\u200B$1\u200B";function Yk(t){return t.replace(Wk,e=>e.replace(Kk,Qk))}function mC(t){return t instanceof Function?t():t}function Zk(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var yC="ng-template";function Jk(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Zk(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(dm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function dm(t){return t.type===4&&t.value!==yC}function Xk(t,e,n){let r=t.type===4&&!n?yC:t.value;return e===r}function eO(t,e,n){let r=4,i=t.attrs,o=i!==null?rO(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!rn(r)&&!rn(u))return!1;if(s&&rn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Xk(t,u,n)||u===""&&e.length===1){if(rn(r))return!1;s=!0}}else if(r&8){if(i===null||!Jk(t,i,u,n)){if(rn(r))return!1;s=!0}}else{let l=e[++c],h=tO(u,i,dm(t),n);if(h===-1){if(rn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(rn(r))return!1;s=!0}}}}return rn(r)||s}function rn(t){return(t&1)===0}function tO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return iO(e,t)}function vC(t,e,n=!1){for(let r=0;r<e.length;r++)if(eO(t,e[r],n))return!0;return!1}function nO(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function rO(t){for(let e=0;e<t.length;e++){let n=t[e];if(jT(n))return e}return t.length}function iO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function oO(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function lT(t,e){return t?":not("+e.trim()+")":e}function sO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!rn(s)&&(e+=lT(o,i),i=""),r=s,o=o||!rn(r);n++}return i!==""&&(e+=lT(o,i)),e}function aO(t){return t.map(sO).join(",")}function cO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!rn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Ze={};function uO(t,e){return t.createText(e)}function lO(t,e,n){t.setValue(e,n)}function dO(t,e){return t.createComment(Yk(e))}function _C(t,e,n){return t.createElement(e,n)}function xl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function EC(t,e,n){t.appendChild(e,n)}function dT(t,e,n,r,i){r!==null?xl(t,e,n,r,i):EC(t,e,n)}function hO(t,e,n){t.removeChild(null,e,n)}function fO(t,e,n){t.setAttribute(e,"style",n)}function pO(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function IC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Qx(t,e,r),i!==null&&pO(t,e,i),o!==null&&fO(t,e,o)}function hm(t,e,n,r,i,o,s,c,u,l,h){let p=Oe+r,m=p+i,y=gO(p,m),b=typeof l=="function"?l():l;return y[Y]={type:t,blueprint:y,template:n,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function gO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ze);return n}function mO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=hm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function fm(t,e,n,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[Xt]=i,p[q]=r|4|128|8|64|1024,(l!==null||t&&t[q]&2048)&&(p[q]|=2048),Kp(p),p[He]=p[wi]=t,p[Ye]=n,p[_n]=s||t&&t[_n],p[Ie]=c||t&&t[Ie],p[Ii]=u||t&&t[Ii]||null,p[mt]=o,p[da]=uk(),p[Ro]=h,p[qp]=l,p[Dt]=e.type==2?t[Dt]:p,p}function yO(t,e,n){let r=nn(e,t),i=mO(n),o=t[_n].rendererFactory,s=pm(t,fm(t,i,null,wC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function wC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function DC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function pm(t,e){return t[Po]?t[Hp][jt]=e:t[Po]=e,t[Hp]=e,e}function vO(t=1){TC(we(),G(),wn()+t,!1)}function TC(t,e,n,r){if(!r)if((e[q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Dl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Tl(e,o,0,n)}xr(n)}var Kl=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Kl||{});function Fg(t,e,n,r){let i=K(null);try{let[o,s,c]=t.inputs[n],u=null;(s&Kl.SignalBased)!==0&&(u=e[o][Ue]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):kT(e,u,o,r)}finally{K(i)}}function CC(t,e,n,r,i){let o=wn(),s=r&2;try{xr(-1),s&&e.length>Oe&&TC(t,e,Oe,!1),fe(s?2:0,i,n),n(r,i)}finally{xr(o),fe(s?3:1,i,n)}}function Ql(t,e,n){TO(t,e,n),(n.flags&64)===64&&CO(t,e,n)}function gm(t,e,n=nn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function _O(t,e,n,r){let o=r.get(iC,rC)||n===Vo.ShadowDom,s=t.selectRootElement(e,o);return EO(s),s}function EO(t){IO(t)}var IO=()=>null;function wO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function bC(t,e,n,r,i,o){let s=e[Y];if(ym(t,s,e,n,r)){Rr(t)&&DO(e,t.index);return}AC(t,e,n,r,i,o)}function AC(t,e,n,r,i,o){if(t.type&3){let s=nn(t,e);n=wO(n),r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function DO(t,e){let n=Ut(e,t);n[q]&16||(n[q]|=64)}function TO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Rr(n)&&yO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Ml(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=Aa(e,t,s,n);if($o(u,e),o!==null&&NO(e,s-r,u,c,n,o),tn(c)){let l=Ut(n.index,e);l[Ye]=Aa(e,t,s,n)}}}function CO(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=$D();try{xr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];pl(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&bO(u,l)}}finally{xr(-1),pl(s)}}function bO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mm(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];vC(e,o.selectors,!1)&&(r??=[],tn(o)?r.unshift(o):r.push(o))}return r}function AO(t,e,n,r,i,o){let s=nn(t,e);SO(e[Ie],s,o,t.value,n,r,i)}function SO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?yn(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function NO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];Fg(r,n,u,l)}}function RO(t,e){let n=t[Ii];if(!n)return;n.get($t,null)?.(e)}function ym(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Fg(p,n[l],h,i),c=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Fg(h,l,r,i),c=!0}return c}function MO(t,e){let n=Ut(e,t),r=n[Y];PO(r,n);let i=n[Xt];i!==null&&n[Ro]===null&&(n[Ro]=oC(i,n[Ii])),fe(18),vm(r,n,n[Ye]),fe(19,n[Ye])}function PO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function vm(t,e,n){ml(e);try{let r=t.viewQuery;r!==null&&Ag(1,r,n);let i=t.template;i!==null&&CC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[En]?.finishViewCreation(t),t.staticContentQueries&&sC(t,e),t.staticViewQueries&&Ag(2,t.viewQuery,n);let o=t.components;o!==null&&xO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[q]&=-5,yl()}}function xO(t,e){for(let n=0;n<e.length;n++)MO(t,e[n])}function _m(t,e,n,r){let i=K(null);try{let o=e.tView,c=t[q]&4096?4096:16,u=fm(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Sr]=l;let h=t[En];return h!==null&&(u[En]=h.createEmbeddedView(o)),vm(o,u,n),u}finally{K(i)}}function kl(t,e){return!e||e.firstChild===null||YT(t)}var hT=!1,kO=new B(""),OO;function Em(t,e){return OO(t,e)}var Sa=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Sa||{});function Yl(t){return(t.flags&32)===32}function Oo(t,e,n,r,i){if(r!=null){let o,s=!1;en(r)?o=r:In(r)&&(s=!0,r=r[Xt]);let c=Bt(r);t===0&&n!==null?i==null?EC(e,n,c):xl(e,n,c,i||null,!0):t===1&&n!==null?xl(e,n,c,i||null,!0):t===2?hO(e,c,s):t===3&&e.destroyNode(c),o!=null&&zO(e,t,o,n,i)}}function FO(t,e){SC(t,e),e[Xt]=null,e[mt]=null}function LO(t,e,n,r,i,o){r[Xt]=i,r[mt]=e,Jl(t,r,n,1,i,o)}function SC(t,e){e[_n].changeDetectionScheduler?.notify(9),Jl(t,e,e[Ie],2,null,null)}function VO(t){let e=t[Po];if(!e)return pg(t[Y],t);for(;e;){let n=null;if(In(e))n=e[Po];else{let r=e[ot];r&&(n=r)}if(!n){for(;e&&!e[jt]&&e!==t;)In(e)&&pg(e[Y],e),e=e[He];e===null&&(e=t),In(e)&&pg(e[Y],e),n=e&&e[jt]}e=n}}function Im(t,e){let n=t[Ci],r=n.indexOf(e);n.splice(r,1)}function wm(t,e){if(bi(e))return;let n=e[Ie];n.destroyNode&&Jl(t,e,n,3,null,null),VO(e)}function pg(t,e){if(bi(e))return;let n=K(null);try{e[q]&=-129,e[q]|=256,e[Nt]&&To(e[Nt]),BO(t,e),jO(t,e),e[Y].type===1&&e[Ie].destroy();let r=e[Sr];if(r!==null&&en(e[He])){r!==e[He]&&Im(r,e);let i=e[En];i!==null&&i.detachView(t)}Cg(e)}finally{K(n)}}function jO(t,e){let n=t.cleanup,r=e[Mo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Mo]=null);let i=e[Hn];if(i!==null){e[Hn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Gn];if(o!==null){e[Gn]=null;for(let s of o)s.destroy()}}function BO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ki)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];fe(4,c,u);try{u.call(c)}finally{fe(5,c,u)}}else{fe(4,i,o);try{o.call(i)}finally{fe(5,i,o)}}}}}function NC(t,e,n){return UO(t,e.parent,n)}function UO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Xt];if(Rr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Vo.None||i===Vo.Emulated)return null}return nn(r,n)}function RC(t,e,n){return HO(t,e,n)}function $O(t,e,n){return t.type&40?nn(t,n):null}var HO=$O,fT;function Zl(t,e,n,r){let i=NC(t,r,e),o=e[Ie],s=r.parent||e[mt],c=RC(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)dT(o,i,n[u],c,!1);else dT(o,i,n,c,!1);fT!==void 0&&fT(o,r,e,n,i)}function Ta(t,e){if(e!==null){let n=e.type;if(n&3)return nn(e,t);if(n&4)return Lg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ta(t,r);{let i=t[e.index];return en(i)?Lg(-1,i):Bt(i)}}else{if(n&128)return Ta(t,e.next);if(n&32)return Em(e,t)()||Bt(t[e.index]);{let r=MC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Cr(t[Dt]);return Ta(i,r)}else return Ta(t,e.next)}}}return null}function MC(t,e){if(e!==null){let r=t[Dt][mt],i=e.projection;return r.projection[i]}return null}function Lg(t,e){let n=ot+t+1;if(n<e.length){let r=e[n],i=r[Y].firstChild;if(i!==null)return Ta(r,i)}return e[Nr]}function Dm(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&$o(Bt(c),r),n.flags|=2),!Yl(n))if(u&8)Dm(t,e,n.child,r,i,o,!1),Oo(e,t,i,c,o);else if(u&32){let l=Em(n,r),h;for(;h=l();)Oo(e,t,i,h,o);Oo(e,t,i,c,o)}else u&16?PC(t,e,r,n,i,o):Oo(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Jl(t,e,n,r,i,o){Dm(n,r,t.firstChild,e,i,o,!1)}function qO(t,e,n){let r=e[Ie],i=NC(t,n,e),o=n.parent||e[mt],s=RC(o,n,e);PC(r,0,e,n,i,s)}function PC(t,e,n,r,i,o){let s=n[Dt],u=s[mt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Oo(e,t,i,h,o)}else{let l=u,h=s[He];YT(r)&&(l.flags|=128),Dm(t,e,l,h,i,o,!0)}}function zO(t,e,n,r,i){let o=n[Nr],s=Bt(n);o!==s&&Oo(e,t,r,o,i);for(let c=ot;c<n.length;c++){let u=n[c];Jl(u[Y],u,t,e,r,o)}}function GO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Sa.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Sa.Important),t.setStyle(n,r,i,o))}}function Na(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Bt(o)),en(o)&&xC(o,r);let s=n.type;if(s&8)Na(t,e,n.child,r);else if(s&32){let c=Em(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=MC(e,n);if(Array.isArray(c))r.push(...c);else{let u=Cr(e[Dt]);Na(u[Y],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function xC(t,e){for(let n=ot;n<t.length;n++){let r=t[n],i=r[Y].firstChild;i!==null&&Na(r[Y],r,i,e)}t[Nr]!==t[Xt]&&e.push(t[Nr])}function kC(t){if(t[Ti]!==null){for(let e of t[Ti])e.impl.addSequence(e);t[Ti].length=0}}var OC=[];function WO(t){return t[Nt]??KO(t)}function KO(t){let e=OC.pop()??Object.create(YO);return e.lView=t,e}function QO(t){t.lView[Nt]!==t&&(t.lView=null,OC.push(t))}var YO=ce(oe({},wr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Mr(t.lView)},consumerOnSignalRead(){this.lView[Nt]=this}});function ZO(t){let e=t[Nt]??Object.create(JO);return e.lView=t,e}var JO=ce(oe({},wr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Cr(t.lView);for(;e&&!FC(e[Y]);)e=Cr(e);e&&Qp(e)},consumerOnSignalRead(){this.lView[Nt]=this}});function FC(t){return t.type!==2}function LC(t){if(t[Gn]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Gn])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[q]&8192)}}var XO=100;function Tm(t,e=0){let r=t[_n].rendererFactory,i=!1;i||r.begin?.();try{e1(t,e)}finally{i||r.end?.()}}function e1(t,e){let n=ng();try{ko(!0),Vg(t,e);let r=0;for(;ga(t);){if(r===XO)throw new V(103,!1);r++,Vg(t,1)}}finally{ko(n)}}function VC(t,e){tg(e?ma.Exhaustive:ma.OnlyDirtyViews);try{Tm(t)}finally{tg(ma.Off)}}function t1(t,e,n,r){if(bi(e))return;let i=e[q],o=!1,s=!1;ml(e);let c=!0,u=null,l=null;o||(FC(t)?(l=WO(e),u=$n(l)):Uu()===null?(c=!1,l=ZO(e),u=$n(l)):e[Nt]&&(To(e[Nt]),e[Nt]=null));try{Kp(e),jD(t.bindingStartIndex),n!==null&&CC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Dl(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Tl(e,y,0,null),hg(e,0)}if(s||n1(e),LC(e),jC(e,0),t.contentQueries!==null&&sC(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Dl(e,y)}else{let y=t.contentHooks;y!==null&&Tl(e,y,1),hg(e,1)}i1(t,e);let p=t.components;p!==null&&UC(e,p,0);let m=t.viewQuery;if(m!==null&&Ag(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Dl(e,y)}else{let y=t.viewHooks;y!==null&&Tl(e,y,2),hg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ol]){for(let y of e[ol])y();e[ol]=null}o||(kC(e),e[q]&=-73)}catch(h){throw o||Mr(e),h}finally{l!==null&&(Dr(l,u),c&&QO(l)),yl()}}function jC(t,e){for(let n=JT(t);n!==null;n=XT(n))for(let r=ot;r<n.length;r++){let i=n[r];BC(i,e)}}function n1(t){for(let e=JT(t);e!==null;e=XT(e)){if(!(e[q]&2))continue;let n=e[Ci];for(let r=0;r<n.length;r++){let i=n[r];Qp(i)}}}function r1(t,e,n){fe(18);let r=Ut(e,t);BC(r,n),fe(19,r[Ye])}function BC(t,e){cl(t)&&Vg(t,e)}function Vg(t,e){let r=t[Y],i=t[q],o=t[Nt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&gi(o)),s||=!1,o&&(o.dirty=!1),t[q]&=-9217,s)t1(r,t,r.template,t[Ye]);else if(i&8192){let c=K(null);try{LC(t),jC(t,1);let u=r.components;u!==null&&UC(t,u,1),kC(t)}finally{K(c)}}}function UC(t,e,n){for(let r=0;r<e.length;r++)r1(t,e[r],n)}function i1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)xr(~i);else{let o=i,s=n[++r],c=n[++r];UD(s,o);let u=e[o];fe(24,u),c(2,u),fe(25,u)}}}finally{xr(-1)}}function Cm(t,e){let n=ng()?64:1088;for(t[_n].changeDetectionScheduler?.notify(e);t;){t[q]|=n;let r=Cr(t);if(xo(t)&&!r)return t;t=r}return null}function $C(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function o1(t,e){let n=ot+e;if(n<t.length)return t[n]}function bm(t,e,n,r=!0){let i=e[Y];if(a1(i,e,t,n),r){let s=Lg(n,t),c=e[Ie],u=c.parentNode(t[Nr]);u!==null&&LO(i,t[mt],c,e,u,s)}let o=e[Ro];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function s1(t,e){let n=Ol(t,e);return n!==void 0&&wm(n[Y],n),n}function Ol(t,e){if(t.length<=ot)return;let n=ot+e,r=t[n];if(r){let i=r[Sr];i!==null&&i!==t&&Im(i,r),e>0&&(t[n-1][jt]=r[jt]);let o=la(t,ot+e);FO(r[Y],r);let s=o[En];s!==null&&s.detachView(o[Y]),r[He]=null,r[jt]=null,r[q]&=-129}return r}function a1(t,e,n,r){let i=ot+r,o=n.length;r>0&&(n[i-1][jt]=e),r<o-ot?(e[jt]=n[i],kp(n,ot+r,e)):(n.push(e),e[jt]=null),e[He]=n;let s=e[Sr];s!==null&&n!==s&&HC(s,e);let c=e[En];c!==null&&c.insertView(t),ul(e),e[q]|=128}function HC(t,e){let n=t[Ci],r=e[He];if(In(r))t[q]|=2;else{let i=r[He][Dt];e[Dt]!==i&&(t[q]|=2)}n===null?t[Ci]=[e]:n.push(e)}var Or=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[Y];return Na(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[Ye]}set context(e){this._lView[Ye]=e}get destroyed(){return bi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[He];if(en(e)){let n=e[ha],r=n?n.indexOf(this):-1;r>-1&&(Ol(e,r),la(n,r))}this._attachedToViewContainer=!1}wm(this._lView[Y],this._lView)}onDestroy(e){Yp(this._lView,e)}markForCheck(){Cm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){ul(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,Tm(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Ii].get(kO,hT)}catch{this.exhaustive=hT}}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=xo(this._lView),n=this._lView[Sr];n!==null&&!e&&Im(n,this._lView),SC(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let n=xo(this._lView),r=this._lView[Sr];r!==null&&!n&&HC(r,this._lView),ul(this._lView)}};var Fr=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=c1;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=_m(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Or(o)}}return t})();function c1(){return Xl(qe(),G())}function Xl(t,e){return t.type&4?new Fr(e,t,Uo(t,e)):null}function Oa(t,e,n,r,i){let o=t.data[e];if(o===null)o=u1(t,e,n,r,i),BD()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=LD();o.injectorIndex=s===null?-1:s.injectorIndex}return Pr(o,!0),o}function u1(t,e,n,r,i){let o=eg(),s=dl(),c=s?o:o&&o.parent,u=t.data[e]=d1(t,c,n,e,r,i);return l1(t,u,o,s),u}function l1(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function d1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return Xp()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var e7=new RegExp(`^(\\d+)*(${yk}|${mk})*(.*)`);var h1=()=>null,f1=()=>null;function jg(t,e){return h1(t,e)}function p1(t,e,n){return f1(t,e,n)}var qC=class{},ed=class{},Bg=class{resolveComponentFactory(e){throw new V(917,!1)}},Fa=class{static NULL=new Bg},Ra=class{},Vi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>g1()}return t})();function g1(){let t=G(),e=qe(),n=Ut(e.index,t);return(In(n)?n:t)[Ie]}var zC=(()=>{class t{static \u0275prov=ae({token:t,providedIn:"root",factory:()=>null})}return t})();var bl={},Ug=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,bl,r);return i!==bl||n===bl?i:this.parentInjector.get(e,n,r)}};function $g(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Zu(i,c);else if(o==2){let u=c,l=e[++s];r=Zu(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function X(t,e=0){let n=G();if(n===null)return Ae(t,e);let r=qe();return GT(r,n,$e(t),e)}function m1(){let t="invalid";throw new Error(t)}function Am(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[c,u,l]=h.resolveHostDirectives(s);break}_1(t,e,n,c,o,u,l)}o!==null&&r!==null&&y1(n,r,o)}function y1(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function v1(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function _1(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&tn(y)&&(u=!0,v1(t,n,m)),Dg(Ml(n,e),t,y.type)}C1(n,t.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=DC(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(n.mergedAttrs=Lo(n.mergedAttrs,y.hostAttrs),I1(t,n,e,p,y),T1(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);n.directiveToIndex.set(y.type,[p,N+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(b.ngOnChanges||b.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}E1(t,n,o)}function E1(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))pT(0,e,i,r),pT(1,e,i,r),mT(e,r,!1);else{let o=n.get(i);gT(0,e,o,r),gT(1,e,o,r),mT(e,r,!0)}}}function pT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),GC(e,o)}}function gT(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),GC(e,s)}}function GC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function mT(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||dm(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function I1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Tr(i.type,!0)),s=new ki(o,tn(i),X);t.blueprint[r]=s,n[r]=s,w1(t,e,r,DC(t,n,i.hostVars,Ze),i)}function w1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;D1(s)!=c&&s.push(c),s.push(n,r,o)}}function D1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function T1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;tn(e)&&(n[""]=t)}}function C1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function WC(t,e,n,r,i,o,s,c){let u=e.consts,l=Wn(u,s),h=Oa(e,t,2,r,l);return o&&Am(e,n,h,Wn(u,c),i),h.mergedAttrs=Lo(h.mergedAttrs,h.attrs),h.attrs!==null&&$g(h,h.attrs,!1),h.mergedAttrs!==null&&$g(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function KC(t,e){rm(t,e),sl(e)&&t.queries.elementEnd(e)}function Sm(t){return YC(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function QC(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function YC(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Nm(t,e,n){return t[e]=n}function b1(t,e){return t[e]}function Ht(t,e,n){if(n===Ze)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Rm(t,e,n,r){let i=Ht(t,e,n);return Ht(t,e+1,r)||i}function A1(t,e,n,r,i){let o=Rm(t,e,n,r);return Ht(t,e+2,i)||o}function gg(t,e,n){return function r(i){let o=Rr(t)?Ut(t.index,e):e;Cm(o,5);let s=e[Ye],c=yT(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=yT(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function yT(t,e,n,r){let i=K(null);try{return fe(6,e,n),n(r)!==!1}catch(o){return RO(t,o),!1}finally{fe(7,e,n),K(i)}}function S1(t,e,n,r,i,o,s,c){let u=fa(t),l=!1,h=null;if(!r&&u&&(h=N1(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=nn(t,n),m=r?r(p):p;_k(n,m,o,c);let y=i.listen(m,o,c),b=r?N=>r(Bt(N[t.index])):t.index;ZC(b,e,n,o,c,y,!1)}return l}function N1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Mo],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function ZC(t,e,n,r,i,o,s){let c=e.firstCreatePass?Jp(e):null,u=Zp(n),l=u.length;u.push(i,o),c&&c.push(r,t,l,(l+1)*(s?-1:1))}function vT(t,e,n,r,i,o){let s=e[n],c=e[Y],l=c.data[n].outputs[r],p=s[l].subscribe(o);ZC(t.index,c,e,i,o,p,!0)}var Hg=Symbol("BINDING");var Fl=class extends Fa{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=vn(e);return new Lr(n,this.ngModule)}};function R1(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Kl.SignalBased)!==0};return i&&(o.transform=i),o})}function M1(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function P1(t,e,n){let r=e instanceof wt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Ug(n,r):n}function x1(t){let e=t.get(Ra,null);if(e===null)throw new V(407,!1);let n=t.get(zC,null),r=t.get(Lt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function k1(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return _C(e,n,n==="svg"?zp:n==="math"?TD:null)}var Lr=class extends ed{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=R1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=M1(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=aO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){fe(22);let c=K(null);try{let u=this.componentDef,l=O1(r,u,s,o),h=P1(u,i||this.ngModule,e),p=x1(h),m=p.rendererFactory.createRenderer(null,u),y=r?_O(m,r,u.encapsulation,h):k1(u,m),b=s?.some(_T)||o?.some(k=>typeof k!="function"&&k.bindings.some(_T)),N=fm(null,l,null,512|wC(u),null,null,p,m,h,null,oC(y,h,!0));N[Oe]=y,ml(N);let R=null;try{let k=WC(Oe,l,N,"#host",()=>l.directiveRegistry,!0,0);y&&(IC(m,y,k),$o(y,N)),Ql(l,N,k),cm(l,k,N),KC(l,k),n!==void 0&&L1(k,this.ngContentSelectors,n),R=Ut(k.index,N),N[Ye]=R[Ye],vm(l,N,null)}catch(k){throw R!==null&&Cg(R),Cg(N),k}finally{fe(23),yl()}return new Ll(this.componentType,N,!!b)}finally{K(c)}}};function O1(t,e,n,r){let i=t?["ng-version","20.0.2"]:cO(e.selectors[0]),o=null,s=null,c=0;if(n)for(let h of n)c+=h[Hg].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){c+=m[Hg].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=rl(p);u.push(m)}return hm(0,null,F1(o,s),1,c,u,null,null,null,[i],null)}function F1(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function _T(t){let e=t[Hg].kind;return e==="input"||e==="twoWay"}var Ll=class extends qC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=pa(n[Y],Oe),this.location=Uo(this._tNode,n),this.instance=Ut(this._tNode.index,n)[Ye],this.hostView=this.changeDetectorRef=new Or(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=ym(r,i[Y],i,e,n);this.previousInputValues.set(e,n);let s=Ut(r.index,i);Cm(s,1)}get injector(){return new xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function L1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Vr=(()=>{class t{static __NG_ELEMENT_ID__=V1}return t})();function V1(){let t=qe();return XC(t,G())}var j1=Vr,JC=class extends j1{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Uo(this._hostTNode,this._hostLView)}get injector(){return new xi(this._hostTNode,this._hostLView)}get parentInjector(){let e=im(this._hostTNode,this._hostLView);if(BT(e)){let n=Nl(e,this._hostLView),r=Sl(e),i=n[Y].data[r+8];return new xi(i,n)}else return new xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ET(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ot}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=jg(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,kl(this._hostTNode,s)),c}createComponent(e,n,r,i,o,s,c){let u=e&&!Ux(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,c=R.bindings}let h=u?e:new Lr(vn(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let k=(u?p:this.parentInjector).get(wt,null);k&&(o=k)}let m=vn(h.componentType??{}),y=jg(this._lContainer,m?.id??null),b=y?.firstChild??null,N=h.create(p,i,b,o,s,c);return this.insertImpl(N.hostView,l,kl(this._hostTNode,y)),N}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(bD(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[He],l=new JC(u,u[mt],u[He]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return bm(s,i,o,r),e.attachToViewContainerRef(),kp(mg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ET(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ol(this._lContainer,n);r&&(la(mg(this._lContainer),n),wm(r[Y],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ol(this._lContainer,n);return r&&la(mg(this._lContainer),n)!=null?new Or(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ET(t){return t[ha]}function mg(t){return t[ha]||(t[ha]=[])}function XC(t,e){let n,r=e[t.index];return en(r)?n=r:(n=$C(r,e,null,t),e[t.index]=n,pm(e,n)),U1(n,e,t,r),new JC(n,t,e)}function B1(t,e){let n=t[Ie],r=n.createComment(""),i=nn(e,t),o=n.parentNode(i);return xl(n,o,r,n.nextSibling(i),!1),r}var U1=q1,$1=()=>!1;function H1(t,e,n){return $1(t,e,n)}function q1(t,e,n,r){if(t[Nr])return;let i;n.type&8?i=Bt(r):i=B1(e,n),t[Nr]=i}var qg=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},zg=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),c=this.queries[s.indexInDeclarationView];i.push(c.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Pm(e,n).matches!==null&&this.queries[n].setDirty()}},Vl=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Q1(e):this.predicate=e}},Gg=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Wg=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,z1(n,o)),this.matchTNodeWithReadOption(e,n,Cl(n,e,o,!1,!1))}else r===Fr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Cl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===sn||i===Vr||i===Fr&&n.type&4)this.addMatch(n.index,-2);else{let o=Cl(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function z1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function G1(t,e){return t.type&11?Uo(t,e):t.type&4?Xl(t,e):null}function W1(t,e,n,r){return n===-1?G1(e,t):n===-2?K1(t,e,r):Aa(t,t[Y],n,e)}function K1(t,e,n){if(n===sn)return Uo(e,t);if(n===Fr)return Xl(e,t);if(n===Vr)return XC(e,t)}function eb(t,e,n,r){let i=e[En].queries[r];if(i.matches===null){let o=t.data,s=n.matches,c=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)c.push(null);else{let h=o[l];c.push(W1(e,h,s[u+1],n.metadata.read))}}i.matches=c}return i.matches}function Kg(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=eb(t,e,i,n);for(let c=0;c<o.length;c+=2){let u=o[c];if(u>0)r.push(s[c/2]);else{let l=o[c+1],h=e[-u];for(let p=ot;p<h.length;p++){let m=h[p];m[Sr]===m[He]&&Kg(m[Y],m,l,r)}if(h[Ci]!==null){let p=h[Ci];for(let m=0;m<p.length;m++){let y=p[m];Kg(y[Y],y,l,r)}}}}}return r}function Mm(t,e){return t[En].queries[e].queryList}function tb(t,e,n){let r=new Pl((n&4)===4);return ND(t,e,r,r.destroy),(e[En]??=new zg).queries.push(new qg(r))-1}function nb(t,e,n){let r=we();return r.firstCreatePass&&(ib(r,new Vl(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),tb(r,G(),e)}function rb(t,e,n,r){let i=we();if(i.firstCreatePass){let o=qe();ib(i,new Vl(e,n,r),o.index),Y1(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return tb(i,G(),n)}function Q1(t){return t.split(",").map(e=>e.trim())}function ib(t,e,n){t.queries===null&&(t.queries=new Gg),t.queries.track(new Wg(e,n))}function Y1(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Pm(t,e){return t.queries.getByIndex(e)}function ob(t,e){let n=t[Y],r=Pm(n,e);return r.crossesNgTemplate?Kg(n,t,e,[]):eb(n,t,r,e)}function sb(t,e,n){let r,i=ra(()=>{r._dirtyCounter();let o=Z1(r,t);if(e&&o===void 0)throw new V(-951,!1);return o});return r=i[Ue],r._dirtyCounter=Mt(0),r._flatValue=void 0,i}function xm(t){return sb(!0,!1,t)}function km(t){return sb(!0,!0,t)}function ab(t,e){let n=t[Ue];n._lView=G(),n._queryIndex=e,n._queryList=Mm(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function Z1(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[q]&4)return e?void 0:it;let i=Mm(n,r),o=ob(n,r);return i.reset(o,QT),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}var IT=new Set;function jr(t){IT.has(t)||(IT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Oi=class{},cb=class{};var jl=class extends Oi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Fl(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Lp(e);this._bootstrapComponents=mC(o.bootstrap),this._r3Injector=sg(e,n,[{provide:Oi,useValue:this},{provide:Fa,useValue:this.componentFactoryResolver},...r],It(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bl=class extends cb{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new jl(this.moduleType,e,[])}};var Ma=class extends Oi{injector;componentFactoryResolver=new Fl(this);instance=null;constructor(e){super();let n=new _i([...e.providers,{provide:Oi,useValue:this},{provide:Fa,useValue:this.componentFactoryResolver}],e.parent||No(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ub(t,e,n=null){return new Ma({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var J1=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Vp(!1,n.type),i=r.length>0?ub([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ae({token:t,providedIn:"environment",factory:()=>new t(Ae(wt))})}return t})();function X1(t){return Bo(()=>{let e=lb(t),n=ce(oe({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===sm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(J1).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Vo.Emulated,styles:t.styles||it,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&jr("NgStandalone"),db(n);let r=t.dependencies;return n.directiveDefs=wT(r,!1),n.pipeDefs=wT(r,!0),n.id=iF(n),n})}function eF(t){return vn(t)||rl(t)}function tF(t){return t!==null}function Br(t){return Bo(()=>({type:t.type,bootstrap:t.bootstrap||it,declarations:t.declarations||it,imports:t.imports||it,exports:t.exports||it,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nF(t,e){if(t==null)return Jt;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Kl.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function rF(t){if(t==null)return Jt;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ze(t){return Bo(()=>{let e=lb(t);return db(e),e})}function La(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function lb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Jt,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||it,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:nF(t.inputs,e),outputs:rF(t.outputs),debugInfo:null}}function db(t){t.features?.forEach(e=>e(t))}function wT(t,e){if(!t)return null;let n=e?yD:eF;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(tF)}function iF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function oF(t){return Object.getPrototypeOf(t.prototype).constructor}function qt(t){let e=oF(t.type),n=!0,r=[t];for(;e;){let i;if(tn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=yg(t.inputs),s.declaredInputs=yg(t.declaredInputs),s.outputs=yg(t.outputs);let c=i.hostBindings;c&&lF(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&cF(t,u),l&&uF(t,l),sF(t,i),uD(t.outputs,i.outputs),tn(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===qt&&(n=!1)}}e=Object.getPrototypeOf(e)}aF(r)}function sF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function aF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Lo(i.hostAttrs,n=Lo(n,i.hostAttrs))}}function yg(t){return t===Jt?{}:t===it?[]:t}function cF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function uF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function lF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function dF(t){let e=n=>{let r=Array.isArray(t);n.hostDirectives===null?(n.resolveHostDirectives=hF,n.hostDirectives=r?t.map(Qg):[t]):r?n.hostDirectives.unshift(...t.map(Qg)):n.hostDirectives.unshift(t)};return e.ngInherit=!0,e}function hF(t){let e=[],n=!1,r=null,i=null;for(let o=0;o<t.length;o++){let s=t[o];if(s.hostDirectives!==null){let c=e.length;r??=new Map,i??=new Map,hb(s,e,r),i.set(s,[c,e.length-1])}o===0&&tn(s)&&(n=!0,e.push(s))}for(let o=n?1:0;o<t.length;o++)e.push(t[o]);return[e,r,i]}function hb(t,e,n){if(t.hostDirectives!==null)for(let r of t.hostDirectives)if(typeof r=="function"){let i=r();for(let o of i)DT(Qg(o),e,n)}else DT(r,e,n)}function DT(t,e,n){let r=rl(t.directive);fF(r.declaredInputs,t.inputs),hb(r,e,n),n.set(r,t),e.push(r)}function Qg(t){return typeof t=="function"?{directive:$e(t),inputs:Jt,outputs:Jt}:{directive:$e(t.directive),inputs:TT(t.inputs),outputs:TT(t.outputs)}}function TT(t){if(t===void 0||t.length===0)return Jt;let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function fF(t,e){for(let n in e)if(e.hasOwnProperty(n)){let r=e[n],i=t[n];t[r]=i}}function pF(t,e,n,r,i,o,s,c,u){let l=e.consts,h=Oa(e,t,4,s||null,c||null);ll()&&Am(e,n,h,Wn(l,u),mm),h.mergedAttrs=Lo(h.mergedAttrs,h.attrs),rm(e,h);let p=h.tView=hm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function td(t,e,n,r,i,o,s,c,u,l,h){let p=n+Oe,m=e.firstCreatePass?pF(p,e,t,r,i,o,s,c,l):e.data[p];u&&(m.flags|=u),Pr(m,!1);let y=gF(e,t,m,n);Ea()&&Zl(e,t,y,m),$o(y,t);let b=$C(y,t,y,m);return t[p]=b,pm(t,b),H1(b,m,t),fa(m)&&Ql(e,t,m),l!=null&&gm(t,m,h),m}function fb(t,e,n,r,i,o,s,c){let u=G(),l=we(),h=Wn(l.consts,o);return td(u,l,t,e,n,r,i,h,void 0,s,c),fb}var gF=mF;function mF(t,e,n,r){return Ia(!0),e[Ie].createComment("")}var nd=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(nd||{}),qo=new B(""),pb=!1,Yg=class extends rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,il()&&(this.destroyRef=O(Rt,{optional:!0})??void 0,this.pendingTasks=O(Ni,{optional:!0})??void 0)}emit(e){let n=K(null);try{super.next(e)}finally{K(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},st=Yg;function gb(t){let e,n;function r(){t=Mi;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function CT(t){return queueMicrotask(()=>t()),()=>{t=Mi}}var Om="isAngularZone",Ul=Om+"_ID",yF=0,ve=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new st(!1);onMicrotaskEmpty=new st(!1);onStable=new st(!1);onError=new st(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=pb}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,EF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Om)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new V(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,vF,Mi,Mi);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},vF={};function Fm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _F(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){gb(()=>{t.callbackScheduled=!1,Zg(t),t.isCheckStableRunning=!0,Fm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Zg(t)}function EF(t){let e=()=>{_F(t)},n=yF++;t._inner=t._inner.fork({name:"angular",properties:{[Om]:!0,[Ul]:n,[Ul+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(IF(u))return r.invokeTask(o,s,c,u);try{return bT(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),AT(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return bT(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!wF(u)&&e(),AT(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Zg(t),Fm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Zg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function bT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function AT(t){t._nesting--,Fm(t)}var $l=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new st;onMicrotaskEmpty=new st;onStable=new st;onError=new st;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function IF(t){return mb(t,"__ignore_ng_zone__")}function wF(t){return mb(t,"__scheduler_tick__")}function mb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var rd=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})(),Lm=[0,1,2,3],Vm=(()=>{class t{ngZone=O(ve);scheduler=O(Lt);errorHandler=O(qn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){O(qo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&fe(16),this.executing=!0;for(let r of Lm)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&fe(17)}register(n){let{view:r}=n;r!==void 0?((r[Ti]??=[]).push(n),Mr(r),r[q]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(nd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}return t})(),Pa=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ti];e&&(this.view[Ti]=e.filter(n=>n!==this))}};function yb(t,e){!e?.injector&&$p(yb);let n=e?.injector??O(xe);return jr("NgAfterNextRender"),TF(t,n,e,!0)}function DF(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function TF(t,e,n,r){let i=e.get(rd);i.impl??=e.get(Vm);let o=e.get(qo,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Rt):null,c=e.get(Si,null,{optional:!0}),u=new Pa(i.impl,DF(t),c?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var CF=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var vb=new B(""),_b=new B(""),bF=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,i){this._ngZone=n,this.registry=r,il()&&(this._destroyRef=O(Rt,{optional:!0})??void 0),jm||(Ib(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static \u0275fac=function(r){return new(r||t)(Ae(ve),Ae(Eb),Ae(_b))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),Eb=(()=>{class t{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return jm?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Ib(t){jm=t}var jm;function ji(t){return!!t&&typeof t.then=="function"}function id(t){return!!t&&typeof t.subscribe=="function"}var Bm=new B("");function AF(t){return Vt([{provide:Bm,multi:!0,useValue:t}])}var Um=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=O(Bm,{optional:!0})??[];injector=O(xe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ar(this.injector,i);if(ji(o))n.push(o);else if(id(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wb=new B("");function Db(){dp(()=>{let t="";throw new V(600,t)})}function Tb(t){return t.isBoundToModule}var SF=10;var zo=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O($t);afterRenderManager=O(rd);zonelessEnabled=O(wa);rootEffectScheduler=O(Da);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new rt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=O(Ni);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Et(n=>!n))}constructor(){O(qo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=O(wt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=xe.NULL){return this._injector.get(ve).run(()=>{fe(10);let s=n instanceof ed;if(!this._injector.get(Um).done){let b="";throw new V(405,b)}let u;s?u=n:u=this._injector.get(Fa).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=Tb(u)?void 0:this._injector.get(Oi),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(vb,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Ca(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),fe(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){fe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(nd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,K(n),this.afterTick.next(),fe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ra,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<SF;)fe(14),this.synchronizeOnce(),fe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!ga(i))continue;let o=r&&!this.zonelessEnabled?0:1;Tm(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ga(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ca(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(wb,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ca(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new V(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ca(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function $m(t,e,n,r){let i=G(),o=Ai();if(Ht(i,o,e)){let s=we(),c=_a();AO(c,i,t,e,n,r)}return $m}function NF(t,e,n,r,i,o,s,c){jr("NgControlFlow");let u=G(),l=we(),h=Wn(l.consts,o);return td(u,l,t,e,n,r,i,h,256,s,c),Hm}function Hm(t,e,n,r,i,o,s,c){jr("NgControlFlow");let u=G(),l=we(),h=Wn(l.consts,o);return td(u,l,t,e,n,r,i,h,512,s,c),Hm}function RF(t,e){jr("NgControlFlow");let n=G(),r=Ai(),i=n[r]!==Ze?n[r]:-1,o=i!==-1?ST(n,Oe+i):void 0,s=0;if(Ht(n,r,t)){let c=K(null);try{if(o!==void 0&&s1(o,s),t!==-1){let u=Oe+t,l=ST(n,u),h=MF(n[Y],u),p=p1(l,h,n),m=_m(n,h,e,{dehydratedView:p});bm(l,m,s,kl(h,p))}}finally{K(c)}}else if(o!==void 0){let c=o1(o,s);c!==void 0&&(c[Ye]=e)}}function ST(t,e){return t[e]}function MF(t,e){return pa(t,e)}function Cb(t,e,n){let r=G(),i=Ai();if(Ht(r,i,e)){let o=we(),s=_a();bC(s,r,t,e,r[Ie],n)}return Cb}function Jg(t,e,n,r,i){ym(e,t,n,i?"class":"style",r)}function qm(t,e,n,r){let i=G(),o=we(),s=Oe+t,c=i[Ie],u=o.firstCreatePass?WC(s,o,i,e,mm,ll(),n,r):o.data[s],l=PF(o,i,u,c,e,t);i[s]=l;let h=fa(u);return Pr(u,!0),IC(c,l,u),!Yl(u)&&Ea()&&Zl(o,i,l,u),(RD()===0||h)&&$o(l,i),MD(),h&&(Ql(o,i,u),cm(o,u,i)),r!==null&&gm(i,u),qm}function zm(){let t=qe();dl()?hl():(t=t.parent,Pr(t,!1));let e=t;xD(e)&&kD(),PD();let n=we();return n.firstCreatePass&&KC(n,e),e.classesWithoutHost!=null&&Wx(e)&&Jg(n,e,G(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Kx(e)&&Jg(n,e,G(),e.stylesWithoutHost,!1),zm}function bb(t,e,n,r){return qm(t,e,n,r),zm(),bb}var PF=(t,e,n,r,i,o)=>(Ia(!0),_C(r,i,YD()));function xF(t,e,n,r,i){let o=e.consts,s=Wn(o,r),c=Oa(e,t,8,"ng-container",s);s!==null&&$g(c,s,!0);let u=Wn(o,i);return ll()&&Am(e,n,c,u,mm),c.mergedAttrs=Lo(c.mergedAttrs,c.attrs),e.queries!==null&&e.queries.elementStart(e,c),c}function Gm(t,e,n){let r=G(),i=we(),o=t+Oe,s=i.firstCreatePass?xF(o,i,r,e,n):i.data[o];Pr(s,!0);let c=kF(i,r,s,t);return r[o]=c,Ea()&&Zl(i,r,c,s),$o(c,r),fa(s)&&(Ql(i,r,s),cm(i,s,r)),n!=null&&gm(r,s),Gm}function Wm(){let t=qe(),e=we();return dl()?hl():(t=t.parent,Pr(t,!1)),e.firstCreatePass&&(rm(e,t),sl(t)&&e.queries.elementEnd(t)),Wm}function Ab(t,e,n){return Gm(t,e,n),Wm(),Ab}var kF=(t,e,n,r)=>(Ia(!0),dO(e[Ie],""));function OF(){return G()}function Sb(t,e,n){let r=G(),i=Ai();if(Ht(r,i,e)){let o=we(),s=_a();AC(s,r,t,e,r[Ie],n)}return Sb}var Pi=void 0;function FF(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var LF=["en",[["a","p"],["AM","PM"],Pi],[["AM","PM"],Pi,Pi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pi,"{1} 'at' {0}",Pi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",FF],ba={};function Km(t,e,n){typeof e!="string"&&(n=e,e=t[Se.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ba[e]=t,n&&(ba[e][Se.ExtraData]=n)}function Pt(t){let e=VF(t),n=NT(e);if(n)return n;let r=e.split("-")[0];if(n=NT(r),n)return n;if(r==="en")return LF;throw new V(701,!1)}function NT(t){return t in ba||(ba[t]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[t]),ba[t]}var Se=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Se||{});function VF(t){return t.toLowerCase().replace(/_/g,"-")}var Va="en-US";var jF=Va;function Nb(t){typeof t=="string"&&(jF=t.toLowerCase().replace(/_/g,"-"))}function Bi(t,e,n){let r=G(),i=we(),o=qe();return Rb(i,r,r[Ie],o,t,e,n),Bi}function Rb(t,e,n,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=gg(r,e,o),S1(r,t,e,s,n,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=gg(r,e,o),vT(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=gg(r,e,o),vT(r,e,p,i,i,u)}}function BF(t=1){return WD(t)}function UF(t,e){let n=null,r=nO(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?vC(t,o,!0):oO(r,o))return i}return n}function $F(t){let e=G()[Dt][mt];if(!e.projection){let n=t?t.length:1,r=e.projection=gD(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?UF(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function HF(t,e=0,n,r,i,o){let s=G(),c=we(),u=r?t+1:null;u!==null&&td(s,c,u,r,i,o,null,n);let l=Oa(c,Oe+t,16,null,n||null);l.projection===null&&(l.projection=e),hl();let p=!s[Ro]||Xp();s[Dt][mt].projection[l.projection]===null&&u!==null?qF(s,c,u):p&&!Yl(l)&&qO(c,s,l)}function qF(t,e,n){let r=Oe+n,i=e.data[r],o=t[r],s=jg(o,i.tView.ssrId),c=_m(t,i,void 0,{dehydratedView:s});bm(o,c,0,kl(i,s))}function zF(t,e,n,r){rb(t,e,n,r)}function GF(t,e,n){nb(t,e,n)}function WF(t){let e=G(),n=we(),r=gl();va(r+1);let i=Pm(n,r);if(t.dirty&&CD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=ob(e,r);t.reset(o,QT),t.notifyOnChanges()}return!0}return!1}function KF(){return Mm(G(),gl())}function QF(t,e,n,r,i){ab(e,rb(t,n,r,i))}function YF(t,e,n,r){ab(t,nb(e,n,r))}function ZF(t=1){va(gl()+t)}function JF(t){let e=VD();return al(e,Oe+t)}function wl(t,e){return t<<17|e<<2}function Fi(t){return t>>17&32767}function XF(t){return(t&2)==2}function eL(t,e){return t&131071|e<<17}function Xg(t){return t|2}function jo(t){return(t&131068)>>2}function vg(t,e){return t&-131069|e<<2}function tL(t){return(t&1)===1}function em(t){return t|1}function nL(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Fi(s),u=jo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||So(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Fi(t[c+1]);t[r+1]=wl(m,c),m!==0&&(t[m+1]=vg(t[m+1],r)),t[c+1]=eL(t[c+1],r)}else t[r+1]=wl(c,0),c!==0&&(t[c+1]=vg(t[c+1],r)),c=r;else t[r+1]=wl(u,0),c===0?c=r:t[u+1]=vg(t[u+1],r),u=r;l&&(t[r+1]=Xg(t[r+1])),RT(t,h,r,!0),RT(t,h,r,!1),rL(e,h,t,r,o),s=wl(c,u),o?e.classBindings=s:e.styleBindings=s}function rL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&So(o,e)>=0&&(n[r+1]=em(n[r+1]))}function RT(t,e,n,r){let i=t[n+1],o=e===null,s=r?Fi(i):jo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];iL(u,e)&&(c=!0,t[s+1]=r?em(l):Xg(l)),s=r?Fi(l):jo(l)}c&&(t[n+1]=r?Xg(i):em(i))}function iL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?So(t,e)>=0:!1}var on={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oL(t){return t.substring(on.key,on.keyEnd)}function sL(t){return aL(t),Mb(t,Pb(t,0,on.textEnd))}function Mb(t,e){let n=on.textEnd;return n===e?-1:(e=on.keyEnd=cL(t,on.key=e,n),Pb(t,e,n))}function aL(t){on.key=0,on.keyEnd=0,on.value=0,on.valueEnd=0,on.textEnd=t.length}function Pb(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function cL(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function xb(t,e,n){return kb(t,e,n,!1),xb}function ja(t,e){return kb(t,e,null,!0),ja}function uL(t){dL(yL,lL,t,!0)}function lL(t,e){for(let n=sL(e);n>=0;n=Mb(e,n))tl(t,oL(e),!0)}function kb(t,e,n,r){let i=G(),o=we(),s=ya(2);if(o.firstUpdatePass&&Fb(o,t,s,r),e!==Ze&&Ht(i,s,e)){let c=o.data[wn()];Lb(o,c,i,i[Ie],t,i[s+1]=_L(e,n),r,s)}}function dL(t,e,n,r){let i=we(),o=ya(2);i.firstUpdatePass&&Fb(i,null,o,r);let s=G();if(n!==Ze&&Ht(s,o,n)){let c=i.data[wn()];if(Vb(c,r)&&!Ob(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=Zu(u,n||"")),Jg(i,c,s,n,r)}else vL(i,c,s,s[Ie],s[o+1],s[o+1]=mL(t,e,n),r,o)}}function Ob(t,e){return e>=t.expandoStartIndex}function Fb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[wn()],s=Ob(t,n);Vb(o,r)&&e===null&&!s&&(e=!1),e=hL(i,o,e,r),nL(i,o,e,n,s,r)}}function hL(t,e,n,r){let i=HD(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=_g(null,t,e,n,r),n=xa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=_g(i,t,e,n,r),o===null){let u=fL(t,e,r);u!==void 0&&Array.isArray(u)&&(u=_g(null,t,e,u[1],r),u=xa(u,e.attrs,r),pL(t,e,r,u))}else o=gL(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function fL(t,e,n){let r=n?e.classBindings:e.styleBindings;if(jo(r)!==0)return t[Fi(r)]}function pL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Fi(i)]=r}function gL(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=xa(r,s,n)}return xa(r,e.attrs,n)}function _g(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=xa(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function xa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),tl(t,s,n?!0:e[++o]))}return t===void 0?null:t}function mL(t,e,n){if(n==null||n==="")return it;let r=[],i=Ho(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function yL(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&tl(t,r,n)}function vL(t,e,n,r,i,o,s,c){i===Ze&&(i=it);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,b=null,N;h===p?(u+=2,l+=2,m!==y&&(b=p,N=y)):p===null||h!==null&&h<p?(u+=2,b=h):(l+=2,b=p,N=y),b!==null&&Lb(t,e,n,r,b,N,s,c),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function Lb(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],h=tL(l)?MT(u,e,n,i,jo(l),s):void 0;if(!Hl(h)){Hl(o)||XF(l)&&(o=MT(u,null,n,i,c,s));let p=Gp(wn(),n);GO(r,s,p,i,o)}}function MT(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Ze&&(m=p?it:void 0);let y=p?nl(m,r):h===r?m:void 0;if(l&&!Hl(y)&&(y=nl(u,r)),Hl(y)&&(c=y,s))return c;let b=t[i+1];i=s?Fi(b):jo(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=nl(u,r))}return c}function Hl(t){return t!==void 0}function _L(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=It(Ho(t)))),t}function Vb(t,e){return(t.flags&(e?8:16))!==0}function EL(t,e=""){let n=G(),r=we(),i=t+Oe,o=r.firstCreatePass?Oa(r,i,1,e,null):r.data[i],s=IL(r,n,o,e,t);n[i]=s,Ea()&&Zl(r,n,s,o),Pr(o,!1)}var IL=(t,e,n,r,i)=>(Ia(!0),uO(e[Ie],r));function jb(t,e,n,r=""){return Ht(t,Ai(),n)?e+yn(n)+r:Ze}function wL(t,e,n,r,i,o=""){let s=rg(),c=Rm(t,s,n,i);return ya(2),c?e+yn(n)+r+yn(i)+o:Ze}function DL(t,e,n,r,i,o,s,c=""){let u=rg(),l=A1(t,u,n,i,s);return ya(3),l?e+yn(n)+r+yn(i)+o+yn(s)+c:Ze}function Bb(t){return Qm("",t),Bb}function Qm(t,e,n){let r=G(),i=jb(r,t,e,n);return i!==Ze&&Ym(r,wn(),i),Qm}function Ub(t,e,n,r,i){let o=G(),s=wL(o,t,e,n,r,i);return s!==Ze&&Ym(o,wn(),s),Ub}function $b(t,e,n,r,i,o,s){let c=G(),u=DL(c,t,e,n,r,i,o,s);return u!==Ze&&Ym(c,wn(),u),$b}function Ym(t,e,n){let r=Gp(e,t);lO(t[Ie],r,n)}function Hb(t,e,n){ug(e)&&(e=e());let r=G(),i=Ai();if(Ht(r,i,e)){let o=we(),s=_a();bC(s,r,t,e,r[Ie],n)}return Hb}function TL(t,e){let n=ug(t);return n&&t.set(e),n}function qb(t,e){let n=G(),r=we(),i=qe();return Rb(r,n,n[Ie],i,t,e),qb}function CL(t,e,n=""){return jb(G(),t,e,n)}function bL(t,e,n){let r=we();if(r.firstCreatePass){let i=tn(t);tm(n,r.data,r.blueprint,i,!0),tm(e,r.data,r.blueprint,i,!1)}}function tm(t,e,n,r,i){if(t=$e(t),Array.isArray(t))for(let o=0;o<t.length;o++)tm(t[o],e,n,r,i);else{let o=we(),s=G(),c=qe(),u=vi(t)?t:$e(t.provide),l=Up(t),h=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(vi(t)||!t.multi){let y=new ki(l,i,X),b=Ig(u,e,i?h:h+m,p);b===-1?(Dg(Ml(c,s),o,u),Eg(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(y),s.push(y)):(n[b]=y,s[b]=y)}else{let y=Ig(u,e,h+m,p),b=Ig(u,e,h,h+m),N=y>=0&&n[y],R=b>=0&&n[b];if(i&&!R||!i&&!N){Dg(Ml(c,s),o,u);let k=NL(i?SL:AL,n.length,i,r,l);!i&&R&&(n[b].providerFactory=k),Eg(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=zb(n[i?b:y],l,!i&&r);Eg(o,t,y>-1?y:b,k)}!i&&r&&R&&n[b].componentProviders++}}}function Eg(t,e,n,r){let i=vi(e),o=wD(e);if(i||o){let u=(o?$e(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function zb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ig(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function AL(t,e,n,r){return nm(this.multi,[])}function SL(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=Aa(n,n[Y],this.providerFactory.index,r);o=c.slice(0,s),nm(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],nm(i,o);return o}function nm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function NL(t,e,n,r,i){let o=new ki(t,n,X);return o.multi=[],o.index=e,o.componentProviders=0,zb(o,i,r&&!n),o}function Ur(t,e=[]){return n=>{n.providersResolver=(r,i)=>bL(r,i?i(t):t,e)}}function RL(t,e,n){let r=fl()+t,i=G();return i[r]===Ze?Nm(i,r,n?e.call(n):e()):b1(i,r)}function Gb(t,e){let n=t[e];return n===Ze?void 0:n}function ML(t,e,n,r,i,o){let s=e+n;return Ht(t,s,i)?Nm(t,s+1,o?r.call(o,i):r(i)):Gb(t,s+1)}function PL(t,e,n,r,i,o,s){let c=e+n;return Rm(t,c,i,o)?Nm(t,c+2,s?r.call(s,i,o):r(i,o)):Gb(t,c+2)}function xL(t,e){let n=we(),r,i=t+Oe;n.firstCreatePass?(r=kL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Tr(r.type,!0)),s,c=gt(X);try{let u=Rl(!1),l=o();return Rl(u),Wp(n,G(),i,l),l}finally{gt(c)}}function kL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function OL(t,e,n){let r=t+Oe,i=G(),o=al(i,r);return Wb(i,r)?ML(i,fl(),e,o.transform,n,o):o.transform(n)}function FL(t,e,n,r){let i=t+Oe,o=G(),s=al(o,i);return Wb(o,i)?PL(o,fl(),e,s.transform,n,r,s):s.transform(n,r)}function Wb(t,e){return t[Y].data[e].pure}function LL(t,e){return Xl(t,e)}var ql=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},VL=(()=>{class t{compileModuleSync(n){return new Bl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Lp(n),o=mC(i.declarations).reduce((s,c)=>{let u=vn(c);return u&&s.push(new Lr(u)),s},[]);return new ql(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var jL=(()=>{class t{zone=O(ve);changeDetectionScheduler=O(Lt);applicationRef=O(zo);applicationErrorHandler=O($t);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kb=new B("",{factory:()=>!1});function Zm({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(ce(oe({},Jm()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:br,multi:!0,useFactory:()=>{let r=O(jL,{optional:!0});return()=>r.initialize()}},{provide:br,multi:!0,useFactory:()=>{let r=O(UL);return()=>{r.initialize()}}},e===!0?{provide:lg,useValue:!0}:[],{provide:dg,useValue:n??pb},{provide:$t,useFactory:()=>{let r=O(ve),i=O(wt),o;return s=>{o??=i.get(qn),r.runOutsideAngular(()=>o.handleError(s))}}}]}function BL(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Zm({ngZoneFactory:()=>{let i=Jm(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&jr("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Vt([{provide:Kb,useValue:!0},{provide:wa,useValue:!1},r])}function Jm(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var UL=(()=>{class t{subscription=new ke;initialized=!1;zone=O(ve);pendingTasks=O(Ni);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Qb=(()=>{class t{applicationErrorHandler=O($t);appRef=O(zo);taskService=O(Ni);ngZone=O(ve);zonelessEnabled=O(wa);tracing=O(qo,{optional:!0});disableScheduling=O(lg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ul):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(dg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $l||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?CT:gb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ul+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,CT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $L(){return typeof $localize<"u"&&$localize.locale||Va}var Ba=new B("",{providedIn:"root",factory:()=>O(Ba,{optional:!0,skipSelf:!0})||$L()});function Ct(t){return oD(t)}function Yn(t,e){return ra(t,e?.equal)}var Xm=class{[Ue];constructor(e){this[Ue]=e}destroy(){this[Ue].destroy()}};function Yb(t,e){let n=e?.injector??O(xe),r=e?.manualCleanup!==!0?n.get(Rt):null,i,o=n.get(Si,null,{optional:!0}),s=n.get(Lt);return o!==null?(i=zL(o.view,s,t),r instanceof ca&&r._lView===o.view&&(r=null)):i=GL(t,n.get(Da),s),i.injector=n,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new Xm(i)}var Zb=ce(oe({},wr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Mi,run(){if(this.dirty=!1,this.hasRun&&!gi(this))return;this.hasRun=!0;let t=r=>(this.cleanupFns??=[]).push(r),e=$n(this),n=ko(!1);try{this.maybeCleanup(),this.fn(t)}finally{ko(n),Dr(this,e)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let t=K(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],K(t)}}}),HL=ce(oe({},Zb),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){To(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),qL=ce(oe({},Zb),{consumerMarkedDirty(){this.view[q]|=8192,Mr(this.view),this.notifier.notify(13)},destroy(){To(this),this.onDestroyFn(),this.maybeCleanup(),this.view[Gn]?.delete(this)}});function zL(t,e,n){let r=Object.create(qL);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=n,t[Gn]??=new Set,t[Gn].add(r),r.consumerMarkedDirty(r),r}function GL(t,e,n){let r=Object.create(HL);return r.fn=t,r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}var oA=Symbol("InputSignalNode#UNSET"),nV=ce(oe({},ia),{transformFn:void 0,applyValueToInputSignal(t,e){Co(t,e)}});function sA(t,e){let n=Object.create(nV);n.value=t,n.transformFn=e?.transform;function r(){if(pi(n),n.value===oA){let i=null;throw new V(-950,i)}return n.value}return r[Ue]=n,r}var Jb=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>om(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},rV=new B("");rV.__NG_ELEMENT_ID__=t=>{let e=qe();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new V(204,!1)};function Xb(t,e){return sA(t,e)}function iV(t){return sA(oA,t)}var PJ=(Xb.required=iV,Xb);function eA(t,e){return xm(e)}function oV(t,e){return km(e)}var xJ=(eA.required=oV,eA);function tA(t,e){return xm(e)}function sV(t,e){return km(e)}var kJ=(tA.required=sV,tA);var Ui=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},aA=new Ui("20.0.2");var ty=new B(""),aV=new B("");function Ua(t){return!t.moduleRef}function cV(t){let e=Ua(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{Ua(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get($t),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Ua(t)){let o=()=>e.destroy(),s=t.platformInjector.get(ty);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ty);s.add(o),t.moduleRef.onDestroy(()=>{Ca(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return lV(r,n,()=>{let o=e.get(Um);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Ba,Va);if(Nb(s||Va),!e.get(aV,!0))return Ua(t)?e.get(zo):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ua(t)){let u=e.get(zo);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return uV?.(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}var uV;function lV(t,e,n){try{let r=n();return ji(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var od=null;function dV(t=[],e){return xe.create({name:e,providers:[{provide:Bp,useValue:"platform"},{provide:ty,useValue:new Set([()=>od=null])},...t]})}function hV(t=[]){if(od)return od;let e=dV(t);return od=e,Db(),fV(e),e}function fV(t){let e=t.get(nC,null);Ar(t,()=>{e?.forEach(n=>n())})}function ay(){return!1}var $a=(()=>{class t{static __NG_ELEMENT_ID__=pV}return t})();function pV(t){return gV(qe(),G(),(t&16)===16)}function gV(t,e,n){if(Rr(t)&&!n){let r=Ut(t.index,e);return new Or(r,r)}else if(t.type&175){let r=e[Dt];return new Or(r,e)}return null}var ny=class{constructor(){}supports(e){return Sm(e)}create(e){return new ry(e)}},mV=(t,e)=>e,ry=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||mV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<nA(r,i,o)?n:r,c=nA(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,b=y+m;h<=b&&b<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Sm(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,QC(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new iy(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new sd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new sd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},iy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},oy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},sd=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new oy,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function nA(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function rA(){return new cy([new ny])}var cy=(()=>{class t{factories;static \u0275prov=ae({token:t,providedIn:"root",factory:rA});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||rA()),deps:[[t,new xT,new Tt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new V(901,!1)}}return t})();var OJ=(()=>{class t{constructor(n){}static \u0275fac=function(r){return new(r||t)(Ae(zo))};static \u0275mod=Br({type:t});static \u0275inj=zn({})}return t})();function FJ(t){fe(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=hV(r),o=[Zm({}),{provide:Lt,useExisting:Qb},JD,...n||[]],s=new Ma({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return cV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{fe(9)}}function uy(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function yV(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}var ey=Symbol("NOT_SET"),cA=new Set,vV=ce(oe({},ia),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:ey,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(t){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==ey&&!gi(this))return this.signal;try{for(let i of this.cleanup??cA)i()}finally{this.cleanup?.clear()}let e=[];t!==void 0&&e.push(t),e.push(this.registerCleanupFn);let n=$n(this),r;try{r=this.userFn.apply(null,e)}finally{Dr(this,n)}return(this.value===ey||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),sy=class extends Pa{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,n,r,i,o,s=null){super(e,[void 0,void 0,void 0,void 0],r,!1,o,s),this.scheduler=i;for(let c of Lm){let u=n[c];if(u===void 0)continue;let l=Object.create(vV);l.sequence=this,l.phase=c,l.userFn=u,l.dirty=!0,l.signal=()=>(pi(l),l.value),l.signal[Ue]=l,l.registerCleanupFn=h=>(l.cleanup??=new Set).add(h),this.nodes[c]=l,this.hooks[c]=h=>l.phaseFn(h)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)for(let n of e?.cleanup??cA)n()}};function LJ(t,e){let n=e?.injector??O(xe),r=n.get(Lt),i=n.get(rd),o=n.get(qo,null,{optional:!0});i.impl??=n.get(Vm);let s=t;typeof s=="function"&&(s={mixedReadWrite:t});let c=n.get(Si,null,{optional:!0}),u=new sy(i.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],c?.view,r,n.get(Rt),o?.snapshot(null));return i.impl.register(u),u}function VJ(t,e){let n=vn(t),r=e.elementInjector||No();return new Lr(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function jJ(t){let e=vn(t);if(!e)return null;let n=new Lr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var dA=null;function $i(){return dA}function _V(t){dA??=t}var ly=class{},Ha=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:()=>O(hA),providedIn:"platform"})}return t})(),EV=new B(""),hA=(()=>{class t extends Ha{_location;_history;_doc=O(kr);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $i().getBaseHref(this._doc)}onPopState(n){let r=$i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=$i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function cd(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function uA(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function an(t){return t&&t[0]!=="?"?`?${t}`:t}var Go=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:()=>O(fA),providedIn:"root"})}return t})(),ud=new B(""),fA=(()=>{class t extends Go{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(kr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return cd(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+an(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+an(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+an(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ae(Ha),Ae(ud,8))};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pA=(()=>{class t{_subject=new rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=DV(uA(lA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+an(r))}normalize(n){return t.stripTrailingSlash(wV(this._basePath,lA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+an(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+an(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=an;static joinWithSlash=cd;static stripTrailingSlash=uA;static \u0275fac=function(r){return new(r||t)(Ae(Go))};static \u0275prov=ae({token:t,factory:()=>IV(),providedIn:"root"})}return t})();function IV(){return new pA(Ae(Go))}function wV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function lA(t){return t.replace(/\/index.html$/,"")}function DV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var TV=(()=>{class t extends Go{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=cd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+an(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+an(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ae(Ha),Ae(ud,8))};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})();var at=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(at||{}),pe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(pe||{}),bt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(bt||{}),Jn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function _A(t){return Pt(t)[Se.LocaleId]}function EA(t,e,n){let r=Pt(t),i=[r[Se.DayPeriodsFormat],r[Se.DayPeriodsStandalone]],o=zt(i,e);return zt(o,n)}function IA(t,e,n){let r=Pt(t),i=[r[Se.DaysFormat],r[Se.DaysStandalone]],o=zt(i,e);return zt(o,n)}function wA(t,e,n){let r=Pt(t),i=[r[Se.MonthsFormat],r[Se.MonthsStandalone]],o=zt(i,e);return zt(o,n)}function DA(t,e){let r=Pt(t)[Se.Eras];return zt(r,e)}function qa(t,e){let n=Pt(t);return zt(n[Se.DateFormat],e)}function za(t,e){let n=Pt(t);return zt(n[Se.TimeFormat],e)}function Ga(t,e){let r=Pt(t)[Se.DateTimeFormat];return zt(r,e)}function Wa(t,e){let n=Pt(t),r=n[Se.NumberSymbols][e];if(typeof r>"u"){if(e===Jn.CurrencyDecimal)return n[Se.NumberSymbols][Jn.Decimal];if(e===Jn.CurrencyGroup)return n[Se.NumberSymbols][Jn.Group]}return r}function TA(t){if(!t[Se.ExtraData])throw new V(2303,!1)}function CA(t){let e=Pt(t);return TA(e),(e[Se.ExtraData][2]||[]).map(r=>typeof r=="string"?dy(r):[dy(r[0]),dy(r[1])])}function bA(t,e,n){let r=Pt(t);TA(r);let i=[r[Se.ExtraData][0],r[Se.ExtraData][1]],o=zt(i,e)||[];return zt(o,n)||[]}function zt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new V(2304,!1)}function dy(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var CV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ld={},bV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function AA(t,e,n,r){let i=OV(t);e=Zn(n,e)||e;let s=[],c;for(;e;)if(c=bV.exec(e),c){s=s.concat(c.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=NA(r,u),i=kV(i,r));let l="";return s.forEach(h=>{let p=PV(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function gd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Zn(t,e){let n=_A(t);if(ld[n]??={},ld[n][e])return ld[n][e];let r="";switch(e){case"shortDate":r=qa(t,bt.Short);break;case"mediumDate":r=qa(t,bt.Medium);break;case"longDate":r=qa(t,bt.Long);break;case"fullDate":r=qa(t,bt.Full);break;case"shortTime":r=za(t,bt.Short);break;case"mediumTime":r=za(t,bt.Medium);break;case"longTime":r=za(t,bt.Long);break;case"fullTime":r=za(t,bt.Full);break;case"short":let i=Zn(t,"shortTime"),o=Zn(t,"shortDate");r=dd(Ga(t,bt.Short),[i,o]);break;case"medium":let s=Zn(t,"mediumTime"),c=Zn(t,"mediumDate");r=dd(Ga(t,bt.Medium),[s,c]);break;case"long":let u=Zn(t,"longTime"),l=Zn(t,"longDate");r=dd(Ga(t,bt.Long),[u,l]);break;case"full":let h=Zn(t,"fullTime"),p=Zn(t,"fullDate");r=dd(Ga(t,bt.Full),[h,p]);break}return r&&(ld[n][e]=r),r}function dd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function cn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function AV(t,e){return cn(t,3).substring(0,e)}function Fe(t,e,n=0,r=!1,i=!1){return function(o,s){let c=SV(t,o);if((n>0||c>-n)&&(c+=n),t===3)c===0&&n===-12&&(c=12);else if(t===6)return AV(c,e);let u=Wa(s,Jn.MinusSign);return cn(c,e,u,r,i)}}function SV(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new V(2301,!1)}}function _e(t,e,n=at.Format,r=!1){return function(i,o){return NV(i,o,t,e,n,r)}}function NV(t,e,n,r,i,o){switch(n){case 2:return wA(e,i,r)[t.getMonth()];case 1:return IA(e,i,r)[t.getDay()];case 0:let s=t.getHours(),c=t.getMinutes();if(o){let l=CA(e),h=bA(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,b]=m,N=s>=y.hours&&c>=y.minutes,R=s<b.hours||s===b.hours&&c<b.minutes;if(y.hours<b.hours){if(N&&R)return!0}else if(N||R)return!0}else if(m.hours===s&&m.minutes===c)return!0;return!1});if(p!==-1)return h[p]}return EA(e,i,r)[s<12?0:1];case 3:return DA(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new V(2302,!1)}}function hd(t){return function(e,n,r){let i=-1*r,o=Wa(n,Jn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+cn(s,2,o)+cn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+cn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+cn(s,2,o)+":"+cn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+cn(s,2,o)+":"+cn(Math.abs(i%60),2,o);default:throw new V(2302,!1)}}}var RV=0,pd=4;function MV(t){let e=gd(t,RV,1).getDay();return gd(t,0,1+(e<=pd?pd:pd+7)-e)}function SA(t){let e=t.getDay(),n=e===0?-3:pd-e;return gd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function hy(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=SA(n),s=MV(o.getFullYear()),c=o.getTime()-s.getTime();i=1+Math.round(c/6048e5)}return cn(i,t,Wa(r,Jn.MinusSign))}}function fd(t,e=!1){return function(n,r){let o=SA(n).getFullYear();return cn(o,t,Wa(r,Jn.MinusSign),e)}}var fy={};function PV(t){if(fy[t])return fy[t];let e;switch(t){case"G":case"GG":case"GGG":e=_e(3,pe.Abbreviated);break;case"GGGG":e=_e(3,pe.Wide);break;case"GGGGG":e=_e(3,pe.Narrow);break;case"y":e=Fe(0,1,0,!1,!0);break;case"yy":e=Fe(0,2,0,!0,!0);break;case"yyy":e=Fe(0,3,0,!1,!0);break;case"yyyy":e=Fe(0,4,0,!1,!0);break;case"Y":e=fd(1);break;case"YY":e=fd(2,!0);break;case"YYY":e=fd(3);break;case"YYYY":e=fd(4);break;case"M":case"L":e=Fe(1,1,1);break;case"MM":case"LL":e=Fe(1,2,1);break;case"MMM":e=_e(2,pe.Abbreviated);break;case"MMMM":e=_e(2,pe.Wide);break;case"MMMMM":e=_e(2,pe.Narrow);break;case"LLL":e=_e(2,pe.Abbreviated,at.Standalone);break;case"LLLL":e=_e(2,pe.Wide,at.Standalone);break;case"LLLLL":e=_e(2,pe.Narrow,at.Standalone);break;case"w":e=hy(1);break;case"ww":e=hy(2);break;case"W":e=hy(1,!0);break;case"d":e=Fe(2,1);break;case"dd":e=Fe(2,2);break;case"c":case"cc":e=Fe(7,1);break;case"ccc":e=_e(1,pe.Abbreviated,at.Standalone);break;case"cccc":e=_e(1,pe.Wide,at.Standalone);break;case"ccccc":e=_e(1,pe.Narrow,at.Standalone);break;case"cccccc":e=_e(1,pe.Short,at.Standalone);break;case"E":case"EE":case"EEE":e=_e(1,pe.Abbreviated);break;case"EEEE":e=_e(1,pe.Wide);break;case"EEEEE":e=_e(1,pe.Narrow);break;case"EEEEEE":e=_e(1,pe.Short);break;case"a":case"aa":case"aaa":e=_e(0,pe.Abbreviated);break;case"aaaa":e=_e(0,pe.Wide);break;case"aaaaa":e=_e(0,pe.Narrow);break;case"b":case"bb":case"bbb":e=_e(0,pe.Abbreviated,at.Standalone,!0);break;case"bbbb":e=_e(0,pe.Wide,at.Standalone,!0);break;case"bbbbb":e=_e(0,pe.Narrow,at.Standalone,!0);break;case"B":case"BB":case"BBB":e=_e(0,pe.Abbreviated,at.Format,!0);break;case"BBBB":e=_e(0,pe.Wide,at.Format,!0);break;case"BBBBB":e=_e(0,pe.Narrow,at.Format,!0);break;case"h":e=Fe(3,1,-12);break;case"hh":e=Fe(3,2,-12);break;case"H":e=Fe(3,1);break;case"HH":e=Fe(3,2);break;case"m":e=Fe(4,1);break;case"mm":e=Fe(4,2);break;case"s":e=Fe(5,1);break;case"ss":e=Fe(5,2);break;case"S":e=Fe(6,1);break;case"SS":e=Fe(6,2);break;case"SSS":e=Fe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=hd(0);break;case"ZZZZZ":e=hd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=hd(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=hd(2);break;default:return null}return fy[t]=e,e}function NA(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function xV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function kV(t,e,n){let i=t.getTimezoneOffset(),o=NA(e,i);return xV(t,-1*(o-i))}function OV(t){if(gA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(c=>+c);return gd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(CV))return FV(r)}let e=new Date(t);if(!gA(e))throw new V(2302,!1);return e}function FV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,c=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,c,u,l),e}function gA(t){return t instanceof Date&&!isNaN(t.valueOf())}var py=/\s+/,mA=[],LV=(()=>{class t{_ngEl;_renderer;initialClasses=mA;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(py):mA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(py):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(py).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(X(sn),X(Vi))};static \u0275dir=ze({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var md=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},RA=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new md(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),yA(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);yA(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(X(Vr),X(Fr),X(cy))};static \u0275dir=ze({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function yA(t,e){t.context.$implicit=e.item}var VV=(()=>{class t{_viewContainer;_context=new yd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){vA(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){vA(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(X(Vr),X(Fr))};static \u0275dir=ze({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),yd=class{$implicit=null;ngIf=null};function vA(t,e){if(t&&!t.createEmbeddedView)throw new V(2020,!1)}var jV=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||t)(X(Vr))};static \u0275dir=ze({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Li]})}return t})();function yy(t,e){return new V(2100,!1)}var gy=class{createSubscription(e,n,r){return Ct(()=>e.subscribe({next:n,error:r}))}dispose(e){Ct(()=>e.unsubscribe())}},my=class{createSubscription(e,n,r){return e.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(e){e.unsubscribe()}},BV=new my,UV=new gy,$V=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=O($t);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(ji(n))return BV;if(id(n))return UV;throw yy(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(X($a,16))};static \u0275pipe=La({name:"async",type:t,pure:!1})}return t})();var HV=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,qV=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw yy(t,n);return n.replace(HV,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||t)};static \u0275pipe=La({name:"titlecase",type:t,pure:!0})}return t})();var zV="mediumDate",MA=new B(""),PA=new B(""),GV=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??zV,c=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return AA(n,s,o||this.locale,c)}catch(s){throw yy(t,s.message)}}static \u0275fac=function(r){return new(r||t)(X(Ba,16),X(MA,24),X(PA,24))};static \u0275pipe=La({name:"date",type:t,pure:!0})}return t})();var WV=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Br({type:t});static \u0275inj=zn({})}return t})();function KV(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var vy=class{};function XX(t,e,n){return Km(t,e,n)}var QV="browser",YV="server";function eee(t){return t===QV}function tee(t){return t===YV}var nee=(()=>{class t{static \u0275prov=ae({token:t,providedIn:"root",factory:()=>new _y(O(kr),window)})}return t})(),_y=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(ce(oe({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=ZV(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ce(oe({},n),{left:i-s[0],top:o-s[1]}))}};function ZV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var $A=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(X(Vi),X(sn))};static \u0275dir=ze({type:t})}return t})(),HA=(()=>{class t extends $A{static \u0275fac=(()=>{let n;return function(i){return(n||(n=zl(t)))(i||t)}})();static \u0275dir=ze({type:t,features:[qt]})}return t})(),Sd=new B("");var JV={provide:Sd,useExisting:Zt(()=>qA),multi:!0};function XV(){let t=$i()?$i().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var e2=new B(""),qA=(()=>{class t extends $A{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!XV())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(X(Vi),X(sn),X(e2,8))};static \u0275dir=ze({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Bi("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ur([JV]),qt]})}return t})();function Dy(t){return t==null||Ty(t)===0}function Ty(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Nd=new B(""),Rd=new B(""),t2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,xA=class{static min(e){return n2(e)}static max(e){return r2(e)}static required(e){return i2(e)}static requiredTrue(e){return o2(e)}static email(e){return s2(e)}static minLength(e){return a2(e)}static maxLength(e){return c2(e)}static pattern(e){return u2(e)}static nullValidator(e){return zA()}static compose(e){return ZA(e)}static composeAsync(e){return JA(e)}};function n2(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function r2(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function i2(t){return Dy(t.value)?{required:!0}:null}function o2(t){return t.value===!0?null:{required:!0}}function s2(t){return Dy(t.value)||t2.test(t.value)?null:{email:!0}}function a2(t){return e=>{let n=e.value?.length??Ty(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function c2(t){return e=>{let n=e.value?.length??Ty(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function u2(t){if(!t)return zA;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Dy(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function zA(t){return null}function GA(t){return t!=null}function WA(t){return ji(t)?_t(t):t}function KA(t){let e={};return t.forEach(n=>{e=n!=null?oe(oe({},e),n):e}),Object.keys(e).length===0?null:e}function QA(t,e){return e.map(n=>n(t))}function l2(t){return!t.validate}function YA(t){return t.map(e=>l2(e)?e:n=>e.validate(n))}function ZA(t){if(!t)return null;let e=t.filter(GA);return e.length==0?null:function(n){return KA(QA(n,e))}}function Cy(t){return t!=null?ZA(YA(t)):null}function JA(t){if(!t)return null;let e=t.filter(GA);return e.length==0?null:function(n){let r=QA(n,e).map(WA);return tp(r).pipe(Et(KA))}}function by(t){return t!=null?JA(YA(t)):null}function kA(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function XA(t){return t._rawValidators}function e0(t){return t._rawAsyncValidators}function Ey(t){return t?Array.isArray(t)?t:[t]:[]}function _d(t,e){return Array.isArray(t)?t.includes(e):t===e}function OA(t,e){let n=Ey(e);return Ey(t).forEach(i=>{_d(n,i)||n.push(i)}),n}function FA(t,e){return Ey(e).filter(n=>!_d(t,n))}var Ed=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Cy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=by(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Xn=class extends Ed{name;get formDirective(){return null}get path(){return null}},Hi=class extends Ed{_parent=null;name=null;valueAccessor=null},Id=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},d2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Tee=ce(oe({},d2),{"[class.ng-submitted]":"isSubmitted"}),Cee=(()=>{class t extends Id{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(X(Hi,2))};static \u0275dir=ze({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ja("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[qt]})}return t})(),bee=(()=>{class t extends Id{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(X(Xn,10))};static \u0275dir=ze({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ja("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[qt]})}return t})();var Ka="VALID",vd="INVALID",Wo="PENDING",Qa="DISABLED",$r=class{},wd=class extends $r{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Za=class extends $r{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Ja=class extends $r{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Ko=class extends $r{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Dd=class extends $r{source;constructor(e){super(),this.source=e}},Td=class extends $r{source;constructor(e){super(),this.source=e}};function Ay(t){return(Md(t)?t.validators:t)||null}function h2(t){return Array.isArray(t)?Cy(t):t||null}function Sy(t,e){return(Md(e)?e.asyncValidators:t)||null}function f2(t){return Array.isArray(t)?by(t):t||null}function Md(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function t0(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[n])throw new V(1001,"")}function n0(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new V(1002,"")})}var Qo=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Ct(this.statusReactive)}set status(e){Ct(()=>this.statusReactive.set(e))}_status=Yn(()=>this.statusReactive());statusReactive=Mt(void 0);get valid(){return this.status===Ka}get invalid(){return this.status===vd}get pending(){return this.status==Wo}get disabled(){return this.status===Qa}get enabled(){return this.status!==Qa}errors;get pristine(){return Ct(this.pristineReactive)}set pristine(e){Ct(()=>this.pristineReactive.set(e))}_pristine=Yn(()=>this.pristineReactive());pristineReactive=Mt(!0);get dirty(){return!this.pristine}get touched(){return Ct(this.touchedReactive)}set touched(e){Ct(()=>this.touchedReactive.set(e))}_touched=Yn(()=>this.touchedReactive());touchedReactive=Mt(!1);get untouched(){return!this.touched}_events=new rt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(OA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(OA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FA(e,this._rawAsyncValidators))}hasValidator(e){return _d(this._rawValidators,e)}hasAsyncValidator(e){return _d(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(oe({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ja(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ja(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(oe({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Za(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Za(!0,r))}markAsPending(e={}){this.status=Wo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ko(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(oe({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Qa,this.errors=null,this._forEachChild(i=>{i.disable(ce(oe({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wd(this.value,r)),this._events.next(new Ko(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(oe({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ka,this._forEachChild(r=>{r.enable(ce(oe({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(oe({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ka||this.status===Wo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wd(this.value,n)),this._events.next(new Ko(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(oe({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qa:Ka}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Wo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=WA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ko(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new st,this.statusChanges=new st}_calculateStatus(){return this._allControlsDisabled()?Qa:this.errors?vd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wo)?Wo:this._anyControlsHaveStatus(vd)?vd:Ka}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Za(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ja(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Md(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=h2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=f2(this._rawAsyncValidators)}},Yo=class extends Qo{constructor(e,n,r){super(Ay(n),Sy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){n0(this,!0,e),Object.keys(e).forEach(r=>{t0(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Iy=class extends Yo{};var ec=new B("",{providedIn:"root",factory:()=>Pd}),Pd="always";function r0(t,e){return[...e.path,t]}function Cd(t,e,n=Pd){Ny(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),g2(t,e),y2(t,e),m2(t,e),p2(t,e)}function LA(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ad(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function bd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function p2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Ny(t,e){let n=XA(t);e.validator!==null?t.setValidators(kA(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=e0(t);e.asyncValidator!==null?t.setAsyncValidators(kA(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();bd(e._rawValidators,i),bd(e._rawAsyncValidators,i)}function Ad(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=XA(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=e0(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return bd(e._rawValidators,r),bd(e._rawAsyncValidators,r),n}function g2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&i0(t,e)})}function m2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&i0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function i0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function y2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function o0(t,e){t==null,Ny(t,e)}function v2(t,e){return Ad(t,e)}function s0(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function _2(t){return Object.getPrototypeOf(t.constructor)===HA}function a0(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function c0(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===qA?n=o:_2(o)?r=o:i=o}),i||r||n||null}function E2(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var I2={provide:Xn,useExisting:Zt(()=>w2)},Ya=Promise.resolve(),w2=(()=>{class t extends Xn{callSetDisabledState;get submitted(){return Ct(this.submittedReactive)}_submitted=Yn(()=>this.submittedReactive());submittedReactive=Mt(!1);_directives=new Set;form;ngSubmit=new st;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Yo({},Cy(n),by(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ya.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Cd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ya.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ya.then(()=>{let r=this._findContainer(n.path),i=new Yo({});o0(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ya.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ya.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),a0(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Dd(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new Td(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(X(Nd,10),X(Rd,10),X(ec,8))};static \u0275dir=ze({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Bi("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ur([I2]),qt]})}return t})();function VA(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jA(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Xa=class extends Qo{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(Ay(n),Sy(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Md(n)&&(n.nonNullable||n.initialValueIsDefault)&&(jA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){jA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var D2=t=>t instanceof Xa;var T2={provide:Hi,useExisting:Zt(()=>C2)},BA=Promise.resolve(),C2=(()=>{class t extends Hi{_changeDetectorRef;callSetDisabledState;control=new Xa;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new st;constructor(n,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=c0(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),s0(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Cd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){BA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&uy(r);BA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?r0(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(X(Xn,9),X(Nd,10),X(Rd,10),X(Sd,10),X($a,8),X(ec,8))};static \u0275dir=ze({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ur([T2]),qt,Li]})}return t})();var See=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=ze({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),b2={provide:Sd,useExisting:Zt(()=>A2),multi:!0},A2=(()=>{class t extends HA{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=zl(t)))(i||t)}})();static \u0275dir=ze({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Bi("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Ur([b2]),qt]})}return t})();var u0=new B("");var S2={provide:Xn,useExisting:Zt(()=>N2)},N2=(()=>{class t extends Xn{callSetDisabledState;get submitted(){return Ct(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Yn(()=>this._submittedReactive());_submittedReactive=Mt(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new st;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ad(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Cd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){LA(n.control||null,n,!1),E2(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),a0(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Dd(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new Td(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(LA(r||null,n),D2(i)&&(Cd(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);o0(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&v2(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ny(this.form,this),this._oldForm&&Ad(this._oldForm,this)}static \u0275fac=function(r){return new(r||t)(X(Nd,10),X(Rd,10),X(ec,8))};static \u0275dir=ze({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Bi("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ur([S2]),qt,Li]})}return t})();var R2={provide:Hi,useExisting:Zt(()=>M2)},M2=(()=>{class t extends Hi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new st;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=c0(this,o)}ngOnChanges(n){this._added||this._setUpControl(),s0(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return r0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||t)(X(Xn,13),X(Nd,10),X(Rd,10),X(Sd,10),X(u0,8))};static \u0275dir=ze({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ur([R2]),qt,Li]})}return t})();var l0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Br({type:t});static \u0275inj=zn({})}return t})(),wy=class extends Qo{constructor(e,n,r){super(Ay(n),Sy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){n0(this,!1,e),e.forEach((r,i)=>{t0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function UA(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Nee=(()=>{class t{useNonNullable=!1;get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return UA(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Yo(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Iy(i,r)}control(n,r,i){let o={};return this.useNonNullable?(UA(r)?o=r:(o.validators=r,o.asyncValidators=i),new Xa(n,ce(oe({},o),{nonNullable:!0}))):new Xa(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new wy(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Xa)return n;if(n instanceof Qo)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ree=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ec,useValue:n.callSetDisabledState??Pd}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Br({type:t});static \u0275inj=zn({imports:[l0]})}return t})(),Mee=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:u0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ec,useValue:n.callSetDisabledState??Pd}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Br({type:t});static \u0275inj=zn({imports:[l0]})}return t})();var d0=()=>{};var p0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},P2=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},xd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):P2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new My;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},My=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},x2=function(t){let e=p0(t);return xd.encodeByteArray(e,!0)},nc=function(t){return x2(t).replace(/\./g,"")},kd=function(t){try{return xd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var k2=()=>xy().__FIREBASE_DEFAULTS__,O2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},F2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&kd(t[1]);return e&&JSON.parse(e)},Od=()=>{try{return d0()||k2()||O2()||F2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ky=t=>{var e,n;return(n=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},g0=t=>{let e=ky(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Oy=()=>{var t;return(t=Od())===null||t===void 0?void 0:t.config},Fy=t=>{var e;return(e=Od())===null||e===void 0?void 0:e[`_${t}`]};var qi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function zi(t){return t.endsWith(".cloudworkstations.dev")}function Fd(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function m0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nc(JSON.stringify(n)),nc(JSON.stringify(s)),""].join(".")}var tc={};function L2(){let t={prod:[],emulator:[]};for(let e of Object.keys(tc))tc[e]?t.emulator.push(e):t.prod.push(e);return t}function V2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var h0=!1;function Ld(t,e){if(typeof window>"u"||typeof document>"u"||!zi(window.location.host)||tc[t]===e||tc[t]||h0)return;tc[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=L2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{h0=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=V2(r),y=n("text"),b=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),k=n("preprendIcon"),H=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let ne=m.element;c(ne),h(R,N);let ge=l();u(H,k),ne.append(H,b,R,ge),document.body.appendChild(ne)}o?(b.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function j2(){var t;let e=(t=Od())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function E0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function I0(){let t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w0(){return!j2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rc(){try{return typeof indexedDB=="object"}catch{return!1}}function D0(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var B2="FirebaseError",xt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=B2,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,un.prototype.create)}},un=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?U2(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new xt(i,c,r)}};function U2(t,e){return t.replace($2,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var $2=/\{\$([^}]+)}/g;function T0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(f0(o)&&f0(s)){if(!Tn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function f0(t){return t!==null&&typeof t=="object"}function ic(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Jo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function C0(t,e){let n=new Py(t,e);return n.subscribe.bind(n)}var Py=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");H2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ry),i.error===void 0&&(i.error=Ry),i.complete===void 0&&(i.complete=Ry);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function H2(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ry(){}var Fee=4*60*60*1e3;function Ce(t){return t&&t._delegate?t._delegate:t}var yt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Gi="[DEFAULT]";var Ly=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new qi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z2(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:q2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function q2(t){return t===Gi?void 0:t}function z2(t){return t.instantiationMode==="EAGER"}var Vd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ly(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var G2=[],ie=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ie||{}),W2={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},K2=ie.INFO,Q2={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Y2=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Q2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Cn=class{constructor(e){this.name=e,this._logLevel=K2,this._logHandler=Y2,this._userLogHandler=null,G2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}};var Z2=(t,e)=>e.some(n=>t instanceof n),b0,A0;function J2(){return b0||(b0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X2(){return A0||(A0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var S0=new WeakMap,jy=new WeakMap,N0=new WeakMap,Vy=new WeakMap,Uy=new WeakMap;function ej(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(bn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&S0.set(n,t)}).catch(()=>{}),Uy.set(e,t),e}function tj(t){if(jy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});jy.set(t,e)}var By={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||N0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R0(t){By=t(By)}function nj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(jd(this),e,...n);return N0.set(r,e.sort?e.sort():[e]),bn(r)}:X2().includes(t)?function(...e){return t.apply(jd(this),e),bn(S0.get(this))}:function(...e){return bn(t.apply(jd(this),e))}}function rj(t){return typeof t=="function"?nj(t):(t instanceof IDBTransaction&&tj(t),Z2(t,J2())?new Proxy(t,By):t)}function bn(t){if(t instanceof IDBRequest)return ej(t);if(Vy.has(t))return Vy.get(t);let e=rj(t);return e!==t&&(Vy.set(t,e),Uy.set(e,t)),e}var jd=t=>Uy.get(t);function P0(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=bn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(bn(s.result),u.oldVersion,u.newVersion,bn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var ij=["get","getKey","getAll","getAllKeys","count"],oj=["put","add","delete","clear"],$y=new Map;function M0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($y.get(e))return $y.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=oj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ij.includes(n)))return;let o=function(s,...c){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return $y.set(e,o),o}R0(t=>ce(oe({},t),{get:(e,n,r)=>M0(e,n)||t.get(e,n,r),has:(e,n)=>!!M0(e,n)||t.has(e,n)}));var qy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function sj(t){let e=t.getComponent();return e?.type==="VERSION"}var zy="@firebase/app",x0="0.13.1";var er=new Cn("@firebase/app"),aj="@firebase/app-compat",cj="@firebase/analytics-compat",uj="@firebase/analytics",lj="@firebase/app-check-compat",dj="@firebase/app-check",hj="@firebase/auth",fj="@firebase/auth-compat",pj="@firebase/database",gj="@firebase/data-connect",mj="@firebase/database-compat",yj="@firebase/functions",vj="@firebase/functions-compat",_j="@firebase/installations",Ej="@firebase/installations-compat",Ij="@firebase/messaging",wj="@firebase/messaging-compat",Dj="@firebase/performance",Tj="@firebase/performance-compat",Cj="@firebase/remote-config",bj="@firebase/remote-config-compat",Aj="@firebase/storage",Sj="@firebase/storage-compat",Nj="@firebase/firestore",Rj="@firebase/ai",Mj="@firebase/firestore-compat",Pj="firebase",xj="11.9.0";var Gy="[DEFAULT]",kj={[zy]:"fire-core",[aj]:"fire-core-compat",[uj]:"fire-analytics",[cj]:"fire-analytics-compat",[dj]:"fire-app-check",[lj]:"fire-app-check-compat",[hj]:"fire-auth",[fj]:"fire-auth-compat",[pj]:"fire-rtdb",[gj]:"fire-data-connect",[mj]:"fire-rtdb-compat",[yj]:"fire-fn",[vj]:"fire-fn-compat",[_j]:"fire-iid",[Ej]:"fire-iid-compat",[Ij]:"fire-fcm",[wj]:"fire-fcm-compat",[Dj]:"fire-perf",[Tj]:"fire-perf-compat",[Cj]:"fire-rc",[bj]:"fire-rc-compat",[Aj]:"fire-gcs",[Sj]:"fire-gcs-compat",[Nj]:"fire-fst",[Mj]:"fire-fst-compat",[Rj]:"fire-vertex","fire-js":"fire-js",[Pj]:"fire-js-all"};var oc=new Map,Oj=new Map,Wy=new Map;function k0(t,e){try{t.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ln(t){let e=t.name;if(Wy.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;Wy.set(e,t);for(let n of oc.values())k0(n,t);for(let n of Oj.values())k0(n,t);return!0}function Xo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function At(t){return t==null?!1:t.settings!==void 0}var Fj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new un("app","Firebase",Fj);var Ky=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}};var qr=xj;function Zy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Gy,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Hr.create("bad-app-name",{appName:String(i)});if(n||(n=Oy()),!n)throw Hr.create("no-options");let o=oc.get(i);if(o){if(Tn(n,o.options)&&Tn(r,o.config))return o;throw Hr.create("duplicate-app",{appName:i})}let s=new Vd(i);for(let u of Wy.values())s.addComponent(u);let c=new Ky(n,r,s);return oc.set(i,c),c}function Wi(t=Gy){let e=oc.get(t);if(!e&&t===Gy&&Oy())return Zy();if(!e)throw Hr.create("no-app",{appName:t});return e}function Bd(){return Array.from(oc.values())}function Me(t,e,n){var r;let i=(r=kj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(c.join(" "));return}ln(new yt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Lj="firebase-heartbeat-database",Vj=1,sc="firebase-heartbeat-store",Hy=null;function V0(){return Hy||(Hy=P0(Lj,Vj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),Hy}function jj(t){return _(this,null,function*(){try{let n=(yield V0()).transaction(sc),r=yield n.objectStore(sc).get(j0(t));return yield n.done,r}catch(e){if(e instanceof xt)er.warn(e.message);else{let n=Hr.create("idb-get",{originalErrorMessage:e?.message});er.warn(n.message)}}})}function O0(t,e){return _(this,null,function*(){try{let r=(yield V0()).transaction(sc,"readwrite");yield r.objectStore(sc).put(e,j0(t)),yield r.done}catch(n){if(n instanceof xt)er.warn(n.message);else{let r=Hr.create("idb-set",{originalErrorMessage:n?.message});er.warn(r.message)}}})}function j0(t){return`${t.name}!${t.options.appId}`}var Bj=1024,Uj=30,Qy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Yy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=F0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Uj){let s=Hj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){er.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=F0(),{heartbeatsToSend:r,unsentEntries:i}=$j(this._heartbeatsCache.heartbeats),o=nc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return er.warn(n),""}})}};function F0(){return new Date().toISOString().substring(0,10)}function $j(t,e=Bj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),L0(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),L0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Yy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return rc()?D0().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield jj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return O0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return O0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function L0(t){return nc(JSON.stringify({version:2,heartbeats:t})).length}function Hj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function qj(t){ln(new yt("platform-logger",e=>new qy(e),"PRIVATE")),ln(new yt("heartbeat",e=>new Qy(e),"PRIVATE")),Me(zy,x0,t),Me(zy,x0,"esm2017"),Me("fire-js","")}qj("");var B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U0={};var tr,Jy;(function(){var t;function e(D,v){function I(){}I.prototype=v.prototype,D.D=v.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(w,T,A){for(var E=Array(arguments.length-2),Ln=2;Ln<arguments.length;Ln++)E[Ln-2]=arguments[Ln];return v.prototype[T].apply(w,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)w[T]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(T=0;16>T;++T)w[T]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=D.g[0],I=D.g[1],T=D.g[2];var A=D.g[3],E=v+(A^I&(T^A))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=A+(T^v&(I^T))+w[1]+3905402710&4294967295,A=v+(E<<12&4294967295|E>>>20),E=T+(I^A&(v^I))+w[2]+606105819&4294967295,T=A+(E<<17&4294967295|E>>>15),E=I+(v^T&(A^v))+w[3]+3250441966&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(A^I&(T^A))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(T^v&(I^T))+w[5]+1200080426&4294967295,A=v+(E<<12&4294967295|E>>>20),E=T+(I^A&(v^I))+w[6]+2821735955&4294967295,T=A+(E<<17&4294967295|E>>>15),E=I+(v^T&(A^v))+w[7]+4249261313&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(A^I&(T^A))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(T^v&(I^T))+w[9]+2336552879&4294967295,A=v+(E<<12&4294967295|E>>>20),E=T+(I^A&(v^I))+w[10]+4294925233&4294967295,T=A+(E<<17&4294967295|E>>>15),E=I+(v^T&(A^v))+w[11]+2304563134&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(A^I&(T^A))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=A+(T^v&(I^T))+w[13]+4254626195&4294967295,A=v+(E<<12&4294967295|E>>>20),E=T+(I^A&(v^I))+w[14]+2792965006&4294967295,T=A+(E<<17&4294967295|E>>>15),E=I+(v^T&(A^v))+w[15]+1236535329&4294967295,I=T+(E<<22&4294967295|E>>>10),E=v+(T^A&(I^T))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^T&(v^I))+w[6]+3225465664&4294967295,A=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(A^v))+w[11]+643717713&4294967295,T=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(T^A))+w[0]+3921069994&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^A&(I^T))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^T&(v^I))+w[10]+38016083&4294967295,A=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(A^v))+w[15]+3634488961&4294967295,T=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(T^A))+w[4]+3889429448&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^A&(I^T))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^T&(v^I))+w[14]+3275163606&4294967295,A=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(A^v))+w[3]+4107603335&4294967295,T=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(T^A))+w[8]+1163531501&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(T^A&(I^T))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=A+(I^T&(v^I))+w[2]+4243563512&4294967295,A=v+(E<<9&4294967295|E>>>23),E=T+(v^I&(A^v))+w[7]+1735328473&4294967295,T=A+(E<<14&4294967295|E>>>18),E=I+(A^v&(T^A))+w[12]+2368359562&4294967295,I=T+(E<<20&4294967295|E>>>12),E=v+(I^T^A)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^T)+w[8]+2272392833&4294967295,A=v+(E<<11&4294967295|E>>>21),E=T+(A^v^I)+w[11]+1839030562&4294967295,T=A+(E<<16&4294967295|E>>>16),E=I+(T^A^v)+w[14]+4259657740&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^A)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^T)+w[4]+1272893353&4294967295,A=v+(E<<11&4294967295|E>>>21),E=T+(A^v^I)+w[7]+4139469664&4294967295,T=A+(E<<16&4294967295|E>>>16),E=I+(T^A^v)+w[10]+3200236656&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^A)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^T)+w[0]+3936430074&4294967295,A=v+(E<<11&4294967295|E>>>21),E=T+(A^v^I)+w[3]+3572445317&4294967295,T=A+(E<<16&4294967295|E>>>16),E=I+(T^A^v)+w[6]+76029189&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(I^T^A)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=A+(v^I^T)+w[12]+3873151461&4294967295,A=v+(E<<11&4294967295|E>>>21),E=T+(A^v^I)+w[15]+530742520&4294967295,T=A+(E<<16&4294967295|E>>>16),E=I+(T^A^v)+w[2]+3299628645&4294967295,I=T+(E<<23&4294967295|E>>>9),E=v+(T^(I|~A))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~T))+w[7]+1126891415&4294967295,A=v+(E<<10&4294967295|E>>>22),E=T+(v^(A|~I))+w[14]+2878612391&4294967295,T=A+(E<<15&4294967295|E>>>17),E=I+(A^(T|~v))+w[5]+4237533241&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~A))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~T))+w[3]+2399980690&4294967295,A=v+(E<<10&4294967295|E>>>22),E=T+(v^(A|~I))+w[10]+4293915773&4294967295,T=A+(E<<15&4294967295|E>>>17),E=I+(A^(T|~v))+w[1]+2240044497&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~A))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~T))+w[15]+4264355552&4294967295,A=v+(E<<10&4294967295|E>>>22),E=T+(v^(A|~I))+w[6]+2734768916&4294967295,T=A+(E<<15&4294967295|E>>>17),E=I+(A^(T|~v))+w[13]+1309151649&4294967295,I=T+(E<<21&4294967295|E>>>11),E=v+(T^(I|~A))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=A+(I^(v|~T))+w[11]+3174756917&4294967295,A=v+(E<<10&4294967295|E>>>22),E=T+(v^(A|~I))+w[2]+718787259&4294967295,T=A+(E<<15&4294967295|E>>>17),E=I+(A^(T|~v))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var I=v-this.blockSize,w=this.B,T=this.h,A=0;A<v;){if(T==0)for(;A<=I;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<v;)if(w[T++]=D.charCodeAt(A++),T==this.blockSize){i(this,w),T=0;break}}else for(;A<v;)if(w[T++]=D[A++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var I=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=I&255,I/=256;for(this.u(D),D=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)D[I++]=this.g[v]>>>w&255;return D};function o(D,v){var I=c;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=v(D)}function s(D,v){this.h=v;for(var I=[],w=!0,T=D.length-1;0<=T;T--){var A=D[T]|0;w&&A==v||(I[T]=A,w=!1)}this.g=I}var c={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return R(l(-D));for(var v=[],I=1,w=0;D>=I;w++)v[w]=D/I|0,I*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return R(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,T=0;T<D.length;T+=8){var A=Math.min(8,D.length-T),E=parseInt(D.substring(T,T+A),v);8>A?(A=l(Math.pow(v,A)),w=w.j(A).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var D=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);D+=(0<=w?w:4294967296+w)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(b(this))return"0";if(N(this))return"-"+R(this).toString(D);for(var v=l(Math.pow(D,6)),I=this,w="";;){var T=ge(I,v).g;I=k(I,T.j(v));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=T,b(I))return A+w;for(;6>A.length;)A="0"+A;w=A+w}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function b(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=k(this,D),N(D)?-1:b(D)?0:1};function R(D){for(var v=D.g.length,I=[],w=0;w<v;w++)I[w]=~D.g[w];return new s(I,~D.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0,T=0;T<=v;T++){var A=w+(this.i(T)&65535)+(D.i(T)&65535),E=(A>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);w=E>>>16,A&=65535,E&=65535,I[T]=E<<16|A}return new s(I,I[I.length-1]&-2147483648?-1:0)};function k(D,v){return D.add(R(v))}t.j=function(D){if(b(this)||b(D))return p;if(N(this))return N(D)?R(this).j(R(D)):R(R(this).j(D));if(N(D))return R(this.j(R(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<D.g.length;T++){var A=this.i(w)>>>16,E=this.i(w)&65535,Ln=D.i(T)>>>16,Ns=D.i(T)&65535;I[2*w+2*T]+=E*Ns,H(I,2*w+2*T),I[2*w+2*T+1]+=A*Ns,H(I,2*w+2*T+1),I[2*w+2*T+1]+=E*Ln,H(I,2*w+2*T+1),I[2*w+2*T+2]+=A*Ln,H(I,2*w+2*T+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function H(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function ne(D,v){this.g=D,this.h=v}function ge(D,v){if(b(v))throw Error("division by zero");if(b(D))return new ne(p,p);if(N(D))return v=ge(R(D),v),new ne(R(v.g),R(v.h));if(N(v))return v=ge(D,R(v)),new ne(R(v.g),v.h);if(30<D.g.length){if(N(D)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,w=v;0>=w.l(D);)I=dt(I),w=dt(w);var T=he(I,1),A=he(w,1);for(w=he(w,2),I=he(I,2);!b(w);){var E=A.add(w);0>=E.l(D)&&(T=T.add(I),A=E),w=he(w,1),I=he(I,1)}return v=k(D,T.j(v)),new ne(T,v)}for(T=p;0<=D.l(v);){for(I=Math.max(1,Math.floor(D.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),A=l(I),E=A.j(v);N(E)||0<E.l(D);)I-=w,A=l(I),E=A.j(v);b(A)&&(A=m),T=T.add(A),D=k(D,E)}return new ne(T,D)}t.A=function(D){return ge(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&D.i(w);return new s(I,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|D.i(w);return new s(I,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^D.i(w);return new s(I,this.h^D.h)};function dt(D){for(var v=D.g.length+1,I=[],w=0;w<v;w++)I[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(I,D.h)}function he(D,v){var I=v>>5;v%=32;for(var w=D.g.length-I,T=[],A=0;A<w;A++)T[A]=0<v?D.i(A+I)>>>v|D.i(A+I+1)<<32-v:D.i(A+I);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Jy=U0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,tr=U0.Integer=s}).apply(typeof B0<"u"?B0:typeof self<"u"?self:typeof window<"u"?window:{});var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nr={};var Xy,zj,es,ev,ac,$d,tv,nv,rv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ud=="object"&&Ud];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var C=a[g];if(!(C in f))break e;f=f[C]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,C={next:function(){if(!g&&f<a.length){var S=f++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function m(a,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function b(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,C,S){for(var x=Array(arguments.length-2),me=2;me<arguments.length;me++)x[me-2]=arguments[me];return d.prototype[C].apply(g,x)}}function N(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function R(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=a.length||0,S=g.length||0;a.length=C+S;for(let x=0;x<S;x++)a[C+x]=g[x]}else a.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(a){return/^[\s\xa0]*$/.test(a)}function ne(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ge(a){return ge[" "](a),a}ge[" "]=function(){};var dt=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function he(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function D(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function v(a){let d={};for(let f in a)d[f]=a[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)a[f]=g[f];for(let S=0;S<I.length;S++)f=I[S],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function T(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function A(a){c.setTimeout(()=>{throw a},0)}function E(){var a=mf;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Ln{constructor(){this.h=this.g=null}add(d,f){let g=Ns.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ns=new k(()=>new PM,a=>a.reset());class PM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Rs,Ms=!1,mf=new Ln,yI=()=>{let a=c.Promise.resolve(void 0);Rs=()=>{a.then(xM)}};var xM=()=>{for(var a;a=E();){try{a.h.call(a.g)}catch(f){A(f)}var d=Ns;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ms=!1};function fr(){this.s=this.s,this.C=this.C}fr.prototype.s=!1,fr.prototype.ma=function(){this.s||(this.s=!0,this.N())},fr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var kM=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function Ps(a,d){if(Xe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(dt){e:{try{ge(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:OM[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ps.aa.h.call(this)}}b(Ps,Xe);var OM={2:"touch",3:"pen",4:"mouse"};Ps.prototype.h=function(){Ps.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var xs="closure_listenable_"+(1e6*Math.random()|0),FM=0;function LM(a,d,f,g,C){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++FM,this.da=this.fa=!1}function Wc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Kc(a){this.src=a,this.g={},this.h=0}Kc.prototype.add=function(a,d,f,g,C){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var x=vf(a,d,g,C);return-1<x?(d=a[x],f||(d.fa=!1)):(d=new LM(d,this.src,S,!!g,C),d.fa=f,a.push(d)),d};function yf(a,d){var f=d.type;if(f in a.g){var g=a.g[f],C=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(g,C,1),S&&(Wc(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function vf(a,d,f,g){for(var C=0;C<a.length;++C){var S=a[C];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return C}return-1}var _f="closure_lm_"+(1e6*Math.random()|0),Ef={};function vI(a,d,f,g,C){if(g&&g.once)return EI(a,d,f,g,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)vI(a,d[S],f,g,C);return null}return f=Tf(f),a&&a[xs]?a.K(d,f,l(g)?!!g.capture:!!g,C):_I(a,d,f,!1,g,C)}function _I(a,d,f,g,C,S){if(!d)throw Error("Invalid event type");var x=l(C)?!!C.capture:!!C,me=wf(a);if(me||(a[_f]=me=new Kc(a)),f=me.add(d,f,g,x,S),f.proxy)return f;if(g=VM(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)kM||(C=x),C===void 0&&(C=!1),a.addEventListener(d.toString(),g,C);else if(a.attachEvent)a.attachEvent(wI(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function VM(){function a(f){return d.call(a.src,a.listener,f)}let d=jM;return a}function EI(a,d,f,g,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)EI(a,d[S],f,g,C);return null}return f=Tf(f),a&&a[xs]?a.L(d,f,l(g)?!!g.capture:!!g,C):_I(a,d,f,!0,g,C)}function II(a,d,f,g,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)II(a,d[S],f,g,C);else g=l(g)?!!g.capture:!!g,f=Tf(f),a&&a[xs]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],f=vf(S,f,g,C),-1<f&&(Wc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=wf(a))&&(d=a.g[d.toString()],a=-1,d&&(a=vf(d,f,g,C)),(f=-1<a?d[a]:null)&&If(f))}function If(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[xs])yf(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(wI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=wf(d))?(yf(f,a),f.h==0&&(f.src=null,d[_f]=null)):Wc(a)}}}function wI(a){return a in Ef?Ef[a]:Ef[a]="on"+a}function jM(a,d){if(a.da)a=!0;else{d=new Ps(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&If(a),a=f.call(g,d)}return a}function wf(a){return a=a[_f],a instanceof Kc?a:null}var Df="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tf(a){return typeof a=="function"?a:(a[Df]||(a[Df]=function(d){return a.handleEvent(d)}),a[Df])}function et(){fr.call(this),this.i=new Kc(this),this.M=this,this.F=null}b(et,fr),et.prototype[xs]=!0,et.prototype.removeEventListener=function(a,d,f,g){II(this,a,d,f,g)};function ht(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new Xe(d,a);else if(d instanceof Xe)d.target=d.target||a;else{var C=d;d=new Xe(g,a),w(d,C)}if(C=!0,f)for(var S=f.length-1;0<=S;S--){var x=d.g=f[S];C=Qc(x,g,!0,d)&&C}if(x=d.g=a,C=Qc(x,g,!0,d)&&C,C=Qc(x,g,!1,d)&&C,f)for(S=0;S<f.length;S++)x=d.g=f[S],C=Qc(x,g,!1,d)&&C}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)Wc(f[g]);delete a.g[d],a.h--}}this.F=null},et.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},et.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function Qc(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var x=d[S];if(x&&!x.da&&x.capture==f){var me=x.listener,Qe=x.ha||x.src;x.fa&&yf(a.i,x),C=me.call(Qe,g)!==!1&&C}}return C&&!g.defaultPrevented}function DI(a,d,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function TI(a){a.g=DI(()=>{a.g=null,a.i&&(a.i=!1,TI(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class BM extends fr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:TI(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ks(a){fr.call(this),this.h=a,this.g={}}b(ks,fr);var CI=[];function bI(a){he(a.g,function(d,f){this.g.hasOwnProperty(f)&&If(d)},a),a.g={}}ks.prototype.N=function(){ks.aa.N.call(this),bI(this)},ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cf=c.JSON.stringify,UM=c.JSON.parse,$M=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function bf(){}bf.prototype.h=null;function AI(a){return a.h||(a.h=a.i())}function SI(){}var Os={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Af(){Xe.call(this,"d")}b(Af,Xe);function Sf(){Xe.call(this,"c")}b(Sf,Xe);var ii={},NI=null;function Yc(){return NI=NI||new et}ii.La="serverreachability";function RI(a){Xe.call(this,ii.La,a)}b(RI,Xe);function Fs(a){let d=Yc();ht(d,new RI(d))}ii.STAT_EVENT="statevent";function MI(a,d){Xe.call(this,ii.STAT_EVENT,a),this.stat=d}b(MI,Xe);function ft(a){let d=Yc();ht(d,new MI(d,a))}ii.Ma="timingevent";function PI(a,d){Xe.call(this,ii.Ma,a),this.size=d}b(PI,Xe);function Ls(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Vs(){this.g=!0}Vs.prototype.xa=function(){this.g=!1};function HM(a,d,f,g,C,S){a.info(function(){if(a.g)if(S)for(var x="",me=S.split("&"),Qe=0;Qe<me.length;Qe++){var le=me[Qe].split("=");if(1<le.length){var tt=le[0];le=le[1];var nt=tt.split("_");x=2<=nt.length&&nt[1]=="type"?x+(tt+"="+le+"&"):x+(tt+"=redacted&")}}else x=null;else x=S;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+x})}function qM(a,d,f,g,C,S,x){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+S+" "+x})}function ho(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+GM(a,f)+(g?" "+g:"")})}function zM(a,d){a.info(function(){return"TIMEOUT: "+d})}Vs.prototype.info=function(){};function GM(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var x=1;x<C.length;x++)C[x]=""}}}}return Cf(f)}catch{return d}}var Zc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nf;function Jc(){}b(Jc,bf),Jc.prototype.g=function(){return new XMLHttpRequest},Jc.prototype.i=function(){return{}},Nf=new Jc;function pr(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kI}function kI(){this.i=null,this.g="",this.h=!1}var OI={},Rf={};function Mf(a,d,f){a.L=1,a.v=nu(Vn(d)),a.m=f,a.P=!0,FI(a,null)}function FI(a,d){a.F=Date.now(),Xc(a),a.A=Vn(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),YI(f.i,"t",g),a.C=0,f=a.j.J,a.h=new kI,a.g=pw(a.j,f?d:null,!a.m),0<a.O&&(a.M=new BM(m(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(CI[0]=C.toString()),C=CI);for(var S=0;S<C.length;S++){var x=vI(f,C[S],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Fs(),HM(a.i,a.u,a.A,a.l,a.R,a.m)}pr.prototype.ca=function(a){a=a.target;let d=this.M;d&&jn(a)==3?d.j():this.Y(a)},pr.prototype.Y=function(a){try{if(a==this.g)e:{let nt=jn(this.g);var d=this.g.Ba();let go=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||rw(this.g)))){this.J||nt!=4||d==7||(d==8||0>=go?Fs(3):Fs(2)),Pf(this);var f=this.g.Z();this.X=f;t:if(LI(this)){var g=rw(this.g);a="";var C=g.length,S=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oi(this),js(this);var x="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==C-1)});g.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=f==200,qM(this.i,this.u,this.A,this.l,this.R,nt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var me,Qe=this.g;if((me=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(me)){var le=me;break t}}le=null}if(f=le)ho(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xf(this,f);else{this.o=!1,this.s=3,ft(12),oi(this),js(this);break e}}if(this.P){f=!0;let Kt;for(;!this.J&&this.C<x.length;)if(Kt=WM(this,x),Kt==Rf){nt==4&&(this.s=4,ft(14),f=!1),ho(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==OI){this.s=4,ft(15),ho(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else ho(this.i,this.l,Kt,null),xf(this,Kt);if(LI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||x.length!=0||this.h.h||(this.s=1,ft(16),f=!1),this.o=this.o&&f,!f)ho(this.i,this.l,x,"[Invalid Chunked Response]"),oi(this),js(this);else if(0<x.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),jf(tt),tt.M=!0,ft(11))}}else ho(this.i,this.l,x,null),xf(this,x);nt==4&&oi(this),this.o&&!this.J&&(nt==4?lw(this.j,this):(this.o=!1,Xc(this)))}else lP(this.g),f==400&&0<x.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),oi(this),js(this)}}}catch{}finally{}};function LI(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function WM(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?Rf:(f=Number(d.substring(f,g)),isNaN(f)?OI:(g+=1,g+f>d.length?Rf:(d=d.slice(g,g+f),a.C=g+f,d)))}pr.prototype.cancel=function(){this.J=!0,oi(this)};function Xc(a){a.S=Date.now()+a.I,VI(a,a.I)}function VI(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ls(m(a.ba,a),d)}function Pf(a){a.B&&(c.clearTimeout(a.B),a.B=null)}pr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(zM(this.i,this.A),this.L!=2&&(Fs(),ft(17)),oi(this),this.s=2,js(this)):VI(this,this.S-a)};function js(a){a.j.G==0||a.J||lw(a.j,a)}function oi(a){Pf(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,bI(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function xf(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||kf(f.h,a))){if(!a.K&&kf(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)au(f),ou(f);else break e;Vf(f),ft(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ls(m(f.Za,f),6e3));if(1>=UI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ai(f,11)}else if((a.K||f.g==a)&&au(f),!H(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let le=C[d];if(f.T=le[0],le=le[1],f.G==2)if(le[0]=="c"){f.K=le[1],f.ia=le[2];let tt=le[3];tt!=null&&(f.la=tt,f.j.info("VER="+f.la));let nt=le[4];nt!=null&&(f.Aa=nt,f.j.info("SVER="+f.Aa));let go=le[5];go!=null&&typeof go=="number"&&0<go&&(g=1.5*go,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Kt=a.g;if(Kt){let uu=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uu){var S=g.h;S.g||uu.indexOf("spdy")==-1&&uu.indexOf("quic")==-1&&uu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Of(S,S.h),S.h=null))}if(g.D){let Bf=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Bf&&(g.ya=Bf,Ee(g.I,g.D,Bf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var x=a;if(g.qa=fw(g,g.J?g.ia:null,g.W),x.K){$I(g.h,x);var me=x,Qe=g.L;Qe&&(me.I=Qe),me.B&&(Pf(me),Xc(me)),g.g=x}else cw(g);0<f.i.length&&su(f)}else le[0]!="stop"&&le[0]!="close"||ai(f,7);else f.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?ai(f,7):Lf(f):le[0]!="noop"&&f.l&&f.l.ta(le),f.v=0)}}Fs(4)}catch{}}var KM=class{constructor(a,d){this.g=a,this.map=d}};function jI(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function BI(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function UI(a){return a.h?1:a.g?a.g.size:0}function kf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Of(a,d){a.g?a.g.add(d):a.h=d}function $I(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}jI.prototype.cancel=function(){if(this.i=HI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function HI(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return N(a.i)}function QM(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function YM(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function qI(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=YM(a),g=QM(a),C=g.length,S=0;S<C;S++)d.call(void 0,g[S],f&&f[S],a)}var zI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZM(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),C=null;if(0<=g){var S=a[f].substring(0,g);C=a[f].substring(g+1)}else S=a[f];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function si(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof si){this.h=a.h,eu(this,a.j),this.o=a.o,this.g=a.g,tu(this,a.s),this.l=a.l;var d=a.i,f=new $s;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),GI(this,f),this.m=a.m}else a&&(d=String(a).match(zI))?(this.h=!1,eu(this,d[1]||"",!0),this.o=Bs(d[2]||""),this.g=Bs(d[3]||"",!0),tu(this,d[4]),this.l=Bs(d[5]||"",!0),GI(this,d[6]||"",!0),this.m=Bs(d[7]||"")):(this.h=!1,this.i=new $s(null,this.h))}si.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Us(d,WI,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Us(d,WI,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Us(f,f.charAt(0)=="/"?eP:XM,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Us(f,nP)),a.join("")};function Vn(a){return new si(a)}function eu(a,d,f){a.j=f?Bs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function tu(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function GI(a,d,f){d instanceof $s?(a.i=d,rP(a.i,a.h)):(f||(d=Us(d,tP)),a.i=new $s(d,a.h))}function Ee(a,d,f){a.i.set(d,f)}function nu(a){return Ee(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Bs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Us(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,JM),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function JM(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var WI=/[#\/\?@]/g,XM=/[#\?:]/g,eP=/[#\?]/g,tP=/[#\?@]/g,nP=/#/g;function $s(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function gr(a){a.g||(a.g=new Map,a.h=0,a.i&&ZM(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=$s.prototype,t.add=function(a,d){gr(this),this.i=null,a=fo(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function KI(a,d){gr(a),d=fo(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function QI(a,d){return gr(a),d=fo(a,d),a.g.has(d)}t.forEach=function(a,d){gr(this),this.g.forEach(function(f,g){f.forEach(function(C){a.call(d,C,g,this)},this)},this)},t.na=function(){gr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=a[g];for(let S=0;S<C.length;S++)f.push(d[g])}return f},t.V=function(a){gr(this);let d=[];if(typeof a=="string")QI(this,a)&&(d=d.concat(this.g.get(fo(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return gr(this),this.i=null,a=fo(this,a),QI(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function YI(a,d,f){KI(a,d),0<f.length&&(a.i=null,a.g.set(fo(a,d),N(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var C=S;x[g]!==""&&(C+="="+encodeURIComponent(String(x[g]))),a.push(C)}}return this.i=a.join("&")};function fo(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function rP(a,d){d&&!a.j&&(gr(a),a.i=null,a.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(KI(this,g),YI(this,C,f))},a)),a.j=d}function iP(a,d){let f=new Vs;if(c.Image){let g=new Image;g.onload=y(mr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(mr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(mr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(mr,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function oP(a,d){let f=new Vs,g=new AbortController,C=setTimeout(()=>{g.abort(),mr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(C),S.ok?mr(f,"TestPingServer: ok",!0,d):mr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),mr(f,"TestPingServer: error",!1,d)})}function mr(a,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function sP(){this.g=new $M}function aP(a,d,f){let g=f||"";try{qI(a,function(C,S){let x=C;l(C)&&(x=Cf(C)),d.push(g+S+"="+encodeURIComponent(x))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Hs(a){this.l=a.Ub||null,this.j=a.eb||!1}b(Hs,bf),Hs.prototype.g=function(){return new ru(this.l,this.j)},Hs.prototype.i=function(a){return function(){return a}}({});function ru(a,d){et.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(ru,et),t=ru.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,zs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,zs(this)),this.g&&(this.readyState=3,zs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ZI(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ZI(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?qs(this):zs(this),this.readyState==3&&ZI(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,qs(this))},t.Qa=function(a){this.g&&(this.response=a,qs(this))},t.ga=function(){this.g&&qs(this)};function qs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,zs(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function zs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function JI(a){let d="";return he(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Ff(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=JI(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Ee(a,d,f))}function Re(a){et.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Re,et);var cP=/^https?$/i,uP=["POST","PUT"];t=Re.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nf.g(),this.v=this.o?AI(this.o):AI(Nf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){XI(this,S);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(uP,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,x]of f)this.g.setRequestHeader(S,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nw(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){XI(this,S)}};function XI(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,ew(a),iu(a)}function ew(a){a.A||(a.A=!0,ht(a,"complete"),ht(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ht(this,"complete"),ht(this,"abort"),iu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),iu(this,!0)),Re.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tw(this):this.bb())},t.bb=function(){tw(this)};function tw(a){if(a.h&&typeof s<"u"&&(!a.v[1]||jn(a)!=4||a.Z()!=2)){if(a.u&&jn(a)==4)DI(a.Ea,0,a);else if(ht(a,"readystatechange"),jn(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=x===0){var C=String(a.D).match(zI)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),g=!cP.test(C?C.toLowerCase():"")}f=g}if(f)ht(a,"complete"),ht(a,"success");else{a.m=6;try{var S=2<jn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",ew(a)}}finally{iu(a)}}}}function iu(a,d){if(a.g){nw(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ht(a,"ready");try{f.onreadystatechange=g}catch{}}}function nw(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function jn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),UM(d)}};function rw(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function lP(a){let d={};a=(a.g&&2<=jn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(H(a[g]))continue;var f=T(a[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[C]||[];d[C]=S,S.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function iw(a){this.Aa=0,this.i=[],this.j=new Vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,a),this.cb=Gs("retryDelaySeedMs",1e4,a),this.Wa=Gs("forwardChannelMaxRetries",2,a),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new jI(a&&a.concurrentRequestLimit),this.Da=new sP,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iw.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,g){ft(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=fw(this,null,this.W),su(this)};function Lf(a){if(ow(a),a.G==3){var d=a.U++,f=Vn(a.I);if(Ee(f,"SID",a.K),Ee(f,"RID",d),Ee(f,"TYPE","terminate"),Ws(a,f),d=new pr(a,a.j,d),d.L=2,d.v=nu(Vn(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=pw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Xc(d)}hw(a)}function ou(a){a.g&&(jf(a),a.g.cancel(),a.g=null)}function ow(a){ou(a),a.u&&(c.clearTimeout(a.u),a.u=null),au(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function su(a){if(!BI(a.h)&&!a.s){a.s=!0;var d=a.Ga;Rs||yI(),Ms||(Rs(),Ms=!0),mf.add(d,a),a.B=0}}function dP(a,d){return UI(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ls(m(a.Ga,a,d),dw(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new pr(this,this.j,a),S=this.o;if(this.S&&(S?(S=v(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=aw(this,C,d),f=Vn(this.I),Ee(f,"RID",a),Ee(f,"CVER",22),this.D&&Ee(f,"X-HTTP-Session-Id",this.D),Ws(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(JI(S)))+"&"+d:this.m&&Ff(f,this.m,S)),Of(this.h,C),this.Ua&&Ee(f,"TYPE","init"),this.P?(Ee(f,"$req",d),Ee(f,"SID","null"),C.T=!0,Mf(C,f,null)):Mf(C,f,d),this.G=2}}else this.G==3&&(a?sw(this,a):this.i.length==0||BI(this.h)||sw(this))};function sw(a,d){var f;d?f=d.l:f=a.U++;let g=Vn(a.I);Ee(g,"SID",a.K),Ee(g,"RID",f),Ee(g,"AID",a.T),Ws(a,g),a.m&&a.o&&Ff(g,a.m,a.o),f=new pr(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=aw(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Of(a.h,f),Mf(f,g,d)}function Ws(a,d){a.H&&he(a.H,function(f,g){Ee(d,g,f)}),a.l&&qI({},function(f,g){Ee(d,g,f)})}function aw(a,d,f){f=Math.min(a.i.length,f);var g=a.l?m(a.l.Na,a.l,a):null;e:{var C=a.i;let S=-1;for(;;){let x=["count="+f];S==-1?0<f?(S=C[0].g,x.push("ofs="+S)):S=0:x.push("ofs="+S);let me=!0;for(let Qe=0;Qe<f;Qe++){let le=C[Qe].g,tt=C[Qe].map;if(le-=S,0>le)S=Math.max(0,C[Qe].g-100),me=!1;else try{aP(tt,x,"req"+le+"_")}catch{g&&g(tt)}}if(me){g=x.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function cw(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Rs||yI(),Ms||(Rs(),Ms=!0),mf.add(d,a),a.v=0}}function Vf(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ls(m(a.Fa,a),dw(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,uw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ls(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),ou(this),uw(this))};function jf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function uw(a){a.g=new pr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Vn(a.qa);Ee(d,"RID","rpc"),Ee(d,"SID",a.K),Ee(d,"AID",a.T),Ee(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ee(d,"TO",a.ja),Ee(d,"TYPE","xmlhttp"),Ws(a,d),a.m&&a.o&&Ff(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=nu(Vn(d)),f.m=null,f.P=!0,FI(f,a)}t.Za=function(){this.C!=null&&(this.C=null,ou(this),Vf(this),ft(19))};function au(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function lw(a,d){var f=null;if(a.g==d){au(a),jf(a),a.g=null;var g=2}else if(kf(a.h,d))f=d.D,$I(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;g=Yc(),ht(g,new PI(g,f)),su(a)}else cw(a);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&dP(a,d)||g==2&&Vf(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),C){case 1:ai(a,5);break;case 4:ai(a,10);break;case 3:ai(a,6);break;default:ai(a,2)}}}function dw(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function ai(a,d){if(a.j.info("Error code "+d),d==2){var f=m(a.fb,a),g=a.Xa;let C=!g;g=new si(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||eu(g,"https"),nu(g),C?iP(g.toString(),f):oP(g.toString(),f)}else ft(2);a.G=0,a.l&&a.l.sa(d),hw(a),ow(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function hw(a){if(a.G=0,a.ka=[],a.l){let d=HI(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function fw(a,d,f){var g=f instanceof si?Vn(f):new si(f);if(g.g!="")d&&(g.g=d+"."+g.g),tu(g,g.s);else{var C=c.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new si(null);g&&eu(S,g),d&&(S.g=d),C&&tu(S,C),f&&(S.l=f),g=S}return f=a.D,d=a.ya,f&&d&&Ee(g,f,d),Ee(g,"VER",a.la),Ws(a,g),g}function pw(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Re(new Hs({eb:f})):new Re(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gw(){}t=gw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cu(){}cu.prototype.g=function(a,d){return new St(a,d)};function St(a,d){et.call(this),this.g=new iw(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!H(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new po(this)}b(St,et),St.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},St.prototype.close=function(){Lf(this.g)},St.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Cf(a),a=f);d.i.push(new KM(d.Ya++,a)),d.G==3&&su(d)},St.prototype.N=function(){this.g.l=null,delete this.j,Lf(this.g),delete this.g,St.aa.N.call(this)};function mw(a){Af.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}b(mw,Af);function yw(){Sf.call(this),this.status=1}b(yw,Sf);function po(a){this.g=a}b(po,gw),po.prototype.ua=function(){ht(this.g,"a")},po.prototype.ta=function(a){ht(this.g,new mw(a))},po.prototype.sa=function(a){ht(this.g,new yw)},po.prototype.ra=function(){ht(this.g,"b")},cu.prototype.createWebChannel=cu.prototype.g,St.prototype.send=St.prototype.o,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,rv=nr.createWebChannelTransport=function(){return new cu},nv=nr.getStatEventTarget=function(){return Yc()},tv=nr.Event=ii,$d=nr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zc.NO_ERROR=0,Zc.TIMEOUT=8,Zc.HTTP_ERROR=6,ac=nr.ErrorCode=Zc,xI.COMPLETE="complete",ev=nr.EventType=xI,SI.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",et.prototype.listen=et.prototype.K,es=nr.WebChannel=SI,zj=nr.FetchXmlHttpFactory=Hs,Re.prototype.listenOnce=Re.prototype.L,Re.prototype.getLastError=Re.prototype.Ka,Re.prototype.getLastErrorCode=Re.prototype.Ba,Re.prototype.getStatus=Re.prototype.Z,Re.prototype.getResponseJson=Re.prototype.Oa,Re.prototype.getResponseText=Re.prototype.oa,Re.prototype.send=Re.prototype.ea,Re.prototype.setWithCredentials=Re.prototype.Ha,Xy=nr.XhrIo=Re}).apply(typeof Ud<"u"?Ud:typeof self<"u"?self:typeof window<"u"?window:{});var $0="@firebase/firestore",H0="4.7.17";var We=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var Is="11.9.0";var Zi=new Cn("@firebase/firestore");function ts(){return Zi.logLevel}function L(t,...e){if(Zi.logLevel<=ie.DEBUG){let n=e.map(z_);Zi.debug(`Firestore (${Is}): ${t}`,...n)}}function ir(t,...e){if(Zi.logLevel<=ie.ERROR){let n=e.map(z_);Zi.error(`Firestore (${Is}): ${t}`,...n)}}function cs(t,...e){if(Zi.logLevel<=ie.WARN){let n=e.map(z_);Zi.warn(`Firestore (${Is}): ${t}`,...n)}}function z_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function $(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OS(t,r,n)}function OS(t,e,n){let r=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ir(r),new Error(r)}function de(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||OS(e,i,r)}function Z(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends xt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var dn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Qd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},cv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}},uv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},lv=class{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new dn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new dn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new dn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string",31837,{l:r}),new Qd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string",2055,{h:e}),new We(e)}},dv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},hv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dv(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Yd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},fv=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,At(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){de(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Yd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Gj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function FS(){return new TextEncoder}var Zd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Gj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function re(t,e){return t<e?-1:t>e?1:0}function pv(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return re(r,i);{let o=FS(),s=Wj(o.encode(q0(t,n)),o.encode(q0(e,n)));return s!==0?s:re(r,i)}}n+=r>65535?2:1}return re(t.length,e.length)}function q0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Wj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return re(t[n],e[n]);return re(t.length,e.length)}function us(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var z0=-62135596800,G0=1e6,Je=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*G0);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<z0)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/G0}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-z0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Je(0,0))}static max(){return new t(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var W0="__name__",Jd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&$(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&$(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return re(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):pv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return tr.fromString(e.substring(4,e.length-2))}},Ne=class t extends Jd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Kj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ot=class t extends Jd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Kj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===W0}static keyField(){return new t([W0])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new F(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new F(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var U=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};var fc=-1,gv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};gv.UNKNOWN_ID=-1;function Qj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Ji(i,U.empty(),e)}function Yj(t){return new Ji(t.readTime,t.key,fc)}var Ji=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),U.empty(),fc)}static max(){return new t(ee.max(),U.empty(),fc)}};function Zj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}var Jj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ws(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==Jj)throw t;L("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function Xj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ds(t){return t.name==="IndexedDbTransactionError"}var G_=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),W_=-1;function xh(t){return t==null}function pc(t){return t===0&&1/t==-1/0}function eB(t){return typeof t=="number"&&Number.isInteger(t)&&!pc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var LS="";function tB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=K0(e)),e=nB(t.get(n),e);return K0(e)}function nB(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case LS:n+="";break;default:n+=o}}return n}function K0(t){return t+LS+""}var rB="remoteDocuments",VS="owner";var jS="mutationQueues";var BS="mutations";var US="documentMutations",iB="remoteDocumentsV14";var $S="remoteDocumentGlobal";var HS="targets";var qS="targetDocuments";var zS="targetGlobal",GS="collectionParents";var WS="clientMetadata";var KS="bundles";var QS="namedQueries";var oB="indexConfiguration";var sB="indexState";var aB="indexEntries";var YS="documentOverlays";var cB="globals";var uB=[jS,BS,US,rB,HS,VS,zS,qS,WS,$S,GS,KS,QS],yte=[...uB,YS],lB=[jS,BS,US,iB,HS,VS,zS,qS,WS,$S,GS,KS,QS,YS],dB=lB,hB=[...dB,oB,sB,aB];var vte=[...hB,cB];function Q0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pe=class t{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new os(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new os(this.root,e,this.comparator,!1)}getReverseIterator(){return new os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new os(this.root,e,this.comparator,!0)}},os=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},An=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw $(27949);return e+(this.isRed()?0:1)}};An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw $(57766)}get value(){throw $(16141)}get color(){throw $(16727)}get left(){throw $(29726)}get right(){throw $(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ke=class t{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Xd(this.data.getIterator())}getIteratorFrom(e){return new Xd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Xd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Wt=class t{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ke(Ot.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return us(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var eh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new eh("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};lt.EMPTY_BYTE_STRING=new lt("");var fB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function or(t){if(de(!!t,39018),typeof t=="string"){let e=0,n=fB.exec(t);if(de(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function sr(t){return typeof t=="string"?lt.fromBase64String(t):lt.fromUint8Array(t)}var JS="server_timestamp",XS="__type__",eN="__previous_value__",tN="__local_write_time__";function K_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[XS])===null||n===void 0?void 0:n.stringValue)===JS}function kh(t){let e=t.mapValue.fields[eN];return K_(e)?kh(e):e}function gc(t){let e=or(t.mapValue.fields[tN].timestampValue);return new Je(e.seconds,e.nanos)}var yv=class{constructor(e,n,r,i,o,s,c,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},th="(default)",nh=class t{constructor(e,n){this.projectId=e,this.database=n||th}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Q_="__type__",nN="__max__",Hd={mapValue:{fields:{__type__:{stringValue:nN}}}},Y_="__vector__",ls="value";function Gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?K_(t)?4:iN(t)?9007199254740991:rN(t)?10:11:$(28295,{value:t})}function Rn(t,e){if(t===e)return!0;let n=Gr(t);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=or(i.timestampValue),c=or(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return sr(i.bytesValue).isEqual(sr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return be(i.geoPointValue.latitude)===be(o.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return be(i.integerValue)===be(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=be(i.doubleValue),c=be(o.doubleValue);return s===c?pc(s)===pc(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return us(t.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(Q0(s)!==Q0(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Rn(s[u],c[u])))return!1;return!0}(t,e);default:return $(52216,{left:t})}}function mc(t,e){return(t.values||[]).find(n=>Rn(n,e))!==void 0}function ds(t,e){if(t===e)return 0;let n=Gr(t),r=Gr(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=be(o.integerValue||o.doubleValue),u=be(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return Y0(t.timestampValue,e.timestampValue);case 4:return Y0(gc(t),gc(e));case 5:return pv(t.stringValue,e.stringValue);case 6:return function(o,s){let c=sr(o),u=sr(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=re(c[l],u[l]);if(h!==0)return h}return re(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=re(be(o.latitude),be(s.latitude));return c!==0?c:re(be(o.longitude),be(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Z0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,h;let p=o.fields||{},m=s.fields||{},y=(c=p[ls])===null||c===void 0?void 0:c.arrayValue,b=(u=m[ls])===null||u===void 0?void 0:u.arrayValue,N=re(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:Z0(y,b)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Hd.mapValue&&s===Hd.mapValue)return 0;if(o===Hd.mapValue)return 1;if(s===Hd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=pv(u[p],h[p]);if(m!==0)return m;let y=ds(c[u[p]],l[h[p]]);if(y!==0)return y}return re(u.length,h.length)}(t.mapValue,e.mapValue);default:throw $(23264,{Pe:n})}}function Y0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);let n=or(t),r=or(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function Z0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ds(n[i],r[i]);if(o)return o}return re(n.length,r.length)}function hs(t){return vv(t)}function vv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=or(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return sr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return U.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=vv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${vv(n.fields[s])}`;return i+"}"}(t.mapValue):$(61005,{value:t})}function Gd(t){switch(Gr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=kh(t);return e?16+Gd(e):16;case 5:return 2*t.stringValue.length;case 6:return sr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Gd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Zr(r.fields,(o,s)=>{i+=o.length+Gd(s)}),i}(t.mapValue);default:throw $(13486,{value:t})}}function J0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _v(t){return!!t&&"integerValue"in t}function Z_(t){return!!t&&"arrayValue"in t}function X0(t){return!!t&&"nullValue"in t}function eS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wd(t){return!!t&&"mapValue"in t}function rN(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Q_])===null||n===void 0?void 0:n.stringValue)===Y_}function uc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=uc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===nN}var Ete={mapValue:{fields:{[Q_]:{stringValue:Y_},[ls]:{arrayValue:{}}}}};var kt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(n)}setAll(e){let n=Ot.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=uc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(uc(this.value))}};function oN(t){let e=[];return Zr(t.fields,(n,r)=>{let i=new Ot([n]);if(Wd(r)){let o=oN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Wt(e)}var hn=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fs=class{constructor(e,n){this.position=e,this.inclusive=n}};function tS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=U.comparator(U.fromName(s.referenceValue),n.key):r=ds(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rn(t.position[n],e.position[n]))return!1;return!0}var Xi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function pB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var rh=class{},je=class t extends rh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Iv(e,n,r):n==="array-contains"?new Tv(e,r):n==="in"?new Cv(e,r):n==="not-in"?new bv(e,r):n==="array-contains-any"?new Av(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wv(e,r):new Dv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ds(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},fn=class t extends rh{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return sN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function sN(t){return t.op==="and"}function aN(t){return gB(t)&&sN(t)}function gB(t){for(let e of t.filters)if(e instanceof fn)return!1;return!0}function Ev(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+hs(t.value);if(aN(t))return t.filters.map(e=>Ev(e)).join(",");{let e=t.filters.map(n=>Ev(n)).join(",");return`${t.op}(${e})`}}function cN(t,e){return t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&Rn(r.value,i.value)}(t,e):t instanceof fn?function(r,i){return i instanceof fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&cN(s,i.filters[c]),!0):!1}(t,e):void $(19439)}function uN(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${hs(n.value)}`}(t):t instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(uN).join(" ,")+"}"}(t):"Filter"}var Iv=class extends je{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){let n=U.comparator(e.key,this.key);return this.matchesComparison(n)}},wv=class extends je{constructor(e,n){super(e,"in",n),this.keys=lN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Dv=class extends je{constructor(e,n){super(e,"not-in",n),this.keys=lN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function lN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}var Tv=class extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Z_(n)&&mc(n.arrayValue,this.value)}},Cv=class extends je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}},bv=class extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}},Av=class extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Z_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mc(this.value.arrayValue,r))}};var Sv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Ie=null}};function rS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Sv(t,e,n,r,i,o,s)}function J_(t){let e=Z(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ev(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hs(r)).join(",")),e.Ie=n}return e.Ie}function X_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nS(t.startAt,e.startAt)&&nS(t.endAt,e.endAt)}function Nv(t){return U.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Wr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function mB(t,e,n,r,i,o,s,c){return new Wr(t,e,n,r,i,o,s,c)}function Oh(t){return new Wr(t)}function iS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dN(t){return t.collectionGroup!==null}function lc(t){let e=Z(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Ke(Ot.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Xi(o,r))}),n.has(Ot.keyField().canonicalString())||e.Ee.push(new Xi(Ot.keyField(),r))}return e.Ee}function Sn(t){let e=Z(t);return e.de||(e.de=yB(e,lc(t))),e.de}function yB(t,e){if(t.limitType==="F")return rS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Xi(i.field,o)});let n=t.endAt?new fs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fs(t.startAt.position,t.startAt.inclusive):null;return rS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Rv(t,e){let n=t.filters.concat([e]);return new Wr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mv(t,e,n){return new Wr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fh(t,e){return X_(Sn(t),Sn(e))&&t.limitType===e.limitType}function hN(t){return`${J_(Sn(t))}|lt:${t.limitType}`}function ns(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uN(i)).join(", ")}]`),xh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>hs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>hs(i)).join(",")),`Target(${r})`}(Sn(t))}; limitType=${t.limitType})`}function Lh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):U.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of lc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=tS(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,lc(r),i)||r.endAt&&!function(s,c,u){let l=tS(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,lc(r),i))}(t,e)}function vB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fN(t){return(e,n)=>{let r=!1;for(let i of lc(t)){let o=_B(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function _B(t,e,n){let r=t.field.isKeyField()?U.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?ds(u,l):$(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $(19790,{direction:t.dir})}}var ar=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return ZS(this.inner)}size(){return this.innerSize}};var EB=new Pe(U.comparator);function cr(){return EB}var pN=new Pe(U.comparator);function cc(...t){let e=pN;for(let n of t)e=e.insert(n.key,n);return e}function gN(t){let e=pN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ki(){return dc()}function mN(){return dc()}function dc(){return new ar(t=>t.toString(),(t,e)=>t.isEqual(e))}var IB=new Pe(U.comparator),wB=new Ke(U.comparator);function se(...t){let e=wB;for(let n of t)e=e.add(n);return e}var DB=new Ke(re);function TB(){return DB}function eE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pc(e)?"-0":e}}function yN(t){return{integerValue:""+t}}function CB(t,e){return eB(e)?yN(e):eE(t,e)}var ps=class{constructor(){this._=void 0}};function bB(t,e,n){return t instanceof gs?function(i,o){let s={fields:{[XS]:{stringValue:JS},[tN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&K_(o)&&(o=kh(o)),o&&(s.fields[eN]=o),{mapValue:s}}(n,e):t instanceof eo?_N(t,e):t instanceof to?EN(t,e):function(i,o){let s=vN(i,o),c=oS(s)+oS(i.Re);return _v(s)&&_v(i.Re)?yN(c):eE(i.serializer,c)}(t,e)}function AB(t,e,n){return t instanceof eo?_N(t,e):t instanceof to?EN(t,e):n}function vN(t,e){return t instanceof ms?function(r){return _v(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var gs=class extends ps{},eo=class extends ps{constructor(e){super(),this.elements=e}};function _N(t,e){let n=IN(e);for(let r of t.elements)n.some(i=>Rn(i,r))||n.push(r);return{arrayValue:{values:n}}}var to=class extends ps{constructor(e){super(),this.elements=e}};function EN(t,e){let n=IN(e);for(let r of t.elements)n=n.filter(i=>!Rn(i,r));return{arrayValue:{values:n}}}var ms=class extends ps{constructor(e,n){super(),this.serializer=e,this.Re=n}};function oS(t){return be(t.integerValue||t.doubleValue)}function IN(t){return Z_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function SB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof eo&&i instanceof eo||r instanceof to&&i instanceof to?us(r.elements,i.elements,Rn):r instanceof ms&&i instanceof ms?Rn(r.Re,i.Re):r instanceof gs&&i instanceof gs}(t.transform,e.transform)}var Pv=class{constructor(e,n){this.version=e,this.transformResults=n}},rr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Kd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ys=class{};function wN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ih(t.key,rr.none()):new no(t.key,t.data,rr.none());{let n=t.data,r=kt.empty(),i=new Ke(Ot.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Mn(t.key,r,new Wt(i.toArray()),rr.none())}}function NB(t,e,n){t instanceof no?function(i,o,s){let c=i.value.clone(),u=aS(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Mn?function(i,o,s){if(!Kd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=aS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(DN(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function hc(t,e,n,r){return t instanceof no?function(o,s,c,u){if(!Kd(o.precondition,s))return c;let l=o.value.clone(),h=cS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mn?function(o,s,c,u){if(!Kd(o.precondition,s))return c;let l=cS(o.fieldTransforms,u,s),h=s.data;return h.setAll(DN(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return Kd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function RB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=vN(r.transform,i||null);o!=null&&(n===null&&(n=kt.empty()),n.set(r.field,o))}return n||null}function sS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&us(r,i,(o,s)=>SB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var no=class extends ys{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Mn=class extends ys{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function DN(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function aS(t,e,n){let r=new Map;de(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,AB(s,c,n[i]))}return r}function cS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,bB(o,s,e))}return r}var ih=class extends ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},xv=class extends ys{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var kv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&NB(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=mN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=wN(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&us(this.mutations,e.mutations,(n,r)=>sS(n,r))&&us(this.baseMutations,e.baseMutations,(n,r)=>sS(n,r))}},Ov=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){de(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return IB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Fv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Lv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Le,ue;function MB(t){switch(t){case M.OK:return $(64938);case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return $(15467,{code:t})}}function TN(t){if(t===void 0)return ir("GRPC error has no .code"),M.UNKNOWN;switch(t){case Le.OK:return M.OK;case Le.CANCELLED:return M.CANCELLED;case Le.UNKNOWN:return M.UNKNOWN;case Le.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Le.INTERNAL:return M.INTERNAL;case Le.UNAVAILABLE:return M.UNAVAILABLE;case Le.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Le.NOT_FOUND:return M.NOT_FOUND;case Le.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Le.ABORTED:return M.ABORTED;case Le.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Le.DATA_LOSS:return M.DATA_LOSS;default:return $(39323,{code:t})}}(ue=Le||(Le={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";var uS=null;var PB=new tr([4294967295,4294967295],0);function lS(t){let e=FS().encode(t),n=new Jy;return n.update(e),new Uint8Array(n.digest())}function dS(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new tr([n,r],0),new tr([i,o],0)]}var Vv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qi(`Invalid padding: ${n}`);if(r<0)throw new Qi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qi(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=tr.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(tr.fromNumber(r)));return i.compare(PB)===1&&(i=new tr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=lS(e),[r,i]=dS(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.pe===0)return;let n=lS(e),[r,i]=dS(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Qi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var oh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new Pe(re),cr(),se())}},yc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,se(),se(),se())}};var ss=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},sh=class{constructor(e,n){this.targetId=e,this.Ce=n}},ah=class{constructor(e,n,r=lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ch=class{constructor(){this.Fe=0,this.Me=hS(),this.xe=lt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=se(),n=se(),r=se();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$(38017,{changeType:o})}}),new yc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=hS()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,de(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},jv=class{constructor(e){this.ze=e,this.je=new Map,this.He=cr(),this.Je=qd(),this.Ye=qd(),this.Ze=new Pe(re)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:$(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(Nv(o))if(r===0){let s=new U(o.path);this.tt(n,s,hn.newNoDocument(s,ee.min()))}else de(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let c=this.ct(e),u=c?this.lt(c,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}uS?.ht(function(h,p,m,y,b){var N,R,k,H,ne,ge;let dt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},he=p.unchangedNames;return he&&(dt.bloomFilter={applied:b===0,hashCount:(N=he?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(H=(k=(R=he?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&H!==void 0?H:0,padding:(ge=(ne=he?.bits)===null||ne===void 0?void 0:ne.padding)!==null&&ge!==void 0?ge:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),dt}(s,e.Ce,this.ze.Pt(),c,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=sr(r).toUint8Array()}catch(u){if(u instanceof eh)return cs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Vv(s,i,o)}catch(u){return cs(u instanceof Qi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let c=this._t(s);if(c){if(o.current&&Nv(c.target)){let u=new U(c.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,hn.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=se();this.Ye.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new oh(e,n,this.Ze,this.He,r);return this.He=cr(),this.Je=qd(),this.Ye=qd(),this.Ze=new Pe(re),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new ch,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ke(re),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ke(re),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ch),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function qd(){return new Pe(U.comparator)}function hS(){return new Pe(U.comparator)}var xB={asc:"ASCENDING",desc:"DESCENDING"},kB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OB={and:"AND",or:"OR"},Bv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Uv(t,e){return t.useProto3Json||xh(e)?e:{value:e}}function uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FB(t,e){return uh(t,e.toTimestamp())}function Nn(t){return de(!!t,49232),ee.fromTimestamp(function(n){let r=or(n);return new Je(r.seconds,r.nanos)}(t))}function tE(t,e){return $v(t,e).canonicalString()}function $v(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bN(t){let e=Ne.fromString(t);return de(MN(e),10190,{key:e.toString()}),e}function Hv(t,e){return tE(t.databaseId,e.path)}function iv(t,e){let n=bN(e);if(n.get(1)!==t.databaseId.projectId)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new U(SN(n))}function AN(t,e){return tE(t.databaseId,e)}function LB(t){let e=bN(t);return e.length===4?Ne.emptyPath():SN(e)}function qv(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function SN(t){return de(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fS(t,e,n){return{name:Hv(t,e),fields:n.value.mapValue.fields}}function VB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:$(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(de(h===void 0||typeof h=="string",58123),lt.fromBase64String(h||"")):(de(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let h=l.code===void 0?M.UNKNOWN:TN(l.code);return new F(h,l.message||"")}(s);n=new ah(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=iv(t,r.document.name),o=Nn(r.document.updateTime),s=r.document.createTime?Nn(r.document.createTime):ee.min(),c=new kt({mapValue:{fields:r.document.fields}}),u=hn.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ss(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=iv(t,r.document),o=r.readTime?Nn(r.readTime):ee.min(),s=hn.newNoDocument(i,o),c=r.removedTargetIds||[];n=new ss([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=iv(t,r.document),o=r.removedTargetIds||[];n=new ss([],o,i,null)}else{if(!("filter"in e))return $(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Lv(i,o),c=r.targetId;n=new sh(c,s)}}return n}function jB(t,e){let n;if(e instanceof no)n={update:fS(t,e.key,e.value)};else if(e instanceof ih)n={delete:Hv(t,e.key)};else if(e instanceof Mn)n={update:fS(t,e.key,e.data),updateMask:KB(e.fieldMask)};else{if(!(e instanceof xv))return $(16599,{ft:e.type});n={verify:Hv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof gs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof eo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof to)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ms)return{fieldPath:s.field.canonicalString(),increment:c.Re};throw $(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:FB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$(27497)}(t,e.precondition)),n}function BB(t,e){return t&&t.length>0?(de(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Nn(i.updateTime):Nn(o);return s.isEqual(ee.min())&&(s=Nn(o)),new Pv(s,i.transformResults||[])}(n,e))):[]}function UB(t,e){return{documents:[AN(t,e.path)]}}function $B(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AN(t,i);let o=function(l){if(l.length!==0)return RN(fn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:rs(m.field),direction:zB(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Uv(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function HB(t){let e=LB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){de(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=NN(p);return m instanceof fn&&aN(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(b){return new Xi(is(b.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let c=null;n.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,xh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new fs(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new fs(y,m)}(n.endAt)),mB(e,i,s,o,c,"F",u,l)}function qB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function NN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=is(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=is(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=is(n.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=is(n.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $(61313);default:return $(60726)}}(t):t.fieldFilter!==void 0?function(n){return je.create(is(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $(58110);default:return $(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(r=>NN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $(1026)}}(n.compositeFilter.op))}(t):$(30097,{filter:t})}function zB(t){return xB[t]}function GB(t){return kB[t]}function WB(t){return OB[t]}function rs(t){return{fieldPath:t.canonicalString()}}function is(t){return Ot.fromServerFormat(t.fieldPath)}function RN(t){return t instanceof je?function(n){if(n.op==="=="){if(eS(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NAN"}};if(X0(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eS(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NOT_NAN"}};if(X0(n.value))return{unaryFilter:{field:rs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(n.field),op:GB(n.op),value:n.value}}}(t):t instanceof fn?function(n){let r=n.getFilters().map(i=>RN(i));return r.length===1?r[0]:{compositeFilter:{op:WB(n.op),filters:r}}}(t):$(54877,{filter:t})}function KB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var vc=class t{constructor(e,n,r,i,o=ee.min(),s=ee.min(),c=lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var zv=class{constructor(e){this.wt=e}};function QB(t){let e=HB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mv(e,e.limit,"L"):e}var lh=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),pc(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=or(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(sr(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?iN(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):rN(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):$(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=ls,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(be(c)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),U.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};lh.Wt=new lh;var Gv=class{constructor(){this.Cn=new Wv}addToCollectionParentIndex(e,n){return this.Cn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Ji.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Wv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(Ne.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(Ne.comparator)).toArray()}};var Ite=new Uint8Array(0);var pS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PN=41943040,Gt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(PN,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);var _c=class t{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new t(0)}static lr(){return new t(-1)}};var gS="LruGarbageCollector",YB=1048576;function mS([t,e],[n,r]){let i=re(t,n);return i===0?re(e,r):i}var Kv=class{constructor(e){this.Er=e,this.buffer=new Ke(mS),this.dr=0}Ar(){return++this.dr}Rr(e){let n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();mS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},Qv=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){L(gS,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ds(n)?L(gS,"Ignoring IndexedDB error during garbage collection: ",n):yield ws(n)}yield this.mr(3e5)}))}},Yv=class{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(G_.le);let r=new Kv(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(pS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pS):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,o,s,c,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ts()<=ie.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function ZB(t,e){return new Yv(t,e)}var Zv=class{constructor(){this.changes=new ar(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Jv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Xv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hc(r.mutation,i,Wt.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){let i=Ki();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=cc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ki();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=cr(),s=dc(),c=function(){return dc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Mn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),hc(h.mutation,l,h.mutation.getFieldMask(),Je.now())):s.set(l.key,Wt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return c.set(l,new Jv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=dc(),i=new Pe((s,c)=>s-c),o=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Wt.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||se()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=mN();h.forEach(m=>{if(!o.has(m)){let y=wN(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return U.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Ki()),c=fc,u=o;return s.next(l=>P.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,se())).next(h=>({batchId:c,changes:gN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=cc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=cc();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let l=function(p,m){return new Wr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,hn.newInvalidDocument(h)))});let c=cc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&hc(h.mutation,l,Wt.empty(),Je.now()),Lh(n,l)&&(c=c.insert(u,l))}),c})}};var e_=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return P.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:QB(i.bundledQuery),readTime:Nn(i.readTime)}}(n)),P.resolve()}};var t_=class{constructor(){this.overlays=new Pe(U.comparator),this.Qr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ki();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Ki(),o=n.length+1,s=new U(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ki(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=Ki(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return P.resolve(c)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Fv(n,r));let o=this.Qr.get(n);o===void 0&&(o=se(),this.Qr.set(n,o)),this.Qr.set(n,o.add(r.key))}};var n_=class{constructor(){this.sessionToken=lt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Ec=class{constructor(){this.$r=new Ke(Ve.Ur),this.Kr=new Ke(Ve.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){let r=new Ve(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Ve(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){let n=new U(new Ne([])),r=new Ve(n,e),i=new Ve(n,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let n=new U(new Ne([])),r=new Ve(n,e),i=new Ve(n,e+1),o=se();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ve(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return U.comparator(e.key,n.key)||re(e.Zr,n.Zr)}static Wr(e,n){return re(e.Zr,n.Zr)||U.comparator(e.key,n.key)}};var r_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ke(Ve.Ur)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new kv(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Xr=this.Xr.add(new Ve(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.ti(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?W_:this.nr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let c=this.ei(s.Zr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(re);return n.forEach(i=>{let o=new Ve(i,0),s=new Ve(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],c=>{r=r.add(c.Zr)})}),P.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;U.isDocumentKey(o)||(o=o.child(""));let s=new Ve(new U(o),0),c=new Ke(re);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Zr)),!0)},s),P.resolve(this.ni(c))}ni(e){let n=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){de(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return P.forEach(n.mutations,i=>{let o=new Ve(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){let r=new Ve(n,0),i=this.Xr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var i_=class{constructor(e){this.ii=e,this.docs=function(){return new Pe(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=cr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=cr(),s=n.path,c=new U(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Zj(Yj(h),r)<=0||(i.has(h.key)||Lh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){$(9500)}si(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new o_(this)}getSize(e){return P.resolve(this.size)}},o_=class extends Zv{constructor(e){super(),this.Br=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}};var s_=class{constructor(e){this.persistence=e,this.oi=new ar(n=>J_(n),X_),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this._i=0,this.ai=new Ec,this.targetCount=0,this.ui=_c.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),P.resolve()}Tr(e){this.oi.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ui=new _c(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Tr(n),P.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.oi.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.oi.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ai.Yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.ai.containsKey(n))}};var dh=class{constructor(e,n){this.ci={},this.overlays={},this.li=new G_(0),this.hi=!1,this.hi=!0,this.Pi=new n_,this.referenceDelegate=e(this),this.Ti=new s_(this),this.indexManager=new Gv,this.remoteDocumentCache=function(i){return new i_(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new zv(n),this.Ei=new e_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new r_(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);let i=new a_(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,n){return P.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}},a_=class extends mv{constructor(e){super(),this.currentSequenceNumber=e}},c_=class t{constructor(e){this.persistence=e,this.Vi=new Ec,this.mi=null}static fi(e){return new t(e)}get gi(){if(this.mi)return this.mi;throw $(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.gi,r=>{let i=U.fromPath(r);return this.pi(e,i).next(o=>{o||n.removeEntry(i,ee.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return P.or([()=>P.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}},hh=class t{constructor(e,n){this.persistence=e,this.yi=new ar(r=>tB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ZB(this,n)}static fi(e,n){return new t(e,n)}di(){}Ai(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){let n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return P.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),P.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gd(e.data.value)),n}Dr(e,n,r){return P.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.yi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var u_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=se(),i=se();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var l_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var d_=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return w0()?8:Xj(Ge())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ws(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new l_;return this.Ss(e,n,s).next(c=>{if(o.result=c,this.fs)return this.Ds(e,n,s,c.size)})}).next(()=>o.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(ts()<=ie.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),P.resolve()):(ts()<=ie.DEBUG&&L("QueryEngine","Query:",ns(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(ts()<=ie.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(n))):P.resolve())}ws(e,n){if(iS(n))return P.resolve(null);let r=Sn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mv(n,null,"F"),r=Sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=se(...o);return this.ys.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(n,c);return this.Cs(n,l,s,u.readTime)?this.ws(e,Mv(n,null,"F")):this.Fs(e,l,n,u)}))})))}bs(e,n,r,i){return iS(n)||i.isEqual(ee.min())?P.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(n,o);return this.Cs(n,s,r,i)?P.resolve(null):(ts()<=ie.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ns(n)),this.Fs(e,s,n,Qj(i,fc)).next(c=>c))})}vs(e,n){let r=new Ke(fN(e));return n.forEach((i,o)=>{Lh(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return ts()<=ie.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",ns(n)),this.ys.getDocumentsMatchingQuery(e,n,Ji.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var nE="LocalStore",JB=3e8,h_=class{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Pe(re),this.Os=new ar(o=>J_(o),X_),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xv(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}};function XB(t,e,n,r){return new h_(t,e,n,r)}function xN(t,e){return _(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=se();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:c}))})})})}function eU(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Bs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(b=>{y=y.next(()=>h.getEntry(u,b)).next(N=>{let R=l.docVersions.get(b);de(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=se();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kN(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function tU(t,e){let n=Z(t),r=e.snapshotVersion,i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;let c=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;c.push(n.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(lt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,k){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=JB?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,y,h)&&c.push(n.Ti.updateTargetData(o,y))});let u=cr(),l=se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(nU(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(ee.min())){let h=n.Ti.getLastRemoteSnapshotVersion(o).next(p=>n.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return P.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.xs=i,o))}function nU(t,e,n){let r=se(),i=se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=cr();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):L(nE,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function rU(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=W_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iU(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.Ti.allocateTargetId(r).next(s=>(i=new vc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}function f_(t,e,n){return _(this,null,function*(){let r=Z(t),i=r.xs.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ds(s))throw s;L(nE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function yS(t,e,n){let r=Z(t),i=ee.min(),o=se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=Z(u),m=p.Os.get(h);return m!==void 0?P.resolve(p.xs.get(m)):p.Ti.getTargetData(l,h)}(r,s,Sn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,n?i:ee.min(),n?o:se())).next(c=>(oU(r,vB(e),c),{documents:c,$s:o})))}function oU(t,e,n){let r=t.Ns.get(e)||ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ns.set(e,r)}var fh=class{constructor(){this.activeTargetIds=TB()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var p_=class{constructor(){this.xo=new fh,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new fh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var g_=class{No(e){}shutdown(){}};var vS="ConnectivityMonitor",ph=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){L(vS,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){L(vS,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var zd=null;function m_(){return zd===null?zd=function(){return 268435456+Math.round(2147483648*Math.random())}():zd++,"0x"+zd.toString(16)}var ov="RestConnection",sU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},y_=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===th?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,o){let s=m_(),c=this.jo(e,n.toUriEncodedString());L(ov,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(c),h=zi(l);return this.Jo(e,c,u,r,h).then(p=>(L(ov,`Received RPC '${e}' ${s}: `,p),p),p=>{throw cs(ov,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Yo(e,n,r,i,o,s){return this.zo(e,n,r,i,o)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,n){let r=sU[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}};var v_=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var ct="WebChannelConnection",__=class extends y_{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){let s=m_();return new Promise((c,u)=>{let l=new Xy;l.setWithCredentials(!0),l.listenOnce(ev.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ac.NO_ERROR:let p=l.getResponseJson();L(ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case ac.TIMEOUT:L(ct,`RPC '${e}' ${s} timed out`),u(new F(M.DEADLINE_EXCEEDED,"Request time out"));break;case ac.HTTP_ERROR:let m=l.getStatus();if(L(ct,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let N=function(k){let H=k.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(H)>=0?H:M.UNKNOWN}(b.status);u(new F(N,b.message))}else u(new F(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new F(M.UNAVAILABLE,"Connection failed."));break;default:$(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{L(ct,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);L(ct,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}I_(e,n,r){let i=m_(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=rv(),c=nv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");L(ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let m=!1,y=!1,b=new v_({Zo:R=>{y?L(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(ct,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),N=(R,k,H)=>{R.listen(k,ne=>{try{H(ne)}catch(ge){setTimeout(()=>{throw ge},0)}})};return N(p,es.EventType.OPEN,()=>{y||(L(ct,`RPC '${e}' stream ${i} transport opened.`),b.__())}),N(p,es.EventType.CLOSE,()=>{y||(y=!0,L(ct,`RPC '${e}' stream ${i} transport closed`),b.u_(),this.d_(p))}),N(p,es.EventType.ERROR,R=>{y||(y=!0,cs(ct,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),b.u_(new F(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,es.EventType.MESSAGE,R=>{var k;if(!y){let H=R.data[0];de(!!H,16349);let ne=H,ge=ne?.error||((k=ne[0])===null||k===void 0?void 0:k.error);if(ge){L(ct,`RPC '${e}' stream ${i} received error:`,ge);let dt=ge.status,he=function(I){let w=Le[I];if(w!==void 0)return TN(w)}(dt),D=ge.message;he===void 0&&(he=M.INTERNAL,D="Unknown error status: "+dt+" with message "+ge.message),y=!0,b.u_(new F(he,D)),p.close()}else L(ct,`RPC '${e}' stream ${i} received:`,H),b.c_(H)}}),N(c,tv.STAT_EVENT,R=>{R.stat===$d.PROXY?L(ct,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===$d.NOPROXY&&L(ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.a_()},0),b}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}};function sv(){return typeof document<"u"?document:null}function Vh(t){return new Bv(t,!0)}var gh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var _S="PersistentStream",mh=class{constructor(e,n,r,i,o,s,c,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new gh(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return _(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return _(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,n){return _(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(n)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{let i=new F(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){let r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>_(this,null,function*(){this.state=0,this.start()}))}j_(e){return L(_S,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(L(_S,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},E_=class extends mh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let n=VB(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Nn(s.readTime):ee.min()}(e);return this.listener.Y_(n,r)}Z_(e){let n={};n.database=qv(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=Nv(u)?{documents:UB(o,u)}:{query:$B(o,u).gt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=CN(o,s.resumeToken);let l=Uv(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){c.readTime=uh(o,s.snapshotVersion.toTimestamp());let l=Uv(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=qB(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){let n={};n.database=qv(this.serializer),n.removeTarget=e,this.Q_(n)}},I_=class extends mh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return de(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){de(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let n=BB(e.writeResults,e.commitTime),r=Nn(e.commitTime);return this.listener.ra(r,n)}ia(){let e={};e.database=qv(this.serializer),this.Q_(e)}ta(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>jB(this.serializer,r))};this.Q_(n)}};var w_=class{},D_=class extends w_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,$v(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(M.UNKNOWN,o.toString())})}Yo(e,n,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Yo(e,$v(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(M.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},T_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ir(n),this.ua=!1):L("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var ro="RemoteStore",C_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){io(this)&&(L(ro,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=Z(u);l.da.add(4),yield Nc(l),l.Va.set("Unknown"),l.da.delete(4),yield jh(l)})}(this))}))}),this.Va=new T_(r,i)}};function jh(t){return _(this,null,function*(){if(io(t))for(let e of t.Aa)yield e(!0)})}function Nc(t){return _(this,null,function*(){for(let e of t.Aa)yield e(!1)})}function ON(t,e){let n=Z(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),sE(n)?oE(n):Ts(n).N_()&&iE(n,e))}function rE(t,e){let n=Z(t),r=Ts(n);n.Ea.delete(e),r.N_()&&FN(n,e),n.Ea.size===0&&(r.N_()?r.k_():io(n)&&n.Va.set("Unknown"))}function iE(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ts(t).Z_(e)}function FN(t,e){t.ma.Ke(e),Ts(t).X_(e)}function oE(t){t.ma=new jv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ts(t).start(),t.Va.ca()}function sE(t){return io(t)&&!Ts(t).O_()&&t.Ea.size>0}function io(t){return Z(t).da.size===0}function LN(t){t.ma=void 0}function aU(t){return _(this,null,function*(){t.Va.set("Online")})}function cU(t){return _(this,null,function*(){t.Ea.forEach((e,n)=>{iE(t,e)})})}function uU(t,e){return _(this,null,function*(){LN(t),sE(t)?(t.Va.Pa(e),oE(t)):t.Va.set("Unknown")})}function lU(t,e,n){return _(this,null,function*(){if(t.Va.set("Online"),e instanceof ah&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ea.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ea.delete(c),i.ma.removeTarget(c))})}(t,e)}catch(r){L(ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yh(t,r)}else if(e instanceof ss?t.ma.Xe(e):e instanceof sh?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ee.min()))try{let r=yield kN(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.ma.It(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(lt.EMPTY_BYTE_STRING,h.snapshotVersion)),FN(o,u);let p=new vc(h.target,u,l,h.sequenceNumber);iE(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){L(ro,"Failed to raise snapshot:",r),yield yh(t,r)}})}function yh(t,e,n){return _(this,null,function*(){if(!Ds(e))throw e;t.da.add(1),yield Nc(t),t.Va.set("Offline"),n||(n=()=>kN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){L(ro,"Retrying IndexedDB access"),yield n(),t.da.delete(1),yield jh(t)}))})}function VN(t,e){return e().catch(n=>yh(t,n,e))}function Bh(t){return _(this,null,function*(){let e=Z(t),n=Kr(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:W_;for(;dU(e);)try{let i=yield rU(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,hU(e,i)}catch(i){yield yh(e,i)}jN(e)&&BN(e)})}function dU(t){return io(t)&&t.Ia.length<10}function hU(t,e){t.Ia.push(e);let n=Kr(t);n.N_()&&n.ea&&n.ta(e.mutations)}function jN(t){return io(t)&&!Kr(t).O_()&&t.Ia.length>0}function BN(t){Kr(t).start()}function fU(t){return _(this,null,function*(){Kr(t).ia()})}function pU(t){return _(this,null,function*(){let e=Kr(t);for(let n of t.Ia)e.ta(n.mutations)})}function gU(t,e,n){return _(this,null,function*(){let r=t.Ia.shift(),i=Ov.from(r,e,n);yield VN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Bh(t)})}function mU(t,e){return _(this,null,function*(){e&&Kr(t).ea&&(yield function(r,i){return _(this,null,function*(){if(function(s){return MB(s)&&s!==M.ABORTED}(i.code)){let o=r.Ia.shift();Kr(r).L_(),yield VN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Bh(r)}})}(t,e)),jN(t)&&BN(t)})}function ES(t,e){return _(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),L(ro,"RemoteStore received new credentials");let r=io(n);n.da.add(3),yield Nc(n),r&&n.Va.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),yield jh(n)})}function yU(t,e){return _(this,null,function*(){let n=Z(t);e?(n.da.delete(2),yield jh(n)):e||(n.da.add(2),yield Nc(n),n.Va.set("Unknown"))})}function Ts(t){return t.fa||(t.fa=function(n,r,i){let o=Z(n);return o.oa(),new E_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:aU.bind(null,t),n_:cU.bind(null,t),i_:uU.bind(null,t),Y_:lU.bind(null,t)}),t.Aa.push(e=>_(null,null,function*(){e?(t.fa.L_(),sE(t)?oE(t):t.Va.set("Unknown")):(yield t.fa.stop(),LN(t))}))),t.fa}function Kr(t){return t.ga||(t.ga=function(n,r,i){let o=Z(n);return o.oa(),new I_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:fU.bind(null,t),i_:mU.bind(null,t),na:pU.bind(null,t),ra:gU.bind(null,t)}),t.Aa.push(e=>_(null,null,function*(){e?(t.ga.L_(),yield Bh(t)):(yield t.ga.stop(),t.Ia.length>0&&(L(ro,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))}))),t.ga}var b_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function aE(t,e){if(ir("AsyncQueue",`${e}: ${t}`),Ds(t))return new F(M.UNAVAILABLE,`${e}: ${t}`);throw t}var vh=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||U.comparator(n.key,r.key):(n,r)=>U.comparator(n.key,r.key),this.keyedMap=cc(),this.sortedSet=new Pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var _h=class{constructor(){this.pa=new Pe(U.comparator)}track(e){let n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):$(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){let e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}},vs=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,vh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var A_=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},S_=class{constructor(){this.queries=IS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){let i=Z(n),o=i.queries;i.queries=IS(),o.forEach((s,c)=>{for(let u of c.Sa)u.onError(r)})})(this,new F(M.ABORTED,"Firestore shutting down"))}};function IS(){return new ar(t=>hN(t),Fh)}function cE(t,e){return _(this,null,function*(){let n=Z(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new A_,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield n.onListen(i,!0);break;case 1:o.ba=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=aE(s,`Initialization of query '${ns(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Sa.push(e),e.Fa(n.onlineState),o.ba&&e.Ma(o.ba)&&lE(n)})}function uE(t,e){return _(this,null,function*(){let n=Z(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function vU(t,e){let n=Z(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.Sa)c.Ma(i)&&(r=!0);s.ba=i}}r&&lE(n)}function _U(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(n);r.queries.delete(e)}function lE(t){t.Ca.forEach(e=>{e.next()})}var N_,wS;(wS=N_||(N_={})).xa="default",wS.Cache="cache";var Ic=class{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;let r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;let n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==N_.Cache}};var Eh=class{constructor(e){this.key=e}},Ih=class{constructor(e){this.key=e}},R_=class{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=se(),this.mutatedKeys=se(),this.Za=fN(e),this.Xa=new vh(this.Za)}get eu(){return this.Ha}tu(e,n){let r=n?n.nu:new _h,i=n?n.Xa:this.Xa,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Lh(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?b!==N&&(r.track({type:3,doc:y}),R=!0):this.ru(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Za(y,u)>0||l&&this.Za(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(c=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:c,mutatedKeys:o}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(y,b){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $(20277,{Vt:R})}};return N(y)-N(b)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let c=n&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new vs(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new _h,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=se(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Ih(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Eh(r))}),n}au(e){this.Ha=e.$s,this.Ya=se();let n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return vs.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},dE="SyncEngine",M_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},P_=class{constructor(e){this.key=e,this.cu=!1}},x_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new ar(c=>hN(c),Fh),this.Pu=new Map,this.Tu=new Set,this.Iu=new Pe(U.comparator),this.Eu=new Map,this.du=new Ec,this.Au={},this.Ru=new Map,this.Vu=_c.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function EU(t,e,n=!0){return _(this,null,function*(){let r=GN(t),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield UN(r,e,n,!0),i})}function IU(t,e){return _(this,null,function*(){let n=GN(t);yield UN(n,e,!0,!1)})}function UN(t,e,n,r){return _(this,null,function*(){let i=yield iU(t.localStore,Sn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield wU(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&ON(t.remoteStore,i),c})}function wU(t,e,n,r,i){return _(this,null,function*(){t.fu=(p,m,y)=>function(N,R,k,H){return _(this,null,function*(){let ne=R.view.tu(k);ne.Cs&&(ne=yield yS(N.localStore,R.query,!1).then(({documents:D})=>R.view.tu(D,ne)));let ge=H&&H.targetChanges.get(R.targetId),dt=H&&H.targetMismatches.get(R.targetId)!=null,he=R.view.applyChanges(ne,N.isPrimaryClient,ge,dt);return TS(N,R.targetId,he.ou),he.snapshot})}(t,p,m,y);let o=yield yS(t.localStore,e,!0),s=new R_(e,o.$s),c=s.tu(o.documents),u=yc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);TS(t,n,l.ou);let h=new M_(e,n,s);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),l.snapshot})}function DU(t,e,n){return _(this,null,function*(){let r=Z(t),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!Fh(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield f_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rE(r.remoteStore,i.targetId),k_(r,i.targetId)}).catch(ws))):(k_(r,i.targetId),yield f_(r.localStore,i.targetId,!0))})}function TU(t,e){return _(this,null,function*(){let n=Z(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rE(n.remoteStore,r.targetId))})}function CU(t,e,n){return _(this,null,function*(){let r=PU(t);try{let i=yield function(s,c){let u=Z(s),l=Je.now(),h=c.reduce((y,b)=>y.add(b.key),se()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=cr(),N=se();return u.Bs.getEntries(y,h).next(R=>{b=R,b.forEach((k,H)=>{H.isValidDocument()||(N=N.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(R=>{p=R;let k=[];for(let H of c){let ne=RB(H,p.get(H.key).overlayedDocument);ne!=null&&k.push(new Mn(H.key,ne,oN(ne.value.mapValue),rr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,c)}).next(R=>{m=R;let k=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,k)})}).then(()=>({batchId:m.batchId,changes:gN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Au[s.currentUser.toKey()];l||(l=new Pe(re)),l=l.insert(c,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Rc(r,i.changes),yield Bh(r.remoteStore)}catch(i){let o=aE(i,"Failed to persist write");n.reject(o)}})}function $N(t,e){return _(this,null,function*(){let n=Z(t);try{let r=yield tU(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?de(s.cu,14607):i.removedDocuments.size>0&&(de(s.cu,42227),s.cu=!1))}),yield Rc(n,r,e)}catch(r){yield ws(r)}})}function DS(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.hu.forEach((o,s)=>{let c=s.view.Fa(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=Z(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.Sa)m.Fa(c)&&(l=!0)}),l&&lE(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bU(t,e,n){return _(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Pe(U.comparator);s=s.insert(o,hn.newNoDocument(o,ee.min()));let c=se().add(o),u=new oh(ee.min(),new Map,new Pe(re),s,c);yield $N(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),hE(r)}else yield f_(r.localStore,e,!1).then(()=>k_(r,e,n)).catch(ws)})}function AU(t,e){return _(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield eU(n.localStore,e);qN(n,r,null),HN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Rc(n,i)}catch(i){yield ws(i)}})}function SU(t,e,n){return _(this,null,function*(){let r=Z(t);try{let i=yield function(s,c){let u=Z(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(de(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);qN(r,e,n),HN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Rc(r,i)}catch(i){yield ws(i)}})}function HN(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function qN(t,e,n){let r=Z(t),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function k_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||zN(t,r)})}function zN(t,e){t.Tu.delete(e.path.canonicalString());let n=t.Iu.get(e);n!==null&&(rE(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),hE(t))}function TS(t,e,n){for(let r of n)r instanceof Eh?(t.du.addReference(r.key,e),NU(t,r)):r instanceof Ih?(L(dE,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||zN(t,r.key)):$(19791,{pu:r})}function NU(t,e){let n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(L(dE,"New document in limbo: "+n),t.Tu.add(r),hE(t))}function hE(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){let e=t.Tu.values().next().value;t.Tu.delete(e);let n=new U(Ne.fromString(e)),r=t.Vu.next();t.Eu.set(r,new P_(n)),t.Iu=t.Iu.insert(n,r),ON(t.remoteStore,new vc(Sn(Oh(n.path)),r,"TargetPurposeLimboResolution",G_.le))}}function Rc(t,e,n){return _(this,null,function*(){let r=Z(t),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((c,u)=>{s.push(r.fu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=u_.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return _(this,null,function*(){let h=Z(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.As,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ds(p))throw p;L(nE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.xs.get(m),b=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(b);h.xs=h.xs.insert(m,N)}}})}(r.localStore,o))})}function RU(t,e){return _(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){L(dE,"User change. New user:",e.toKey());let r=yield xN(n.localStore,e);n.currentUser=e,function(o,s){o.Ru.forEach(c=>{c.forEach(u=>{u.reject(new F(M.CANCELLED,s))})}),o.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Rc(n,r.ks)}})}function MU(t,e){let n=Z(t),r=n.Eu.get(e);if(r&&r.cu)return se().add(r.key);{let i=se(),o=n.Pu.get(e);if(!o)return i;for(let s of o){let c=n.hu.get(s);i=i.unionWith(c.view.eu)}return i}}function GN(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$N.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bU.bind(null,e),e.lu.Y_=vU.bind(null,e.eventManager),e.lu.gu=_U.bind(null,e.eventManager),e}function PU(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SU.bind(null,e),e}var WN=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=Vh(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Su(n),yield this.persistence.start(),this.localStore=this.Du(n),this.gcScheduler=this.vu(n,this.localStore),this.indexBackfillerScheduler=this.Cu(n,this.localStore)})}vu(n,r){return null}Cu(n,r){return null}Du(n){return XB(this.persistence,new d_,n.initialUser,this.serializer)}Su(n){return new dh(c_.fi,this.serializer)}bu(n){return new p_}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),O_=class extends WN{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){de(this.persistence.referenceDelegate instanceof hh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Qv(r,e.asyncQueue,n)}Su(e){let n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new dh(r=>hh.fi(r,n),this.serializer)}};var xU=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=RU.bind(null,this.syncEngine),yield yU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new S_}()}createDatastore(n){let r=Vh(n.databaseInfo.databaseId),i=function(s){return new __(s)}(n.databaseInfo);return function(s,c,u,l){return new D_(s,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new C_(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>DS(this.syncEngine,r,0),function(){return ph.C()?new ph:new g_}())}createSyncEngine(n,r){return function(o,s,c,u,l,h,p){let m=new x_(o,s,c,u,l,h);return p&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=Z(o);L(ro,"RemoteStore shutting down."),s.da.add(5),yield Nc(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var wc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Qr="FirestoreClient",F_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=Zd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){L(Qr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L(Qr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=aE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function av(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),L(Qr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield xN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function CS(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield kU(t);L(Qr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ES(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ES(e.remoteStore,i)),t._onlineComponents=e})}function kU(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){L(Qr,"Using user provided OfflineComponentProvider");try{yield av(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;cs("Error using user provided cache. Falling back to memory cache: "+n),yield av(t,new WN)}}else L(Qr,"Using default OfflineComponentProvider"),yield av(t,new O_(void 0));return t._offlineComponents})}function KN(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(L(Qr,"Using user provided OnlineComponentProvider"),yield CS(t,t._uninitializedComponentsProvider._online)):(L(Qr,"Using default OnlineComponentProvider"),yield CS(t,new xU))),t._onlineComponents})}function OU(t){return KN(t).then(e=>e.syncEngine)}function wh(t){return _(this,null,function*(){let e=yield KN(t),n=e.eventManager;return n.onListen=EU.bind(null,e.syncEngine),n.onUnlisten=DU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TU.bind(null,e.syncEngine),n})}function FU(t,e,n={}){let r=new dn;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,c,u,l){let h=new wc({next:m=>{h.xu(),s.enqueueAndForget(()=>uE(o,p));let y=m.docs.has(c);!y&&m.fromCache?l.reject(new F(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Ic(Oh(c.path),h,{includeMetadataChanges:!0,Qa:!0});return cE(o,p)}(yield wh(t),t.asyncQueue,e,n,r)})),r.promise}function LU(t,e,n={}){let r=new dn;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,c,u,l){let h=new wc({next:m=>{h.xu(),s.enqueueAndForget(()=>uE(o,p)),m.fromCache&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Ic(c,h,{includeMetadataChanges:!0,Qa:!0});return cE(o,p)}(yield wh(t),t.asyncQueue,e,n,r)})),r.promise}function QN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var bS=new Map;function YN(t,e,n){if(!n)throw new F(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VU(t,e,n,r){if(e===!0&&r===!0)throw new F(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AS(t){if(!U.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SS(t){if(U.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Uh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$(12329,{type:typeof t})}function Ft(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Uh(t);throw new F(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ZN="firestore.googleapis.com",NS=!0,Dh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZN,this.ssl=NS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:NS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YB)throw new F(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},_s=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cv;switch(r.type){case"firstParty":return new hv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=bS.get(n);r&&(L("ComponentProvider","Removing Datastore"),bS.delete(n),r.terminate())}(this),Promise.resolve()}};function JN(t,e,n,r={}){var i;t=Ft(t,_s);let o=zi(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Fd(`https://${u}`),Ld("Firestore",!0)),s.host!==ZN&&s.host!==u&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Tn(l,c)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=We.MOCK_USER;else{h=m0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new F(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new We(m)}t._authCredentials=new uv(new Qd(h,p))}}var Yr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ut=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},zr=class t extends Yr{constructor(e,n,r){super(e,n,Oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new U(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function XN(t,e,...n){if(t=Ce(t),YN("collection","path",e),t instanceof _s){let r=Ne.fromString(e,...n);return SS(r),new zr(t,null,r)}{if(!(t instanceof ut||t instanceof zr))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return SS(r),new zr(t.firestore,null,r)}}function fE(t,e,...n){if(t=Ce(t),arguments.length===1&&(e=Zd.newId()),YN("doc","path",e),t instanceof _s){let r=Ne.fromString(e,...n);return AS(r),new ut(t,null,new U(r))}{if(!(t instanceof ut||t instanceof zr))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return AS(r),new ut(t.firestore,t instanceof zr?t.converter:null,new U(r))}}var RS="AsyncQueue",Th=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new gh(this,"async_queue_retry"),this.rc=()=>{let r=sv();r&&L(RS,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let n=sv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let n=sv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let n=new dn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return _(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ds(e))throw e;L(RS,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ir("INTERNAL UNHANDLED ERROR: ",MS(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);let i=b_.createAndSchedule(this,e,n,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&$(47125,{cc:MS(this.Xu)})}verifyOperationInProgress(){}lc(){return _(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let n=this.Zu.indexOf(e);this.Zu.splice(n,1)}};function MS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function PS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Pn=class extends _s{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Th,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Th(e),this._firestoreClient=void 0,yield e}})}};function eR(t,e){let n=typeof t=="object"?t:Wi(),r=typeof t=="string"?t:e||th,i=Xo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=g0("firestore");o&&JN(i,...o)}return i}function $h(t){if(t._terminated)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jU(t),t._firestoreClient}function jU(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,h){return new yv(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,QN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new F_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Dc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(lt.fromBase64String(e))}catch(n){throw new F(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Es=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Tc=class{constructor(e){this._methodName=e}};var Cc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}};var bc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var BU=/^__.*__$/,L_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mn(e,this.data,this.fieldMask,n,this.fieldTransforms):new no(e,this.data,n,this.fieldTransforms)}},Ch=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function tR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $(40011,{Ic:t})}}var V_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ah(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(tR(this.Ic)&&BU.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},j_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vh(e)}bc(e,n,r,i=!1){return new V_({Ic:e,methodName:n,wc:r,path:Ot.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Hh(t){let e=t._freezeSettings(),n=Vh(t._databaseId);return new j_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nR(t,e,n,r,i,o={}){let s=t.bc(o.merge||o.mergeFields?2:0,e,n,i);pE("Data must be an object, but it was:",s,r);let c=rR(r,s),u,l;if(o.merge)u=new Wt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=B_(e,p,n);if(!s.contains(m))throw new F(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);oR(h,m)||h.push(m)}u=new Wt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new L_(new kt(c),u,l)}var bh=class t extends Tc{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function UU(t,e,n,r){let i=t.bc(1,e,n);pE("Data must be an object, but it was:",i,r);let o=[],s=kt.empty();Zr(r,(u,l)=>{let h=gE(e,u,n);l=Ce(l);let p=i.mc(h);if(l instanceof bh)o.push(h);else{let m=Mc(l,p);m!=null&&(o.push(h),s.set(h,m))}});let c=new Wt(o);return new Ch(s,c,i.fieldTransforms)}function $U(t,e,n,r,i,o){let s=t.bc(1,e,n),c=[B_(e,r,n)],u=[i];if(o.length%2!=0)throw new F(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)c.push(B_(e,o[m])),u.push(o[m+1]);let l=[],h=kt.empty();for(let m=c.length-1;m>=0;--m)if(!oR(l,c[m])){let y=c[m],b=u[m];b=Ce(b);let N=s.mc(y);if(b instanceof bh)l.push(y);else{let R=Mc(b,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new Wt(l);return new Ch(h,p,s.fieldTransforms)}function HU(t,e,n,r=!1){return Mc(n,t.bc(r?4:3,e))}function Mc(t,e){if(iR(t=Ce(t)))return pE("Unsupported field value:",e,t),rR(t,e);if(t instanceof Tc)return function(r,i){if(!tR(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=Mc(c,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Je.fromDate(r);return{timestampValue:uh(i.serializer,o)}}if(r instanceof Je){let o=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(i.serializer,o)}}if(r instanceof Cc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dc)return{bytesValue:CN(i.serializer,r._byteString)};if(r instanceof ut){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bc)return function(s,c){return{mapValue:{fields:{[Q_]:{stringValue:Y_},[ls]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.gc("VectorValues must only contain numeric values.");return eE(c.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Uh(r)}`)}(t,e)}function rR(t,e){let n={};return ZS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,(r,i)=>{let o=Mc(i,e.Ac(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function iR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Cc||t instanceof Dc||t instanceof ut||t instanceof Tc||t instanceof bc)}function pE(t,e,n){if(!iR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Uh(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function B_(t,e,n){if((e=Ce(e))instanceof Es)return e._internalPath;if(typeof e=="string")return gE(t,e);throw Ah("Field path arguments must be of type string or ",t,!1,void 0,n)}var qU=new RegExp("[~\\*/\\[\\]]");function gE(t,e,n){if(e.search(qU)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Es(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ah(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new F(M.INVALID_ARGUMENT,c+t+u)}function oR(t,e){return t.some(n=>n.isEqual(e))}var Sh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new U_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(qh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},U_=class extends Sh{data(){return super.data()}};function qh(t,e){return typeof e=="string"?gE(t,e):e instanceof Es?e._internalPath:e._delegate._internalPath}function sR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ac=class{},Nh=class extends Ac{};function aR(t,e,...n){let r=[];e instanceof Ac&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof $_).length,c=o.filter(u=>u instanceof Rh).length;if(s>1||s>0&&c>0)throw new F(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Rh=class t extends Nh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return lR(e._query,n),new Yr(e.firestore,e.converter,Rv(e._query,n))}_parse(e){let n=Hh(e.firestore);return function(o,s,c,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new F(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){kS(p,h);let b=[];for(let N of p)b.push(xS(u,o,N));m={arrayValue:{values:b}}}else m=xS(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||kS(p,h),m=HU(c,s,p,h==="in"||h==="not-in");return je.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function cR(t,e,n){let r=e,i=qh("where",t);return Rh._create(i,r,n)}var $_=class t extends Ac{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)lR(s,u),s=Rv(s,u)}(e._query,n),new Yr(e.firestore,e.converter,Rv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var H_=class t extends Nh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new F(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xi(o,s)}(e._query,this._field,this._direction);return new Yr(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Wr(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function uR(t,e="asc"){let n=e,r=qh("orderBy",t);return H_._create(r,n)}function xS(t,e,n){if(typeof(n=Ce(n))=="string"){if(n==="")throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dN(e)&&n.indexOf("/")!==-1)throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ne.fromString(n));if(!U.isDocumentKey(r))throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return J0(t,new U(r))}if(n instanceof ut)return J0(t,n._key);throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(n)}.`)}function kS(t,e){if(!Array.isArray(t)||t.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lR(t,e){let n=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var q_=class{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Zr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ls].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>be(s.doubleValue));return new bc(o)}convertGeoPoint(e){return new Cc(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=kh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){let n=or(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);de(MN(r),9688,{name:e});let i=new nh(r.get(1),r.get(3)),o=new U(r.popFirst(5));return i.isEqual(n)||ir(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function dR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Yi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Mh=class extends Sh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new as(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(qh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},as=class extends Mh{data(e={}){return super.data(e)}},Ph=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Yi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new as(this._firestore,this._userDataWriter,r.key,r,new Yi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new as(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Yi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new as(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Yi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:zU(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function zU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $(61501,{type:t})}}function hR(t){t=Ft(t,ut);let e=Ft(t.firestore,Pn);return FU($h(e),t._key).then(n=>yR(e,t,n))}var Sc=class extends q_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}};function fR(t){t=Ft(t,Yr);let e=Ft(t.firestore,Pn),n=$h(e),r=new Sc(e);return sR(t._query),LU(n,t._query).then(i=>new Ph(e,r,t,i))}function pR(t,e,n){t=Ft(t,ut);let r=Ft(t.firestore,Pn),i=dR(t.converter,e,n);return yE(r,[nR(Hh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rr.none())])}function gR(t,e,n,...r){t=Ft(t,ut);let i=Ft(t.firestore,Pn),o=Hh(i),s;return s=typeof(e=Ce(e))=="string"||e instanceof Es?$U(o,"updateDoc",t._key,e,n,r):UU(o,"updateDoc",t._key,e),yE(i,[s.toMutation(t._key,rr.exists(!0))])}function mR(t,e){let n=Ft(t.firestore,Pn),r=fE(t),i=dR(t.converter,e);return yE(n,[nR(Hh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function mE(t,...e){var n,r,i;t=Ce(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||PS(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(PS(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof ut)l=Ft(t.firestore,Pn),h=Oh(t._key.path),u={next:p=>{e[s]&&e[s](yR(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Ft(t,Yr);l=Ft(p.firestore,Pn),h=p._query;let m=new Sc(l);u={next:y=>{e[s]&&e[s](new Ph(l,m,p,y))},error:e[s+1],complete:e[s+2]},sR(t._query)}return function(m,y,b,N){let R=new wc(N),k=new Ic(y,R,b);return m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return cE(yield wh(m),k)})),()=>{R.xu(),m.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return uE(yield wh(m),k)}))}}($h(l),h,c,u)}function yE(t,e){return function(r,i){let o=new dn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return CU(yield OU(r),i,o)})),o.promise}($h(t),e)}function yR(t,e,n){let r=n.docs.get(e._key),i=new Sc(t);return new Mh(t,i,e._key,r,new Yi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Is=i})(qr),ln(new yt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Pn(new lv(r.getProvider("auth-internal")),new fv(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Me($0,H0,e),Me($0,H0,"esm2017")})();var GU="firebase",WU="11.9.0";Me(GU,WU,"app");function kte(t,e){let r=!e?.manualCleanup?e?.injector?.get(Rt)??O(Rt):null,i=KU(e?.equal),o;e?.requireSync?o=Mt({kind:0},{equal:i}):o=Mt({kind:1,value:e?.initialValue},{equal:i});let s,c=t.subscribe({next:u=>o.set({kind:1,value:u}),error:u=>{o.set({kind:2,error:u}),s?.()},complete:()=>{s?.()}});if(e?.requireSync&&o().kind===0)throw new V(601,!1);return s=r?.onDestroy(c.unsubscribe.bind(c)),Yn(()=>{let u=o();switch(u.kind){case 1:return u.value;case 2:throw u.error;case 0:throw new V(601,!1)}},{equal:e?.equal})}function KU(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}function vR(t){t===void 0&&(t=O(xe));let e=t.get(Ri);return n=>new Q(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Jr=new Ui("ANGULARFIRE2_VERSION");function Pc(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var bs=(t,e)=>{let n=e?[e]:Bd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Cs=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Cs||{}),_R=ay()&&typeof Zone<"u"?Cs.WARN:Cs.SILENT;var zh=class{zone;delegate;constructor(e,n=Jf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Xr=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=O(ve);this.outsideAngular=n.runOutsideAngular(()=>new zh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new zh(typeof Zone>"u"?void 0:Zone.current,vr))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ER=!1;function QU(t,e){!ER&&(_R>Cs.SILENT||ay())&&(ER=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),_R>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function YU(t){let e=O(ve,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function oo(t){let e=O(ve,{optional:!0});return e?e.run(()=>t()):t()}var ZU=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Ar(n,()=>oo(()=>t.apply(void 0,r)))),De=(t,e,n)=>(n||=e?Cs.WARN:Cs.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=O(Xr),s=O(Ri),c=O(wt)}catch{return QU(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=oo(()=>s.add())),i[l]=ZU(i[l],r,c));let u=YU(()=>t.apply(this,i));return e?u instanceof Q?u.pipe(Er(o.outsideAngular),_r(o.insideAngular),vR(c)):u instanceof Promise?oo(()=>(s.run(()=>u),new Promise((l,h)=>{u.then(p=>Ar(c,()=>oo(()=>l(p))),p=>Ar(c,()=>oo(()=>h(p))))}))):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:oo(()=>u):u instanceof Q?u.pipe(Er(o.outsideAngular),_r(o.insideAngular)):oo(()=>u)});var ur=class{constructor(e){return e}},so=class{constructor(){return Bd()}};function JU(t){return t&&t.length===1?t[0]:new ur(Wi())}var vE=new B("angularfire2._apps"),XU={provide:ur,useFactory:JU,deps:[[new Tt,vE]]},e$={provide:so,deps:[[new Tt,vE]]};function t$(t){return(e,n)=>{let r=n.get(am);Me("angularfire",Jr.full,"core"),Me("angularfire",Jr.full,"app"),Me("angular",aA.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ur(i)}}function Xte(t,...e){return Vt([XU,e$,{provide:vE,useFactory:t$(t),multi:!0,deps:[ve,xe,Xr,...e]}])}var ene=De(Zy,!0);var n$=new Map,r$={activated:!1,tokenObservers:[]},i$={initialized:!1,enabled:!1};function pn(t){return n$.get(t)||Object.assign({},r$)}function TR(){return i$}var o$="https://content-firebaseappcheck.googleapis.com/v1";var s$="exchangeDebugToken",IR={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},une=24*60*60*1e3;var IE=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new qi,this.pending.promise.catch(n=>{}),yield a$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new qi,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function a$(t){return new Promise(e=>{setTimeout(e,t)})}var c$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ei=new un("appCheck","AppCheck",c$);function CR(t){if(!pn(t).activated)throw ei.create("use-before-activation",{appName:t.name})}function bR(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(y){throw ei.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw ei.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw ei.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ei.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function AR(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${o$}/projects/${n}/apps/${r}:${s$}?key=${i}`,body:{debug_token:e}}}var u$="firebase-app-check-database",l$=1,wE="firebase-app-check-store";var Gh=null;function d$(){return Gh||(Gh=new Promise((t,e)=>{try{let n=indexedDB.open(u$,l$);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ei.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(wE,{keyPath:"compositeKey"})}}}catch(n){e(ei.create("storage-open",{originalErrorMessage:n?.message}))}}),Gh)}function h$(t,e){return f$(p$(t),e)}function f$(t,e){return _(this,null,function*(){let r=(yield d$()).transaction(wE,"readwrite"),o=r.objectStore(wE).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(ei.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function p$(t){return`${t.options.appId}-${t.name}`}var xc=new Cn("@firebase/app-check");function _E(t,e){return rc()?h$(t,e).catch(n=>{xc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function SR(){return TR().enabled}function NR(){return _(this,null,function*(){let t=TR();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var g$={error:"UNKNOWN_ERROR"};function m$(t){return xd.encodeString(JSON.stringify(t),!1)}function DE(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;CR(r);let i=pn(r),o=i.token,s;if(o&&!kc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(kc(l)?o=l:yield _E(r,void 0))}if(!e&&o&&kc(o))return{token:o.token};let c=!1;if(SR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=bR(AR(r,yield NR()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield _E(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?xc.warn(l.message):n&&xc.error(l),EE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield pn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?xc.warn(l.message):n&&xc.error(l),s=l}let u;return o?s?kc(o)?u={token:o.token,internalError:s}:u=EE(s):(u={token:o.token},i.token=o,yield _E(r,o)):u=EE(s),c&&E$(r,u),u})}function y$(t){return _(this,null,function*(){let e=t.app;CR(e);let{provider:n}=pn(e);if(SR()){let r=yield NR(),{token:i}=yield bR(AR(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function v$(t,e,n,r){let{app:i}=t,o=pn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&kc(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),wR(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>wR(t))}function RR(t,e){let n=pn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function wR(t){let{app:e}=t,n=pn(e),r=n.tokenRefresher;r||(r=_$(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function _$(t){let{app:e}=t;return new IE(()=>_(null,null,function*(){let n=pn(e),r;if(n.token?r=yield DE(t,!0):r=yield DE(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=pn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},IR.RETRIAL_MIN_WAIT,IR.RETRIAL_MAX_WAIT)}function E$(t,e){let n=pn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function kc(t){return t.expireTimeMillis-Date.now()>0}function EE(t){return{token:m$(g$),error:t}}var TE=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=pn(this.app);for(let n of e)RR(this.app,n.next);return Promise.resolve()}};function I$(t,e){return new TE(t,e)}function w$(t){return{getToken:e=>DE(t,e),getLimitedUseToken:()=>y$(t),addTokenListener:e=>v$(t,"INTERNAL",e),removeTokenListener:e=>RR(t.app,e)}}var D$="@firebase/app-check",T$="0.10.0";var C$="app-check",DR="app-check-internal";function b$(){ln(new yt(C$,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return I$(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(DR).initialize()})),ln(new yt(DR,t=>{let e=t.getProvider("app-check").getImmediate();return w$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Me(D$,T$)}b$();var A$="app-check";var As=class{constructor(){return bs(A$)}};var S$=["localhost","0.0.0.0","127.0.0.1"],wne=typeof window<"u"&&S$.includes(window.location.hostname);function GR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WR=GR,KR=new un("auth","Firebase",GR());var Jh=new Cn("@firebase/auth");function N$(t,...e){Jh.logLevel<=ie.WARN&&Jh.warn(`Auth (${qr}): ${t}`,...e)}function Kh(t,...e){Jh.logLevel<=ie.ERROR&&Jh.error(`Auth (${qr}): ${t}`,...e)}function kn(t,...e){throw QE(t,...e)}function ao(t,...e){return QE(t,...e)}function QR(t,e,n){let r=Object.assign(Object.assign({},WR()),{[e]:n});return new un("auth","Firebase",r).create(e,{appName:t.name})}function hr(t){return QR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QE(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KR.create(t,...e)}function j(t,e,...n){if(!t)throw QE(e,...n)}function lr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Kh(e),new Error(e)}function ri(t,e){t||lr(e)}function SE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function R$(){return MR()==="http:"||MR()==="https:"}function MR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function M$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(R$()||_0()||"connection"in navigator)?navigator.onLine:!0}function P$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var co=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=y0()||E0()}get(){return M$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function YE(t,e){ri(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Xh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var x$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var k$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O$=new co(3e4,6e4);function On(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Fn(o,s,c,u){return _(this,arguments,function*(t,e,n,r,i={}){return YR(t,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ic(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return v0()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&zi(t.emulatorConfig.host)&&(y.credentials="include"),Xh.fetch()(yield ZR(t,t.config.apiHost,n,p),y)}))})}function YR(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},x$),e);try{let i=new NE(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Wh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Wh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Wh(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw QR(t,h,l);kn(t,h)}}catch(i){if(i instanceof xt)throw i;kn(t,"network-request-failed",{message:String(i)})}})}function Hc(o,s,c,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield Fn(t,e,n,r,i);return"mfaPendingCredential"in l&&kn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function ZR(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?YE(t.config,i):`${t.config.apiScheme}://${i}`;return k$.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function F$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var NE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ao(this.auth,"network-request-failed")),O$.get())})}};function Wh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ao(t,e,r);return i.customData._tokenResponse=n,i}function PR(t){return t!==void 0&&t.enterprise!==void 0}var RE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return F$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function L$(t,e){return _(this,null,function*(){return Fn(t,"GET","/v2/recaptchaConfig",On(t,e))})}function V$(t,e){return _(this,null,function*(){return Fn(t,"POST","/v1/accounts:delete",e)})}function ef(t,e){return _(this,null,function*(){return Fn(t,"POST","/v1/accounts:lookup",e)})}function Fc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ZE(t,e=!1){return _(this,null,function*(){let n=Ce(t),r=yield n.getIdToken(e),i=JE(r);j(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Fc(CE(i.auth_time)),issuedAtTime:Fc(CE(i.iat)),expirationTime:Fc(CE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function CE(t){return Number(t)*1e3}function JE(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{let i=kd(n);return i?JSON.parse(i):(Kh("Failed to decode base64 JWT payload"),null)}catch(i){return Kh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xR(t){let e=JE(t);return j(e,"internal-error"),j(typeof e.exp<"u","internal-error"),j(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Vc(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof xt&&j$(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function j$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ME=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var jc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fc(this.lastLoginAt),this.creationTime=Fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function tf(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Vc(t,ef(n,{idToken:r}));j(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JR(o.providerUserInfo):[],c=B$(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new jc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function XE(t){return _(this,null,function*(){let e=Ce(t);yield tf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function B$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JR(t){return t.map(e=>{var{providerId:n}=e,r=ep(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function U$(t,e){return _(this,null,function*(){let n=yield YR(t,{},()=>_(null,null,function*(){let r=ic({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield ZR(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Xh.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function $$(t,e){return _(this,null,function*(){return Fn(t,"POST","/v2/accounts:revokeToken",On(t,e))})}var Lc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){j(e.idToken,"internal-error"),j(typeof e.idToken<"u","internal-error"),j(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){j(e.length!==0,"internal-error");let n=xR(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(j(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield U$(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(j(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(j(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(j(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return lr("not implemented")}};function ti(t,e){j(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ni=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ME(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new jc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Vc(this,this.stsTokenManager.getToken(this.auth,e));return j(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ZE(this,e)}reload(){return XE(this)}_assign(e){this!==e&&(j(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){j(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield tf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(At(this.auth.app))return Promise.reject(hr(this.auth));let e=yield this.getIdToken();return yield Vc(this,V$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,H=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ne,emailVerified:ge,isAnonymous:dt,providerData:he,stsTokenManager:D}=n;j(ne&&D,e,"internal-error");let v=Lc.fromJSON(this.name,D);j(typeof ne=="string",e,"internal-error"),ti(p,e.name),ti(m,e.name),j(typeof ge=="boolean",e,"internal-error"),j(typeof dt=="boolean",e,"internal-error"),ti(y,e.name),ti(b,e.name),ti(N,e.name),ti(R,e.name),ti(k,e.name),ti(H,e.name);let I=new t({uid:ne,auth:e,email:m,emailVerified:ge,displayName:p,isAnonymous:dt,photoURL:b,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:k,lastLoginAt:H});return he&&Array.isArray(he)&&(I.providerData=he.map(w=>Object.assign({},w))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Lc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield tf(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];j(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?JR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Lc;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new jc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var kR=new Map;function dr(t){ri(t instanceof Function,"Expected a class definition");let e=kR.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kR.set(t,e),e)}var H$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),PE=H$;function Qh(t,e,n){return`firebase:${t}:${e}:${n}`}var nf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Qh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield ef(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(dr(PE),e,r);let i=(yield Promise.all(n.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||dr(PE),s=Qh(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield ef(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield ni._fromGetAccountInfoResponse(e,m,h)}else p=ni._fromJSON(e,h);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function OR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iM(e))return"Blackberry";if(oM(e))return"Webos";if(eM(e))return"Safari";if((e.includes("chrome/")||tM(e))&&!e.includes("edge/"))return"Chrome";if(rM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function XR(t=Ge()){return/firefox\//i.test(t)}function eM(t=Ge()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tM(t=Ge()){return/crios\//i.test(t)}function nM(t=Ge()){return/iemobile/i.test(t)}function rM(t=Ge()){return/android/i.test(t)}function iM(t=Ge()){return/blackberry/i.test(t)}function oM(t=Ge()){return/webos/i.test(t)}function eI(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function q$(t=Ge()){var e;return eI(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function z$(){return I0()&&document.documentMode===10}function sM(t=Ge()){return eI(t)||rM(t)||oM(t)||iM(t)||/windows phone/i.test(t)||nM(t)}function aM(t,e=[]){let n;switch(t){case"Browser":n=OR(Ge());break;case"Worker":n=`${OR(Ge())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qr}/${r}`}var xE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function G$(n){return _(this,arguments,function*(t,e={}){return Fn(t,"GET","/v2/passwordPolicy",On(t,e))})}var W$=6,kE=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:W$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var OE=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rf(this),this.idTokenSubscription=new rf(this),this.beforeStateQueue=new xE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield nf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield ef(this,{idToken:e}),r=yield ni._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(At(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return j(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield tf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=P$()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(At(this.app))return Promise.reject(hr(this));let n=e?Ce(e):null;return n&&j(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&j(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return At(this.app)?Promise.reject(hr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return At(this.app)?Promise.reject(hr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(dr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield G$(this),n=new kE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new un("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield $$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&dr(e)||this._popupRedirectResolver;j(n,this,"argument-error"),this.redirectPersistenceManager=yield nf.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(j(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return j(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(At(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&N$(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function lo(t){return Ce(t)}var rf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=C0(n=>this.observer=n)}get next(){return j(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var df={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K$(t){df=t}function cM(t){return df.loadJS(t)}function Q$(){return df.recaptchaEnterpriseScript}function Y$(){return df.gapiScript}function uM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var FE=class{constructor(){this.enterprise=new LE}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},LE=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var Z$="recaptcha-enterprise",lM="NO_RECAPTCHA",VE=class{constructor(e){this.type=Z$,this.auth=lo(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,c)=>_(null,null,function*(){L$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new RE(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(o,s,c){let u=window.grecaptcha;PR(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(lM)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FE().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(c=>{if(!n&&PR(window.grecaptcha))i(c,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Q$();u.length!==0&&(u+=c),cM(u).then(()=>{i(c,o,s)}).catch(l=>{s(l)})}}).catch(c=>{s(c)})})})}};function Oc(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new VE(t),s;if(i)s=lM;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let u=c.phoneEnrollmentInfo.phoneNumber,l=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:s}):Object.assign(c,{captchaResponse:s}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function jE(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield Oc(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(c=>_(null,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Oc(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(c)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let c=yield Oc(t,e,n);return r(t,c).catch(u=>_(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield Oc(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let c=yield Oc(t,e,n,!1,!0);return r(t,c)}else return Promise.reject(i+" provider is not supported.")})}function tI(t,e){let n=Xo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Tn(o,e??{}))return i;kn(i,"already-initialized")}return n.initialize({options:e})}function J$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(dr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function nI(t,e,n){let r=lo(t);j(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=dM(e),{host:s,port:c}=X$(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){j(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),j(Tn(l,r.config.emulator)&&Tn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,zi(s)?(Fd(`${o}//${s}${u}`),Ld("Auth",!0)):i||eH()}function dM(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X$(t){let e=dM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:FR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:FR(s)}}}function FR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function eH(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Bc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}};function tH(t,e){return _(this,null,function*(){return Fn(t,"POST","/v1/accounts:signUp",e)})}function nH(t,e){return _(this,null,function*(){return Fn(t,"POST","/v1/accounts:update",On(t,e))})}function rH(t,e){return _(this,null,function*(){return Hc(t,"POST","/v1/accounts:signInWithPassword",On(t,e))})}function iH(t,e){return _(this,null,function*(){return Fn(t,"POST","/v1/accounts:sendOobCode",On(t,e))})}function oH(t,e){return _(this,null,function*(){return iH(t,e)})}function sH(t,e){return _(this,null,function*(){return Hc(t,"POST","/v1/accounts:signInWithEmailLink",On(t,e))})}function aH(t,e){return _(this,null,function*(){return Hc(t,"POST","/v1/accounts:signInWithEmailLink",On(t,e))})}var Uc=class t extends Bc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jE(e,n,"signInWithPassword",rH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return sH(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jE(e,r,"signUpPassword",tH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return aH(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function bE(t,e){return _(this,null,function*(){return Hc(t,"POST","/v1/accounts:signInWithIdp",On(t,e))})}function cH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uH(t){let e=Zo(Jo(t)).link,n=e?Zo(Jo(e)).deep_link_id:null,r=Zo(Jo(t)).deep_link_id;return(r?Zo(Jo(r)).link:null)||r||n||e||t}var of=class t{constructor(e){var n,r,i,o,s,c;let u=Zo(Jo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=cH((i=u.mode)!==null&&i!==void 0?i:null);j(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=uH(e);try{return new t(n)}catch{return null}}};var hM=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Uc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=of.parseLink(r);return j(i,"argument-error"),Uc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),sf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var BE=class extends sf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function lH(t,e){return _(this,null,function*(){return Hc(t,"POST","/v1/accounts:signUp",On(t,e))})}var Ss=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield ni._fromIdTokenResponse(e,r,i),s=LR(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=LR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function LR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var UE=class t extends xt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function fM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?UE._fromErrorAndOperation(t,o,e,r):o})}function dH(t,e,n=!1){return _(this,null,function*(){let r=yield Vc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ss._forOperation(t,"link",r)})}function hH(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(At(r.app))return Promise.reject(hr(r));let i="reauthenticate";try{let o=yield Vc(t,fM(r,i,e,t),n);j(o.idToken,r,"internal-error");let s=JE(o.idToken);j(s,r,"internal-error");let{sub:c}=s;return j(t.uid===c,r,"user-mismatch"),Ss._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&kn(r,"user-mismatch"),o}})}function pM(t,e,n=!1){return _(this,null,function*(){if(At(t.app))return Promise.reject(hr(t));let r="signIn",i=yield fM(t,r,e),o=yield Ss._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function rI(t,e){return _(this,null,function*(){return pM(lo(t),e)})}function fH(t,e,n){var r;j(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),j(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),j(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(j(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(j(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function gM(t){return _(this,null,function*(){let e=lo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function iI(t,e){return _(this,null,function*(){yield nH(Ce(t),{oobCode:e})})}function oI(t,e,n){return _(this,null,function*(){if(At(t.app))return Promise.reject(hr(t));let r=lo(t),s=yield jE(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lH,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&gM(t),u}),c=yield Ss._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(c.user),c})}function sI(t,e,n){return At(t.app)?Promise.reject(hr(t)):rI(Ce(t),hM.credential(e,n)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&gM(t),r}))}function aI(t,e){return _(this,null,function*(){let n=Ce(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&fH(n.auth,i,e);let{email:o}=yield oH(n.auth,i);o!==t.email&&(yield t.reload())})}function hf(t,e,n,r){return Ce(t).onIdTokenChanged(e,n,r)}function cI(t,e,n){return Ce(t).beforeAuthStateChanged(e,n)}function ff(t,e,n,r){return Ce(t).onAuthStateChanged(e,n,r)}function uI(t){return Ce(t).signOut()}var af="__sak";var cf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var pH=1e3,gH=10,mH=(()=>{class t extends cf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sM(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);z$()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,gH):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},pH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield yr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield yr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield yr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),mM=mH;var yH=(()=>{class t extends cf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),lI=yH;function vH(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var _H=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield vH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function yM(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var $E=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=yM("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function xn(){return window}function EH(t){xn().location.href=t}function vM(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}function IH(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function wH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function DH(){return vM()?self:null}var _M="firebaseLocalStorageDb",TH=1,uf="firebaseLocalStorage",EM="fbase_key",uo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function pf(t,e){return t.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function CH(){let t=indexedDB.deleteDatabase(_M);return new uo(t).toPromise()}function HE(){let t=indexedDB.open(_M,TH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(uf,{keyPath:EM})}catch(i){n(i)}}),t.addEventListener("success",()=>_(null,null,function*(){let r=t.result;r.objectStoreNames.contains(uf)?e(r):(r.close(),yield CH(),e(yield HE()))}))})}function VR(t,e,n){return _(this,null,function*(){let r=pf(t,!0).put({[EM]:e,value:n});return new uo(r).toPromise()})}function bH(t,e){return _(this,null,function*(){let n=pf(t,!1).get(e),r=yield new uo(n).toPromise();return r===void 0?null:r.value})}function jR(t,e){let n=pf(t,!0).delete(e);return new uo(n).toPromise()}var AH=800,SH=3,NH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield HE(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>SH)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return vM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=_H._getInstance(DH()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield IH(),!this.activeServiceWorker)return;this.sender=new $E(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||wH()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield HE();return yield VR(n,af,"1"),yield jR(n,af),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>VR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>bH(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>jR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=pf(o,!1).getAll();return new uo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),AH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),IM=NH;var Rne=uM("rcb"),Mne=new co(3e4,6e4);function RH(t,e){return e?dr(e):(j(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var $c=class extends Bc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bE(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bE(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bE(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function MH(t){return pM(t.auth,new $c(t),t.bypassAuthState)}function PH(t){let{auth:e,user:n}=t;return j(n,e,"internal-error"),hH(n,new $c(t),t.bypassAuthState)}function xH(t){return _(this,null,function*(){let{auth:e,user:n}=t;return j(n,e,"internal-error"),dH(n,new $c(t),t.bypassAuthState)})}var qE=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MH;case"linkViaPopup":case"linkViaRedirect":return xH;case"reauthViaPopup":case"reauthViaRedirect":return PH;default:kn(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Pne=new co(2e3,1e4);var kH="pendingRedirect",Yh=new Map,zE=class t extends qE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Yh.get(this.auth._key());if(!e){try{let r=(yield OH(this.resolver,this.auth))?yield yr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return yr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,yr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function OH(t,e){return _(this,null,function*(){let n=VH(e),r=LH(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function FH(t,e){Yh.set(t._key(),e)}function LH(t){return dr(t._redirectPersistence)}function VH(t){return Qh(kH,t.config.apiKey,t.name)}function jH(t,e,n=!1){return _(this,null,function*(){if(At(t.app))return Promise.reject(hr(t));let r=lo(t),i=RH(r,e),s=yield new zE(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var BH=10*60*1e3,GE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ao(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BH&&this.cachedEventUids.clear(),this.cachedEventUids.has(BR(e))}saveEventToCache(e){this.cachedEventUids.add(BR(e)),this.lastProcessedEventTime=Date.now()}};function BR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wM({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function UH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wM(t);default:return!1}}function $H(n){return _(this,arguments,function*(t,e={}){return Fn(t,"GET","/v1/projects",e)})}var HH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qH=/^https?/;function zH(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield $H(t);for(let n of e)try{if(GH(n))return}catch{}kn(t,"unauthorized-domain")})}function GH(t){let e=SE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!qH.test(n))return!1;if(HH.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var WH=new co(3e4,6e4);function UR(){let t=xn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KH(t){return new Promise((e,n)=>{var r,i,o;function s(){UR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UR(),n(ao(t,"network-request-failed"))},timeout:WH.get()})}if(!((i=(r=xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=xn().gapi)===null||o===void 0)&&o.load)s();else{let c=uM("iframefcb");return xn()[c]=()=>{gapi.load?s():n(ao(t,"network-request-failed"))},cM(`${Y$()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Zh=null,e})}var Zh=null;function QH(t){return Zh=Zh||KH(t),Zh}var YH=new co(5e3,15e3),ZH="__/auth/iframe",JH="emulator/auth/iframe",XH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t4(t){let e=t.config;j(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?YE(e,JH):`https://${t.config.authDomain}/${ZH}`,r={apiKey:e.apiKey,appName:t.name,v:qr},i=e4.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ic(r).slice(1)}`}function n4(t){return _(this,null,function*(){let e=yield QH(t),n=xn().gapi;return j(n,t,"internal-error"),e.open({where:document.body,url:t4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XH,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ao(t,"network-request-failed"),c=xn().setTimeout(()=>{o(s)},YH.get());function u(){xn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var r4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i4=500,o4=600,s4="_blank",a4="http://localhost",lf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function c4(t,e,n,r=i4,i=o4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},r4),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ge().toLowerCase();n&&(c=tM(l)?s4:n),XR(l)&&(e=e||a4,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,b])=>`${m}${y}=${b},`,"");if(q$(l)&&c!=="_self")return u4(e||"",c),new lf(null);let p=window.open(e||"",c,h);j(p,t,"popup-blocked");try{p.focus()}catch{}return new lf(p)}function u4(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var l4="__/auth/handler",d4="emulator/auth/handler",h4=encodeURIComponent("fac");function $R(t,e,n,r,i,o){return _(this,null,function*(){j(t.config.authDomain,t,"auth-domain-config-required"),j(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qr,eventId:i};if(e instanceof sf){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",T0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof BE){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=yield t._getAppCheckToken(),l=u?`#${h4}=${encodeURIComponent(u)}`:"";return`${f4(t)}?${ic(c).slice(1)}${l}`})}function f4({config:t}){return t.emulator?YE(t,d4):`https://${t.authDomain}/${l4}`}var AE="webStorageSupport",WE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lI,this._completeRedirectFn=jH,this._overrideRedirectResult=FH}_openPopup(e,n,r,i){return _(this,null,function*(){var o;ri((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield $R(e,n,r,SE(),i);return c4(e,s,yM())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield $R(e,n,r,SE(),i);return EH(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ri(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield n4(e),r=new GE(e);return n.register("authEvent",i=>(j(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(AE,{type:AE},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[AE];s!==void 0&&n(!!s),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sM()||eM()||eI()}},DM=WE;var HR="@firebase/auth",qR="1.10.6";var KE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){j(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function p4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g4(t){ln(new yt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;j(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aM(t)},l=new OE(r,i,o,u);return J$(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ln(new yt("auth-internal",e=>{let n=lo(e.getProvider("auth").getImmediate());return(r=>new KE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(HR,qR,p4(t)),Me(HR,qR,"esm2017")}var m4=5*60,y4=Fy("authIdTokenMaxAge")||m4,zR=null,v4=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y4)return;let i=n?.token;zR!==i&&(zR=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function dI(t=Wi()){let e=Xo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=tI(t,{popupRedirectResolver:DM,persistence:[IM,mM,lI]}),r=Fy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=v4(o.toString());cI(n,s,()=>s(n.currentUser)),hf(n,c=>s(c))}}let i=ky("auth");return i&&nI(n,`http://${i}`),n}function _4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}K$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=ao("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",_4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g4("Browser");function CM(t){return new Q(function(e){var n=ff(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var bM="auth",qc=class{constructor(e){return e}},zc=class{constructor(){return bs(bM)}};var hI=new B("angularfire2.auth-instances");function iq(t,e){let n=Pc(bM,t,e);return n&&new qc(n)}function oq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new qc(r)}}var sq={provide:zc,deps:[[new Tt,hI]]},aq={provide:qc,useFactory:iq,deps:[[new Tt,hI],ur]};function Tre(t,...e){return Me("angularfire",Jr.full,"auth"),Vt([aq,sq,{provide:hI,useFactory:oq(t),multi:!0,deps:[ve,xe,Xr,so,[new Tt,As],...e]}])}var Cre=De(CM,!0);var bre=De(iI,!0);var Are=De(oI,!0,2);var Sre=De(dI,!0);var Nre=De(aI,!0,2);var Rre=De(sI,!0,2);var Mre=De(uI,!0,2);var gf=function(){return gf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},gf.apply(this,arguments)};var lq={includeMetadataChanges:!1};function fI(t,e){return e===void 0&&(e=lq),new Q(function(n){var r=mE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function AM(t){return fI(t,{includeMetadataChanges:!0})}function SM(t,e){return e===void 0&&(e={}),AM(t).pipe(Et(function(n){return pI(n,e)}))}function pI(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:gf(gf({},r),(n={},n[e.idField]=t.id,n))}function NM(t){return fI(t,{includeMetadataChanges:!0}).pipe(Et(function(e){return e.docs}))}function RM(t,e){return e===void 0&&(e={}),NM(t).pipe(Et(function(n){return n.map(function(r){return pI(r,e)})}))}var Gc=class{constructor(e){return e}},MM="firestore",gI=class{constructor(){return bs(MM)}};var mI=new B("angularfire2.firestore-instances");function dq(t,e){let n=Pc(MM,t,e);return n&&new Gc(n)}function hq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Gc(r)}}var fq={provide:gI,deps:[[new Tt,mI]]},pq={provide:Gc,useFactory:dq,deps:[[new Tt,mI],ur]};function Uie(t,...e){return Me("angularfire",Jr.full,"fst"),Vt([pq,fq,{provide:mI,useFactory:hq(t),multi:!0,deps:[ve,xe,Xr,so,[new Tt,zc],[new Tt,As],...e]}])}var $ie=De(RM,!0);var Hie=De(SM,!0);var qie=De(mR,!0,2);var zie=De(XN,!0,2);var Gie=De(fE,!0,2);var Wie=De(hR,!0);var Kie=De(fR,!0);var Qie=De(eR,!0);var Yie=De(uR,!0,2),Zie=De(aR,!0,2);var Jie=De(pR,!0,2);var Xie=De(gR,!0,2);var eoe=De(cR,!0,2);export{ke as a,Dw as b,Q as c,Qf as d,Yf as e,rt as f,Qs as g,di as h,_t as i,Vw as j,CP as k,bP as l,Bn as m,gP as n,Et as o,kP as p,fi as q,Xs as r,xu as s,FP as t,tp as u,LP as v,Ir as w,VP as x,zw as y,jP as z,BP as A,ea as B,np as C,Ww as D,HP as E,qP as F,rp as G,zP as H,Kw as I,Qw as J,op as K,GP as L,WP as M,Yw as N,Zw as O,KP as P,QP as Q,YP as R,V as S,mn as T,Zt as U,ae as V,zn as W,sx as X,B as Y,Ae as Z,O as _,Vt as $,_D as aa,Bp as ba,wt as ca,Ar as da,OD as ea,FD as fa,KD as ga,QD as ha,xe as ia,kr as ja,Rt as ka,qn as la,$t as ma,Px as na,ag as oa,Mt as pa,Ni as qa,Tt as ra,Li as sa,zl as ta,om as ua,sn as va,Pl as wa,dk as xa,hk as ya,nC as za,am as Aa,pk as Ba,gk as Ca,Vo as Da,Ho as Ea,um as Fa,Dk as Ga,Tk as Ha,Ck as Ia,bk as Ja,Ak as Ka,lm as La,Hk as Ma,Wl as Na,fC as Oa,Gk as Pa,vO as Qa,Sa as Ra,Fr as Sa,Ra as Ta,Vi as Ua,X as Va,m1 as Wa,Vr as Xa,jr as Ya,Oi as Za,cb as _a,ub as $a,X1 as ab,Br as bb,ze as cb,La as db,qt as eb,dF as fb,fb as gb,qo as hb,st as ib,ve as jb,yb as kb,CF as lb,vb as mb,_b as nb,bF as ob,Eb as pb,ji as qb,AF as rb,wb as sb,zo as tb,$m as ub,NF as vb,RF as wb,Cb as xb,qm as yb,zm as zb,bb as Ab,Gm as Bb,Wm as Cb,Ab as Db,OF as Eb,Sb as Fb,Bi as Gb,BF as Hb,$F as Ib,HF as Jb,zF as Kb,GF as Lb,WF as Mb,KF as Nb,QF as Ob,YF as Pb,ZF as Qb,JF as Rb,xb as Sb,ja as Tb,uL as Ub,EL as Vb,Bb as Wb,Qm as Xb,Ub as Yb,$b as Zb,Hb as _b,TL as $b,qb as ac,CL as bc,Ur as cc,RL as dc,xL as ec,OL as fc,FL as gc,LL as hc,VL as ic,BL as jc,Ba as kc,Ct as lc,Yn as mc,Yb as nc,Jb as oc,PJ as pc,xJ as qc,kJ as rc,$a as sc,OJ as tc,FJ as uc,uy as vc,yV as wc,LJ as xc,VJ as yc,jJ as zc,$i as Ac,_V as Bc,ly as Cc,EV as Dc,Go as Ec,fA as Fc,pA as Gc,TV as Hc,LV as Ic,RA as Jc,VV as Kc,jV as Lc,$V as Mc,qV as Nc,GV as Oc,WV as Pc,KV as Qc,vy as Rc,XX as Sc,QV as Tc,eee as Uc,tee as Vc,nee as Wc,Sd as Xc,qA as Yc,xA as Zc,Hi as _c,Cee as $c,bee as ad,w2 as bd,C2 as cd,See as dd,A2 as ed,N2 as fd,M2 as gd,Nee as hd,Ree as id,Mee as jd,g0 as kd,zi as ld,Fd as md,m0 as nd,Ld as od,xt as pd,Ce as qd,yt as rd,ln as sd,Xo as td,At as ud,qr as vd,Zy as wd,Wi as xd,Me as yd,kte as zd,Jr as Ad,Pc as Bd,bs as Cd,Xr as Dd,De as Ed,ur as Fd,so as Gd,Xte as Hd,ene as Id,As as Jd,dI as Kd,qc as Ld,zc as Md,Tre as Nd,Cre as Od,bre as Pd,Are as Qd,Sre as Rd,Nre as Sd,Rre as Td,Mre as Ud,XN as Vd,fE as Wd,eR as Xd,gR as Yd,Gc as Zd,Uie as _d,$ie as $d,Hie as ae,qie as be,zie as ce,Gie as de,Wie as ee,Kie as fe,Qie as ge,Yie as he,Zie as ie,Jie as je,Xie as ke,eoe as le};
